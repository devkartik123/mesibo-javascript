/*
 this.callctx && CALLSTATUS_OFFER == m.status && */
var $S;function $Saa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function $Sa(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:$Saa(a)}}function $Sba(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var d=a[b];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");}
var $Sb=$Sba(this),$Sca="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){if(a==Array.prototype||a==Object.prototype)return a;a[b]=d.value;return a};function $Sc(a,b){if(b){var d=$Sb;a=a.split(".");for(var e=0;e<a.length-1;e++){var f=a[e];f in d||(d[f]={});d=d[f]}a=a[a.length-1];e=d[a];b=b(e);b!=e&&null!=b&&$Sca(d,a,{configurable:!0,writable:!0,value:b})}}
$Sc("Promise",function(a){function b(k){this.H=0;this.ta=void 0;this.j=[];var l=this.N();try{k(l.resolve,l.reject)}catch(n){l.reject(n)}}function d(){this.j=null}function e(k){return k instanceof b?k:new b(function(l){l(k)})}if(a)return a;d.prototype.H=function(k){if(null==this.j){this.j=[];var l=this;this.N(function(){l.ta()})}this.j.push(k)};var f=$Sb.setTimeout;d.prototype.N=function(k){f(k,0)};d.prototype.ta=function(){for(;this.j&&this.j.length;){var k=this.j;this.j=[];for(var l=0;l<k.length;++l){var n=
k[l];k[l]=null;try{n()}catch(q){this.X(q)}}}this.j=null};d.prototype.X=function(k){this.N(function(){throw k;})};b.prototype.N=function(){function k(q){return function(z){n||(n=!0,q.call(l,z))}}var l=this,n=!1;return{resolve:k(this.Le),reject:k(this.X)}};b.prototype.Le=function(k){if(k===this)this.X(new TypeError("A Promise cannot resolve to itself"));else if(k instanceof b)this.Ne(k);else{a:switch(typeof k){case "object":var l=null!=k;break a;case "function":l=!0;break a;default:l=!1}l?this.wd(k):
this.ab(k)}};b.prototype.wd=function(k){var l=void 0;try{l=k.then}catch(n){this.X(n);return}"function"==typeof l?this.Ed(l,k):this.ab(k)};b.prototype.X=function(k){this.xb(2,k)};b.prototype.ab=function(k){this.xb(1,k)};b.prototype.xb=function(k,l){if(0!=this.H)throw Error("Cannot settle("+k+", "+l+"): Promise already settled in state"+this.H);this.H=k;this.ta=l;this.bc()};b.prototype.bc=function(){if(null!=this.j){for(var k=0;k<this.j.length;++k)h.H(this.j[k]);this.j=null}};var h=new d;b.prototype.Ne=
function(k){var l=this.N();k.Te(l.resolve,l.reject)};b.prototype.Ed=function(k,l){var n=this.N();try{k.call(l,n.resolve,n.reject)}catch(q){n.reject(q)}};b.prototype.then=function(k,l){function n(D,K){return"function"==typeof D?function(m){try{q(D(m))}catch(w){z(w)}}:K}var q,z,A=new b(function(D,K){q=D;z=K});this.Te(n(k,q),n(l,z));return A};b.prototype.catch=function(k){return this.then(void 0,k)};b.prototype.Te=function(k,l){function n(){switch(q.H){case 1:k(q.ta);break;case 2:l(q.ta);break;default:throw Error("Unexpected state: "+
q.H);}}var q=this;null==this.j?h.H(n):this.j.push(n)};b.resolve=e;b.reject=function(k){return new b(function(l,n){n(k)})};b.race=function(k){return new b(function(l,n){for(var q=$Sa(k),z=q.next();!z.done;z=q.next())e(z.value).Te(l,n)})};b.all=function(k){var l=$Sa(k),n=l.next();return n.done?e([]):new b(function(q,z){function A(m){return function(w){D[m]=w;K--;0==K&&q(D)}}var D=[],K=0;do D.push(void 0),K++,e(n.value).Te(A(D.length-1),z),n=l.next();while(!n.done)})};return b});
function $Sda(){$Sda=function(){};$Sb.Symbol||($Sb.Symbol=$Sea)}function $Sfa(a,b){this.j=a;$Sca(this,"description",{configurable:!0,writable:!0,value:b})}$Sfa.prototype.toString=function(){return this.j};var $Sea=function(){function a(d){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $Sfa("jscomp_symbol_"+(d||"")+"_"+b++,d)}var b=0;return a}();
function $Sga(){$Sda();var a=$Sb.Symbol.iterator;a||(a=$Sb.Symbol.iterator=$Sb.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$Sca(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $Sha($Saa(this))}});$Sga=function(){}}function $Sha(a){$Sga();a={next:a};a[$Sb.Symbol.iterator]=function(){return this};return a}function $Sia(){this.ab=!1;this.N=null;this.X=void 0;this.j=1;this.bc=this.H=0;this.ta=null}
function $Sja(a){if(a.ab)throw new TypeError("Generator is already running");a.ab=!0}$Sia.prototype.xb=function(a){this.X=a};function $Ska(a,b){a.ta={km:b,Bn:!0};a.j=a.H||a.bc}$Sia.prototype.return=function(a){this.ta={return:a};this.j=this.bc};function $Sd(a,b,d){a.j=d;return{value:b}}function $Se(a,b){a.j=b;a.H=0}function $Sf(a){a.H=0;a.ta=null}function $Sla(a){this.j=new $Sia;this.H=a}
function $Sma(a,b){$Sja(a.j);var d=a.j.N;if(d)return $Sna(a,"return"in d?d["return"]:function(e){return{value:e,done:!0}},b,a.j.return);a.j.return(b);return $Soa(a)}function $Sna(a,b,d,e){try{var f=b.call(a.j.N,d);if(!(f instanceof Object))throw new TypeError("Iterator result "+f+" is not an object");if(!f.done)return a.j.ab=!1,f;var h=f.value}catch(k){return a.j.N=null,$Ska(a.j,k),$Soa(a)}a.j.N=null;e.call(a.j,h);return $Soa(a)}
function $Soa(a){for(;a.j.j;)try{var b=a.H(a.j);if(b)return a.j.ab=!1,{value:b.value,done:!1}}catch(d){a.j.X=void 0,$Ska(a.j,d)}a.j.ab=!1;if(a.j.ta){b=a.j.ta;a.j.ta=null;if(b.Bn)throw b.km;return{value:b.return,done:!0}}return{value:void 0,done:!0}}
function $Spa(a){this.next=function(b){$Sja(a.j);a.j.N?b=$Sna(a,a.j.N.next,b,a.j.xb):(a.j.xb(b),b=$Soa(a));return b};this.throw=function(b){$Sja(a.j);a.j.N?b=$Sna(a,a.j.N["throw"],b,a.j.xb):($Ska(a.j,b),b=$Soa(a));return b};this.return=function(b){return $Sma(a,b)};$Sga();this[Symbol.iterator]=function(){return this}}
function $Sqa(a){function b(e){return a.next(e)}function d(e){return a.throw(e)}return new Promise(function(e,f){function h(k){k.done?e(k.value):Promise.resolve(k.value).then(b,d).then(h,f)}h(a.next())})}function $Sg(a){return $Sqa(new $Spa(new $Sla(a)))}$Sc("Array.prototype.find",function(a){return a?a:function(b,d){a:{var e=this;e instanceof String&&(e=String(e));for(var f=e.length,h=0;h<f;h++){var k=e[h];if(b.call(d,k,h,e)){b=k;break a}}b=void 0}return b}});
function $Sra(a,b,d){if(null==a)throw new TypeError("The 'this' value for String.prototype."+d+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+d+" must not be a regular expression");return a+""}$Sc("String.prototype.endsWith",function(a){return a?a:function(b,d){var e=$Sra(this,b,"endsWith");void 0===d&&(d=e.length);d=Math.max(0,Math.min(d|0,e.length));for(var f=b.length;0<f&&0<d;)if(e[--d]!=b[--f])return!1;return 0>=f}});
$Sc("String.prototype.repeat",function(a){return a?a:function(b){var d=$Sra(this,null,"repeat");if(0>b||1342177279<b)throw new RangeError("Invalid count value");b|=0;for(var e="";b;)if(b&1&&(e+=d),b>>>=1)d+=d;return e}});$Sc("Object.is",function(a){return a?a:function(b,d){return b===d?0!==b||1/b===1/d:b!==b&&d!==d}});
$Sc("Array.prototype.includes",function(a){return a?a:function(b,d){var e=this;e instanceof String&&(e=String(e));var f=e.length;d=d||0;for(0>d&&(d=Math.max(d+f,0));d<f;d++){var h=e[d];if(h===b||Object.is(h,b))return!0}return!1}});$Sc("String.prototype.includes",function(a){return a?a:function(b,d){return-1!==$Sra(this,b,"includes").indexOf(b,d||0)}});
$Sc("String.prototype.startsWith",function(a){return a?a:function(b,d){var e=$Sra(this,b,"startsWith"),f=e.length,h=b.length;d=Math.max(0,Math.min(d|0,e.length));for(var k=0;k<h&&d<f;)if(e[d++]!=b[k++])return!1;return k>=h}});
$Sc("Array.from",function(a){return a?a:function(b,d,e){d=null!=d?d:function(l){return l};var f=[],h="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];if("function"==typeof h){b=h.call(b);for(var k=0;!(h=b.next()).done;)f.push(d.call(e,h.value,k++))}else for(h=b.length,k=0;k<h;k++)f.push(d.call(e,b[k],k));return f}});
$Sc("String.prototype.padStart",function(a){return a?a:function(b,d){var e=$Sra(this,null,"padStart");b-=e.length;d=void 0!==d?String(d):" ";return(0<b&&d?d.repeat(Math.ceil(b/d.length)).substring(0,b):"")+e}});$Sc("Number.isFinite",function(a){return a?a:function(b){return"number"!==typeof b?!1:!isNaN(b)&&Infinity!==b&&-Infinity!==b}});$Sc("Number.isInteger",function(a){return a?a:function(b){return Number.isFinite(b)?b===Math.floor(b):!1}});$Sc("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991});
$Sc("Array.prototype.copyWithin",function(a){function b(d){d=Number(d);return Infinity===d||-Infinity===d?d:d|0}return a?a:function(d,e,f){var h=this.length;d=b(d);e=b(e);f=void 0===f?h:b(f);d=0>d?Math.max(h+d,0):Math.min(d,h);e=0>e?Math.max(h+e,0):Math.min(e,h);f=0>f?Math.max(h+f,0):Math.min(f,h);if(d<e)for(;e<f;)e in this?this[d++]=this[e++]:(delete this[d++],e++);else for(f=Math.min(f,h+e-d),d+=f-e;f>e;)--f in this?this[--d]=this[f]:delete this[--d];return this}});
function $Sh(){this.ni="application/x-www-form-urlencoded";this.Oa=null;this.json=!0;this.url=null;this.Cj=0;this.Lk=null}$Sh.prototype.wk=function(a){this.url=a};$Sh.prototype.uk=function(a,b){this.Oa=a;this.json=b};
$Sh.prototype.send=function(a,b){function d(){b&&!e.j&&(e.j=!0,e.getResponseHeader("content-type"),b(a,e.responseText))}var e=new XMLHttpRequest;e.open(this.Oa?"POST":"GET",this.url,!0);if(!(this.Oa instanceof FormData)&&(this.ni=this.json?"application/json":"application/x-www-form-urlencoded",e.setRequestHeader("Content-type",this.ni),this.Oa&&"object"==typeof this.Oa))if(this.json)this.Oa=JSON.stringify(this.Oa);else{var f="",h;for(h in this.Oa)"undefined"!=typeof this.Oa[h]&&""!==this.Oa[h]&&(f+=
h+"="+encodeURIComponent(this.Oa[h])+"&");this.Oa=f.slice(0,-1)}e.processed=!1;"undefined"!=e.onload&&"undefined"!=typeof e.onload&&(e.onload=d);e.onreadystatechange=function(){4==e.readyState&&(200!=e.status&&304!=e.status?b(a,null):d())};if("undefined"!=typeof XDomainRequest)e.onprogress=function(){},e.ontimeout=function(){},e.onerror=function(){},4!=e.readyState&&setTimeout(function(){e.send()},0);else if(4!=e.readyState)return e.send(this.Oa),!0};
function $Ssa(a){return a instanceof File?a:"object"==typeof a&&a.files?a.files[0]:(a=document.getElementById(a))&&"object"==typeof a&&a.files?a.files[0]:null}
$Sh.prototype.upload=function(a,b,d,e){var f=$Ssa(b);if(null==f)return-1;var h=f.name;if(this.Cj&&f.size>this.Cj)return f.value="",-2;if(this.Lk){h=h.substring(h.lastIndexOf(".")+1);h=h.toLowerCase();a:{var k=this.Lk;k=k.toLowerCase();k=k.split(",");for(l in k)if(k[l]==h){var l=!0;break a}l=!1}if(!l)return-3}(l=a?document.getElementById(a):null)||console.log("form not found: "+a);l?a=new FormData(l):(a=new FormData,a.append("file",f));a.append("fileid",b);a.append("name",f.name);a.append("uploadmethod",
"formdata");if(this.Oa&&"object"==typeof this.Oa)for(var n in this.Oa)a.append(n,this.Oa[n]);b=$Sa(a.entries());for(f=b.next();!f.done;f=b.next());this.Oa=a;return this.send(d,e)};$Sh.prototype.setUrl=$Sh.prototype.wk;$Sh.prototype.setPostData=$Sh.prototype.uk;$Sh.prototype.send=$Sh.prototype.send;$Sh.prototype.upload=$Sh.prototype.upload;function $Si(a,b,d){return a.hasOwnProperty(b)?a[b]:d}function $Sj(){}
function $Sta(){var a=adapter;if(!$Sua){$Sva=$Sua=!0;$Sk=a;$Swa=function(e,f){try{e.srcObject=f}catch(h){try{e.src=URL.createObjectURL(f)}catch(k){console.log("attaching player failed")}}};$Sxa=!1;$Sya=function(){};if("safari"===$Sk.browserDetails.browser&&605<=$Sk.browserDetails.version)if(RTCRtpSender&&RTCRtpSender.getCapabilities&&RTCRtpSender.getCapabilities("video")&&RTCRtpSender.getCapabilities("video").codecs&&RTCRtpSender.getCapabilities("video").codecs.length){a=$Sa(RTCRtpSender.getCapabilities("video").codecs);
for(var b=a.next();!b.done;b=a.next())if((b=b.value)&&b.mimeType&&"video/vp8"===b.mimeType.toLowerCase()){$Sxa=!0;break}$Sxa||$Sya()}else{var d=new RTCPeerConnection({});d.createOffer({offerToReceiveVideo:!0}).then(function(e){($Sxa=-1!==e.sdp.indexOf("VP8"))||$Sya();d.close();d=null})}$Sl=!1;if("firefox"===$Sk.browserDetails.browser&&59<=$Sk.browserDetails.version)$Sl=!0;else if("chrome"===$Sk.browserDetails.browser&&72<=$Sk.browserDetails.version)$Sl=!0;else if(window.RTCRtpTransceiver&&"currentDirection"in
RTCRtpTransceiver.prototype){a=new RTCPeerConnection;try{a.addTransceiver("audio"),$Sl=!0}catch(e){}a.close()}else $Sl=!1}}
function $Sza(a){a=a||{};a.Rj="function"==typeof a.Rj?a.Rj:$Sj;a.Ea="function"==typeof a.Ea?a.Ea:$Sj;a.Na="function"==typeof a.Na?a.Na:$Sj;a.nh="function"==typeof a.nh?a.nh:$Sj;a.Lf="function"==typeof a.Lf?a.Lf:$Sj;a.Kf="function"==typeof a.Kf?a.Kf:$Sj;a.ge="function"==typeof a.ge?a.ge:$Sj;a.Mc="function"==typeof a.Mc?a.Mc:$Sj;a.Sj="function"==typeof a.Sj?a.Sj:$Sj;a.Tj="function"==typeof a.Tj?a.Tj:$Sj;a.mh="function"==typeof a.mh?a.mh:$Sj;a.nd="function"==typeof a.nd?a.nd:$Sj;a.kd="function"==typeof a.kd?
a.kd:$Sj;a.Cg="function"==typeof a.Cg?a.Cg:$Sj;a.ld=function(){a.Ea(this.e)}}
function $SAa(a,b){function d(m){var w={high:9E5,gd:5E5,low:2E5};void 0!==m&&null!==m&&(m.high&&(w.high=m.high),m.gd&&(w.gd=m.gd),m.low&&(w.low=m.low));return w}function e(m,w,v){function t(E){E=E.target.label;if("open"===(x.Sa[E]?x.Sa[E].readyState:"null")&&x.Sa[E].pending&&0<x.Sa[E].pending.length){for(var L=$Sa(x.Sa[E].pending),F=L.next();!F.done;F=L.next())x.Sa[E].send(F.value);x.Sa[E].pending=[]}}var x=this.cb;x.Sa[m]=w?w:x.w.createDataChannel(m,{ordered:!0});x.Sa[m].onmessage=function(){};x.Sa[m].onopen=
t;x.Sa[m].onclose=t;x.Sa[m].onerror=function(){};x.Sa[m].pending=[];v&&x.Sa[m].pending.push(v)}function f(m){for(var w=m.split("\r\n"),v=!1,t=[-1],x=[-1],E=null,L=null,F=null,O=null,M=-1,I=0;I<w.length;I++){var G=w[I].match(/m=(\w+) */);if(G)if(G=G[1],"video"===G)if(0>t[0])v=!0;else{M=I;break}else{if(-1<t[0]){M=I;break}}else if(v)if(G=w[I].match(/a=ssrc-group:FID (\d+) (\d+)/))t[0]=G[1],x[0]=G[2],w.splice(I,1),I--;else{if(t[0]){(G=w[I].match("a=ssrc:"+t[0]+" cname:(.+)"))&&(E=G[1]);(G=w[I].match("a=ssrc:"+
t[0]+" msid:(.+)"))&&(L=G[1]);(G=w[I].match("a=ssrc:"+t[0]+" mslabel:(.+)"))&&(F=G[1]);(G=w[I].match("a=ssrc:"+t[0]+" label:(.+)"))&&(O=G[1]);if(0===w[I].indexOf("a=ssrc:"+x[0])){w.splice(I,1);I--;continue}if(0===w[I].indexOf("a=ssrc:"+t[0])){w.splice(I,1);I--;continue}}0==w[I].length&&(w.splice(I,1),I--)}}if(0>t[0])for(M=-1,v=!1,I=0;I<w.length;I++)if(G=w[I].match(/m=(\w+) */))if(G=G[1],"video"===G)if(0>t[0])v=!0;else{M=I;break}else{if(-1<t[0]){M=I;break}}else if(v){if(0>t[0]){if(G=w[I].match(/a=ssrc:(\d+)/)){t[0]=
G[1];w.splice(I,1);I--;continue}}else{(G=w[I].match("a=ssrc:"+t[0]+" cname:(.+)"))&&(E=G[1]);(G=w[I].match("a=ssrc:"+t[0]+" msid:(.+)"))&&(L=G[1]);(G=w[I].match("a=ssrc:"+t[0]+" mslabel:(.+)"))&&(F=G[1]);(G=w[I].match("a=ssrc:"+t[0]+" label:(.+)"))&&(O=G[1]);if(0===w[I].indexOf("a=ssrc:"+x[0])){w.splice(I,1);I--;continue}if(0===w[I].indexOf("a=ssrc:"+t[0])){w.splice(I,1);I--;continue}}0===w[I].length&&(w.splice(I,1),I--)}if(0>t[0])return m;0>M&&(M=w.length);t[1]=Math.floor(4294967295*Math.random());
t[2]=Math.floor(4294967295*Math.random());x[1]=Math.floor(4294967295*Math.random());x[2]=Math.floor(4294967295*Math.random());for(I=0;I<t.length;I++)E&&(w.splice(M,0,"a=ssrc:"+t[I]+" cname:"+E),M++),L&&(w.splice(M,0,"a=ssrc:"+t[I]+" msid:"+L),M++),F&&(w.splice(M,0,"a=ssrc:"+t[I]+" mslabel:"+F),M++),O&&(w.splice(M,0,"a=ssrc:"+t[I]+" label:"+O),M++),E&&(w.splice(M,0,"a=ssrc:"+x[I]+" cname:"+E),M++),L&&(w.splice(M,0,"a=ssrc:"+x[I]+" msid:"+L),M++),F&&(w.splice(M,0,"a=ssrc:"+x[I]+" mslabel:"+F),M++),
O&&(w.splice(M,0,"a=ssrc:"+x[I]+" label:"+O),M++);w.splice(M,0,"a=ssrc-group:FID "+t[2]+" "+x[2]);w.splice(M,0,"a=ssrc-group:FID "+t[1]+" "+x[1]);w.splice(M,0,"a=ssrc-group:FID "+t[0]+" "+x[0]);w.splice(M,0,"a=ssrc-group:SIM "+t[0]+" "+t[1]+" "+t[2]);m=w.join("\r\n");m.endsWith("\r\n")||(m+="\r\n");return m}function h(m){return m?!1===m.audio?!1:void 0===m.audio.send||null===m.audio.send?!0:!0===m.audio.send:!0}function k(m){return m?!1===m.audio?!1:void 0===m.audio.Ca||null===m.audio.Ca?!0:!0===
m.audio.Ca:!0}function l(m){return m?!1===m.video?!1:void 0===m.video.send||null===m.video.send?!0:!0===m.video.send:!0}function n(m){return m?!1===m.video?!1:void 0===m.video.Ca||null===m.video.Ca?!0:!0===m.video.Ca:!0}$Sza(b);if(!$Sua)return{};if(!window.RTCPeerConnection)return b.Ea(this,"mesibo calls are not supported by this browser"),{};var q=a.iceServers||[{urls:"stun:stun.l.google.com:19302"}],z=a.iceTransportPolicy,A=a.bundlePolicy,D=!0===a.mq;this.$e=!0;this.K=b;this.options=a;this.Uc=null;
void 0!==a.$e&&null!==a.$e&&(this.$e=!0===a.$e);this.cb={ec:!1,G:null,Sc:!1,Ta:null,Lc:null,Dj:null,w:null,Sa:{},am:null,Fe:!0,rf:!1,volume:{value:null,O:null},bitrate:{value:null,Pl:null,Ol:null,Ip:null,Hp:null,O:null}};this.send=function(){this.Iq()};this.dtmf=function(){this.Hq()};this.ep=function(m){this.setRemoteDescription(m)};this.za=function(){this.mi()};var K=this;this.kd=function(m){var w=this.cb;w.w&&w.xh?m&&!0!==m.completed?w.w.addIceCandidate(m):w.w.addIceCandidate(null):(w.hb||(w.hb=
[]),w.hb.push(m))};this.Gb=function(){return this.ea};this.Tm=function(){if(this.cb.w.getSenders()&&this.cb.w.getSenders().length)for(var m=$Sa(this.cb.w.getSenders()),w=m.next();!w.done;w=m.next())if((w=w.value)&&w.track&&"video"===w.track.kind)return w;return null};this.createOffer=function(m,w){this.ea=w;this.ek(m,null)};this.createAnswer=function(m,w,v){this.ea=v;this.ek(m,w)};this.close=function(){this.mi()};this.vc=function(m,w,v){if(void 0!=v&&null!=v){var t={};w.stream?t.stream=w.stream:(t.source=
w.video.source,t.wa=w.video.wa,t.video=w.video.send,t.audio=w.audio.send);this.K.Lf(this,t)}var x=this.cb,E=this;t=!1;if(x.G&&w.update&&!x.Sc){if((!w.update&&h(w)||w.update&&(w.audio.add||w.audio.replace))&&v.getAudioTracks()&&v.getAudioTracks().length)if(x.G.addTrack(v.getAudioTracks()[0]),$Sl){var L=null,F=x.w.getTransceivers();if(F&&0<F.length){var O=$Sa(F);for(F=O.next();!F.done;F=O.next())if(F=F.value,F.sender&&F.sender.track&&"audio"===F.sender.track.kind||F.receiver&&F.receiver.track&&"audio"===
F.receiver.track.kind){L=F;break}}L&&L.sender?L.sender.replaceTrack(v.getAudioTracks()[0]):x.w.addTrack(v.getAudioTracks()[0],v)}else x.w.addTrack(v.getAudioTracks()[0],v);if((!w.update&&l(w)||w.update&&(w.video.add||w.video.replace))&&v.getVideoTracks()&&v.getVideoTracks().length){if(this.Uc){try{x.G.removeTrack(this.Uc),this.Uc.stop()}catch(G){}this.Uc=null}x.G.addTrack(v.getVideoTracks()[0]);if($Sl){L=null;if((F=x.w.getTransceivers())&&0<F.length)for(O=$Sa(F),F=O.next();!F.done;F=O.next())if(F=
F.value,F.sender&&F.sender.track&&"video"===F.sender.track.kind||F.receiver&&F.receiver.track&&"video"===F.receiver.track.kind){L=F;break}L&&L.sender?L.sender.replaceTrack(v.getVideoTracks()[0]):x.w.addTrack(v.getVideoTracks()[0],v)}else x.w.addTrack(v.getVideoTracks()[0],v)}}else x.G=v,t=!0;if(!x.w){L={iceServers:q,iceTransportPolicy:z,bundlePolicy:A};"chrome"===$Sk.browserDetails.browser&&(L.sdpSemantics=72>$Sk.browserDetails.version?"plan-b":"unified-plan");F={optional:[{DtlsSrtpKeyAgreement:!0}]};
D&&F.optional.push({googIPv6:!0});if(b.Ch&&"object"===typeof b.Ch)for(var M in b.Ch)F.optional.push(b.Ch[M]);"edge"===$Sk.browserDetails.browser&&(L.bundlePolicy="max-bundle");x.w=new RTCPeerConnection(L,F);x.w.getStats&&(x.volume={},x.bitrate.value="0 kbits/sec");x.w.oniceconnectionstatechange=function(){x.w&&E.K.Kf(E,x.w.iceConnectionState)};x.w.onicecandidate=function(G){!G.candidate||"edge"===$Sk.browserDetails.browser&&0<G.candidate.candidate.indexOf("endOfCandidates")?(x.rf=!0,!0===x.Fe?E.kk(null):
E.Jo()):(G={candidate:G.candidate.candidate,sdpMid:G.candidate.sdpMid,sdpMLineIndex:G.candidate.sdpMLineIndex},!0===x.Fe&&E.kk(G))};x.w.ontrack=function(G){G.streams&&(x.Ta=G.streams[0],x.Ta.getTracks(),E.K.Mc(E,x.Ta,!0,!0),G.track.onended||(G.track.onended=function(Q){x.Ta&&(x.Ta.removeTrack(Q.target),E.K.Mc(E,x.Ta,!1,!1))},G.track.onmute=function(){x.Ta&&E.K.Mc(E,x.Ta,!1,!1)},G.track.onunmute=function(){try{E.K.Mc(E,x.Ta,!1,!0)}catch(Q){}}))}}if(t&&v){var I=!0===w.sp;v.getTracks().forEach(function(G){if(I)if("audio"===
G.kind)x.w.addTrack(G,v);else{var Q=d(w.Ak);x.w.addTransceiver(G,{direction:"sendrecv",streams:[v],sendEncodings:[{rid:"f",active:!0,maxBitrate:Q.high},{rid:"h",active:!0,maxBitrate:Q.gd,scaleResolutionDownBy:2},{rid:"q",active:!0,maxBitrate:Q.low,scaleResolutionDownBy:4}]})}else x.w.addTrack(G,v)})}("edge"===$Sk.browserDetails.browser||void 0===w||null===w?0:!0===w.data)&&!x.Sa[$SAa.j]&&(e($SAa.j,!1),x.w.ondatachannel=function(G){e(G.channel.label,G.channel)});if(x.G&&(E.K.ge(E,x.G,!0),M=x.G.getTracks()))for(M=
$Sa(M),t=M.next();!t.done;t=M.next())if((t=t.value)&&"video"===t.kind){t.onended=function(){E.K.ge(E,x.G,!1)};break}m?x.w.setRemoteDescription(m).then(function(){x.xh=m.sdp;if(x.hb&&0<x.hb.length){for(var G=0;G<x.hb.length;G++){var Q=x.hb[G];Q&&!0!==Q.completed?x.w.addIceCandidate(Q):x.w.addIceCandidate(null)}x.hb=[]}E.Wl(w)},function(){E.K.ld()}):this.Xl(w)};this.wf=function(m){return 4==m?!0:!1};this.oi=function(m){if(!m||!l(m))return!1;var w=this.wf(m.video.source);m.video.wa||(m.video.source&&
!w?m.video.wa=m.video.source:m.video.wa=2);var v=m.video.wa;if(8===v){var t=120;v=160}else 1==v?(t=240,v=320):9==v?(t=180,v=320):3==v?(t=720,v=1280):4==v?(t=1080,v=1920):5==v?(t=2160,v=3840):2==v?(t=480,v=640):10==v?(t=360,v=640):(t=480,v=640,m.video.wa=2);w&&1920>v&&(t=1080,v=1920);m.video.width&&0<m.video.width&&(w=v/t,v=m.video.width,m.video.height||(t=v/w));m.video.height&&0<m.video.height&&(t=m.video.height);w={height:{ideal:t},width:{ideal:v}};t=this.wf(m.video.source)?10:0;m.video.rate&&0<
m.video.rate&&(t=m.video.rate);t&&(v={},v.ideal=t,m.video.Bj&&0<m.video.Bj&&(t=m.video.Bj),v.max=t,w.frameRate=v);return w};this.ek=function(m,w){var v=this;m="object"===typeof m&&m?m:{audio:{send:!0,Ca:!0},video:{send:!0,Ca:!0}};m.video="object"===typeof m.video&&m.video?m.video:{send:!0,Ca:!0};m.audio="object"===typeof m.audio&&m.audio?m.audio:{send:!0,Ca:!0};var t=this.cb;if(t.w){m.update=!0;if(!v.K.stream){if(m.audio.add){if(m.audio.ca=!1,m.audio.replace=!1,m.audio.remove=!1,m.audio.send=!0,t.G&&
t.G.getAudioTracks()&&t.G.getAudioTracks().length){v.K.Ea(v,"audio stream already present");return}}else m.audio.remove?(m.audio.ca=!1,m.audio.replace=!1,m.audio.add=!1,m.audio.send=!1):m.audio.replace&&(m.audio.ca=!1,m.audio.add=!1,m.audio.remove=!1,m.audio.send=!0);t.G?t.G.getAudioTracks()&&0!==t.G.getAudioTracks().length?!h(m)||m.audio.remove||m.audio.replace||(m.audio.ca=!0):(m.audio.replace&&(m.audio.ca=!1,m.audio.replace=!1,m.audio.add=!0,m.audio.send=!0),h(m)&&(m.audio.ca=!1,m.audio.add=!0)):
(m.audio.replace&&(m.audio.ca=!1,m.audio.replace=!1,m.audio.add=!0,m.audio.send=!0),h(m)&&(m.audio.ca=!1,m.audio.add=!0));if(m.video.add){if(m.video.ca=!1,m.video.replace=!1,m.video.remove=!1,m.video.send=!0,t.G&&t.G.getVideoTracks()&&t.G.getVideoTracks().length){v.K.Ea(v,"video stream already present");return}}else m.video.remove?(m.video.ca=!1,m.video.replace=!1,m.video.add=!1,m.video.send=!1):m.video.replace&&(m.video.ca=!1,m.video.add=!1,m.video.remove=!1,m.video.send=!0);t.G?t.G.getVideoTracks()&&
0!==t.G.getVideoTracks().length?!l(m)||m.video.remove||m.video.replace||(m.video.ca=!0):(m.video.replace&&(m.video.ca=!1,m.video.replace=!1,m.video.add=!0,m.video.send=!0),l(m)&&(m.video.ca=!1,m.video.add=!0)):(m.video.replace&&(m.video.ca=!1,m.video.replace=!1,m.video.add=!0,m.video.send=!0),l(m)&&(m.video.ca=!1,m.video.add=!0));m.Up&&(m.data=!0)}if(h(m)&&m.audio.ca&&l(m)&&m.video.ca){v.K.Na(v,!1);v.vc(w,m,t.G);return}}else m.update=!1,m.audio.ca=!1,m.video.ca=!1;if(m.update&&!t.Sc){if(m.audio.remove||
m.audio.replace){if(t.G&&t.G.getAudioTracks()&&t.G.getAudioTracks().length){var x=t.G.getAudioTracks()[0];t.G.removeTrack(x);try{x.stop()}catch(N){}}if(t.w.getSenders()&&t.w.getSenders().length&&(x=!0,m.audio.replace&&$Sl&&(x=!1),x)){x=$Sa(t.w.getSenders());for(var E=x.next();!E.done;E=x.next())(E=E.value)&&E.track&&"audio"===E.track.kind&&t.w.removeTrack(E)}}if(m.video.remove||m.video.replace){if(t.G&&t.G.getVideoTracks()&&t.G.getVideoTracks().length)if(x=t.G.getVideoTracks()[0],!m.video.remove&&
$Sva)this.Uc=x;else{t.G.removeTrack(x);try{x.stop()}catch(N){}}if(t.w.getSenders()&&t.w.getSenders().length&&(!m.video.replace||!$Sl))for(x=$Sa(t.w.getSenders()),E=x.next();!E.done;E=x.next())(E=E.value)&&E.track&&"video"===E.track.kind&&t.w.removeTrack(E)}}if(m.stream){var L=m.stream;if(m.update&&t.G&&t.G!==b.stream&&!t.Sc){try{for(var F=t.G.getTracks(),O=$Sa(F),M=O.next();!M.done;M=O.next()){var I=M.value;I&&I.stop()}}catch(N){}t.G=null}t.Sc=!0;v.K.Na(v,!1);v.vc(w,m,L)}else if(h(m)||l(m))if(t.Sc=
!1,navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){F={mandatory:{},optional:[]};m.update||this.wf(m.video.source)||v.K.Na(v,!0);var G=h(m);G&&m&&"object"===typeof m.audio&&(G=m.audio);var Q=l(m);if(Q&&m){t=!0===m.sp;!0!==m.ye&&!t||w||m.video.source||(m.video.source=1);if(this.wf(m.video.source)){t=function(N,P,S){navigator.mediaDevices.getUserMedia(N).then(function(R){S?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(T){R.addTrack(T.getAudioTracks()[0]);P(null,
R)}):P(null,R)}).catch(function(R){this.Uc=null;v.K.Na(v,!1);P(R)})};var Y=function(N,P){v.K.Na(v,!1);N?v.K.Ea(v,N):v.vc(w,m,P)};if(navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia){F.video=this.oi(m);F.audio=m.Wp;navigator.mediaDevices.getDisplayMedia(F).then(function(N){v.K.Na(v,!1);h(m)&&!m.audio.ca?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(P){N.addTrack(P.getAudioTracks()[0]);v.vc(w,m,N)}):v.vc(w,m,N)},function(N){v.K.Na(v,!1);b.Ea(v,N)});return}"chrome"===
$Sk.browserDetails.browser?(F=$Sk.browserDetails.version,O=33,window.navigator.userAgent.match("Linux")&&(O=35),26<=F&&F<=O&&(F={video:{mandatory:{hq:!0,maxWidth:window.screen.width,maxHeight:window.screen.height,sq:m.Co,maxFrameRate:m.Co,chromeMediaSource:"screen"}},audio:h(m)&&!m.audio.ca},t(F,Y))):"firefox"===$Sk.browserDetails.browser&&(33<=$Sk.browserDetails.version?(F={video:{vq:m.video.source,mediaSource:m.video.source},audio:h(m)&&!m.audio.ca},t(F,function(N,P){Y(N,P);if(!N)var S=P.currentTime,
R=window.setInterval(function(){P||window.clearInterval(R);if(P.currentTime==S&&(window.clearInterval(R),P.onended))P.onended();S=P.currentTime},500)})):(t=Error("NavigatorUserMediaError"),t.name="Your version of Firefox does not support screen sharing, please update Firefox to the latest version",v.K.Na(v,!1),b.Ea(v,t)));return}Q=this.oi(m)}(!m||!Q&&G||4!==m.video.source)&&navigator.mediaDevices.enumerateDevices().then(function(N){var P=N.some(function(y){return"audioinput"===y.kind});N=(4==m.video.source?
!0:!1)||N.some(function(y){return"videoinput"===y.kind});var S=h(m),R=l(m),T=m&&!1!==m.audio&&!1!==m.audio.send&&void 0!==m.zi&&null!==m.zi?!0===m.zi:!1,r=m&&!1!==m.video&&!1!==m.video.send&&void 0!==m.Ai&&null!==m.Ai?!0===m.Ai:!1;if(S||R||T||r)if(S=S?P:!1,R=R?N:!1,S||R){if(!S&&T)return v.K.Na(v,!1),b.Ea(v,"No audio device found"),!1;if(!R&&r)return v.K.Na(v,!1),b.Ea(v,"No video device found"),!1}else return v.K.Na(v,!1),b.Ea(v,"No audio/video device found"),!1;P={audio:P&&!m.audio.ca?G:!1,video:N&&
!m.video.ca?Q:!1};P.audio||P.video?(N={},v.K.qo(v,N),P.video&&N.hasOwnProperty("video")&&((T=N.video)&&T.hasOwnProperty("facingMode")&&(P.video.facingMode=T.facingMode),T&&T.hasOwnProperty("deviceId")&&(P.video.deviceId=T.deviceId)),P.audio&&N.hasOwnProperty("audio")&&(N=N.audio)&&N.hasOwnProperty("deviceId")&&(P.audio.deviceId=N.deviceId),navigator.mediaDevices.getUserMedia(P).then(function(y){v.K.Na(v,!1);v.vc(w,m,y)}).catch(function(y){v.K.Na(v,!1);v.K.Ea(v,{code:y.code,name:y.name,message:y.message})})):
(v.K.Na(v,!1),v.vc(w,m,L))}).catch(function(N){this.Uc=null;v.K.Na(v,!1);b.Ea(v,"enumerateDevices error",N)})}else b.Ea(v,"getUserMedia not available");else v.vc(w,m)};this.setRemoteDescription=function(m){var w=this,v=this.cb;m?v.w?v.w.setRemoteDescription(m).then(function(){v.xh=m.sdp;if(v.hb&&0<v.hb.length){for(var t=0;t<v.hb.length;t++){var x=v.hb[t];x&&!0!==x.completed?v.w.addIceCandidate(x):v.w.addIceCandidate(null)}v.hb=[]}},function(){w.K.ld()}):w.K.Ea(w,"null pc"):w.K.Ea(w,"invalid jsep")};
this.yk=function(m,w,v,t){if(t){var x=null;m||w||!v?m&&w?x="sendrecv":m&&!w?x="sendonly":!m&&w&&(x="recvonly"):x="inactive";if(x)try{t.setDirection?t.setDirection(x):t.direction=x}catch(E){}}};this.zk=function(m){var w=null,v=null,t=this.cb.w.getTransceivers();if(t&&0<t.length){t=$Sa(t);for(var x=t.next();!x.done;x=t.next())if(x=x.value,x.sender&&x.sender.track&&"audio"===x.sender.track.kind||x.receiver&&x.receiver.track&&"audio"===x.receiver.track.kind)w||(w=x);else if(x.sender&&x.sender.track&&
"video"===x.sender.track.kind||x.receiver&&x.receiver.track&&"video"===x.receiver.track.kind)v||(v=x)}t=h(m);x=k(m);this.yk(t,x,m.audio.remove,w);w=l(m);t=n(m);this.yk(w,t,m.video.remove,v)};this.Xl=function(m){var w=this,v=this.cb,t=!0===m.ye,x={};$Sl?this.zk(m):(x.offerToReceiveAudio=k(m),x.offerToReceiveVideo=n(m));!0===m.kq&&(x.iceRestart=!0);var E=l(m);if(E&&t&&"firefox"===$Sk.browserDetails.browser){var L=v.w.getSenders().find(function(O){return"video"===O.track.kind});if(L){var F=L.getParameters();
F||(F={});m=d(m.Ak);F.encodings=[{rid:"f",active:!0,maxBitrate:m.high},{rid:"h",active:!0,maxBitrate:m.gd,scaleResolutionDownBy:2},{rid:"q",active:!0,maxBitrate:m.low,scaleResolutionDownBy:4}];L.setParameters(F)}}v.w.createOffer(x).then(function(O){O.sdp=O.sdp;E&&t&&("chrome"===$Sk.browserDetails.browser||"safari"===$Sk.browserDetails.browser)&&(O.sdp=f(O.sdp));v.Lc=O.sdp;v.w.setLocalDescription(O).catch(function(){w.K.ld()});v.Dj=x;(v.rf||v.Fe)&&w.K.nd(w,O)},function(){w.K.ld()})};this.Wl=function(m){var w=
this.cb,v=!0===m.ye,t=null;$Sl?this.zk(m):"firefox"===$Sk.browserDetails.browser||"edge"===$Sk.browserDetails.browser?t={offerToReceiveAudio:k(m),offerToReceiveVideo:n(m)}:t={mandatory:{OfferToReceiveAudio:k(m),OfferToReceiveVideo:n(m)}};l(m)&&v&&"firefox"===$Sk.browserDetails.browser&&(v=w.w.getSenders()[1],v.getParameters(),m=d(m.Ak),v.setParameters({encodings:[{rid:"high",active:!0,priority:"high",maxBitrate:m.high},{rid:"medium",active:!0,priority:"medium",maxBitrate:m.gd},{rid:"low",active:!0,
priority:"low",maxBitrate:m.low}]}));var x=this;w.w.createAnswer(t).then(function(E){var L={type:E.type,sdp:E.sdp};E.sdp=L.sdp;w.Lc=E.sdp;w.w.setLocalDescription(E).catch(function(){x.K.ld()});w.Dj=t;(w.rf||w.Fe)&&x.K.nd(x,L)},function(){x.K.ld()})};this.kk=function(m){K.K.kd(this,m)};this.Jo=function(){var m=this.cb;m.Lc&&(m.Lc={type:m.w.localDescription.type,sdp:m.w.localDescription.sdp},!1===m.Fe&&(m.Lc.trickle=!1),m.Gq=!0,K.K.nd(this,m.Lc))};this.Ga=function(m,w){var v=this.cb;if(!v.w||!v.G)return!1;
if(m){if(!v.G.getVideoTracks()||0===v.G.getVideoTracks().length)return!1;v.G.getVideoTracks()[0].enabled=!w}else{if(!v.G.getAudioTracks()||0===v.G.getAudioTracks().length)return!1;v.G.getAudioTracks()[0].enabled=!w}return!0};this.mi=function(){var m=this.cb;if(m&&m){m.Ta=null;m.volume&&(m.volume.local&&m.volume.local.O&&clearInterval(m.volume.local.O),m.volume.remote&&m.volume.remote.O&&clearInterval(m.volume.remote.O));m.volume={};m.bitrate.O&&clearInterval(m.bitrate.O);m.bitrate.O=null;m.bitrate.Pl=
null;m.bitrate.Ol=null;m.bitrate.Ip=null;m.bitrate.Hp=null;m.bitrate.value=null;try{if(!m.Sc&&m.G)for(var w=m.G.getTracks(),v=$Sa(w),t=v.next();!t.done;t=v.next()){var x=t.value;x&&x.stop()}}catch(E){}m.Sc=!1;m.G=null;try{m.w.close()}catch(E){}m.w=null;m.hb=null;m.Lc=null;m.xh=null;m.rf=!1;m.Sa={};m.am=null}}}var $Sua,$Sva,$Sk,$Swa,$Sxa,$Sya,$Sl;
function $SBa(a){return JSON.stringify(a,function(b,d){return d instanceof Int8Array||d instanceof Uint8Array||d instanceof Uint8ClampedArray||d instanceof Int16Array||d instanceof Uint16Array||d instanceof Int32Array||d instanceof Uint32Array||d instanceof Float32Array||d instanceof Float64Array?{constructor:d.constructor.name,data:Array.apply([],d),objtype:"json_encoded"}:d})}
function $SCa(a){var b="undefined"===typeof window?global:window;return JSON.parse(a,function(d,e){try{if("objtype"in e&&"json_encoded"===e.objtype)return new b[e.constructor](e.data)}catch(f){}return e})}
function $SDa(){this.address="address";this.V="age";this.channel="channel";this.data="data";this.day="day";this.Hc="extractUrlFromMessage";this.Vb="footer";this.s="groupid";this.C="gid";this.La="groupProfile";this.hour="hour";this.id="id";this.interval="interval";this.latitude="latitude";this.longitude="longitude";this.Kc="markForwarded";this.S="mesibo";this.message="message";this.Xa="messages";this.mid="mid";this.Hj="mimeType";this.min="min";this.month="month";this.name="name";this.ue="sec";this.sender=
"sender";this.status="status";this.time="time";this.ea="opaque";this.origin="origin";this.path="path";this.v="peer";this.T="presence";this.profiles="profiles";this.profile="profile";this.progress="progress";this.L="refid";this.cc="rrid";this.Pa="rts";this.sensitivity="sensitivity";this.size="size";this.source="source";this.eb="subtitle";this.Bd="subtype";this.Mb="threadid";this.title="title";this.ha="tn";this.Mb="threadid";this.i="ts";this.type="type";this.url="url";this.Vc="urlPreview";this.Ie="userdata";
this.Ke="uts";this.value="value";this.year="year";this.bi={};this.bi.Fc="The real-time communication features of this app, including chats, calls, and conferences, rely on APIs from mesibo.com. However, the subscription of mesibo service for this app has ended. You may want to let the developers know that they need to renew the mesibo subscription so that these features can keep working in this app."}function $Sm(a,b,d){return a.hasOwnProperty(b)?a[b]:d}$SDa.prototype.xk=function(a){a[this.L]=void 0};
$SDa.prototype.Vd=function(){return $Sm(void 0,this.L,void 0)};$SDa.prototype.Li=function(){return $Sm(void 0,this.mid,void 0)};$SDa.prototype.Wd=function(){return $Sm(void 0,this.uid,void 0)};
function $SEa(a,b){if(void 0===b||"undefined"===typeof b)b=1;if(null==a||"object"!=typeof a)return a;if(a instanceof Date){var d=new Date;d.setTime(a.getTime());return d}if(a instanceof Array){d=[];for(var e=0,f=a.length;e<f;e++)d[e]=$SEa(a[e],b-1);return d}if(a&&void 0!==a.byteLength)return a.slice(0);if(0==b)return null;if(a instanceof Object){d={};for(e in a)a.hasOwnProperty(e)&&(d[e]=$SEa(a[e],b-1));return d}throw Error("Unable to copy obj! type not supported.");}
function $Sn(a,b){return b in a&&"function"===typeof a[b]?!0:!1}function $SFa(a){return"[object String]"===Object.prototype.toString.call(a)}function $So(){return parseInt(Date.now())}function $Sp(){return parseInt($So()/1E3)}function $Sq(a,b,d){b+=d;return b>a?b-a:0}function $SGa(a){return"string"===typeof a||a instanceof String}function $Sr(a){return a&&void 0!==a&&"undefined"!==typeof a&&""!=a?!1:!0}function $SHa(a,b){return""==a&&""==b?!0:$Sr(a)!=$Sr(b)?!1:0==a.localeCompare(b)}
function $SIa(a){return $Sr(a)?0:a}function $Ss(a,b,d){return a.hasOwnProperty(b)?a[b]:d}function $SJa(a){return 10>a?"0"+a:""+a}function $St(a){if($Sr(a))return 0;a=parseInt(a,10);return isNaN(a)?0:a}function $SKa(a){window.addEventListener(0<=["iPad","iPhone","iPod"].indexOf(navigator.platform)?"pagehide":"beforeunload",a)}function $SLa(a){var b="";a=new Uint8Array(a);for(var d=a.byteLength,e=0;e<d;e++)b+=String.fromCharCode(a[e]);return window.btoa(b)}
function $SMa(a){a=a.split(".").pop();var b="jpg jpeg gif bmp png webp svg ico tif tiff".split(" ");var d="mp3 mp4 aac flac m4a wav wva ogg pcm".split(" ");return-1<"m4v avi mpg mp4 webm wmv mov qt mkv flv mpeg m2v 3gp".split(" ").indexOf(a)?2:-1<b.indexOf(a)?1:-1<d.indexOf(a)?3:10}var $SNa=null,$SOa="";
function $SPa(a){"undefined"!==typeof document.hidden?($SNa="hidden",$SOa="visibilitychange"):"undefined"!==typeof document.msHidden?($SNa="msHidden",$SOa="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&($SNa="webkitHidden",$SOa="webkitvisibilitychange");if("undefined"===typeof document.addEventListener||void 0===$SNa)return!1;document.addEventListener($SOa,a,!1);return!0}function $SQa(a){a=a.split(".");return 1E6*a[0]+1E4*a[1]+100*a[2]}
function $SRa(){var a=document.getElementsByTagName("script");if(!a.length)return null;for(var b=null,d=null,e=0;e<a.length;e++){var f=a[e];if(f&&f.src){f=f.src;f=f.split("?")[0];if(f.includes("https://cdn.mesibo.com/"))return null;if(f.includes("https://api.mesibo.com/"))return console.warn(f+" has been depreciated. Please refer to https://docs.mesibo.com/install/javascript/ for the new script location"),null;f.includes("mesibo.js")||f.includes("mesibo-v2.js")?b=f:f.includes("mesibo")&&(d=f)}}return b?
b:d?d:"unknown"}function $SSa(){var a=window.location.href;return a?a.split("?")[0]:a}
function $STa(){var a=navigator.userAgent,b=a.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+\.?\d+)/i)||[];if(/trident/i.test(b[1])){var d=/\brv[ :]+(\d+)/g.exec(a)||[];return{name:"IE",version:d[1]||""}}if("Chrome"===b[1]&&(d=a.match(/\bOPR|Edge\/(\d+\.?\d+)/),null!=d))return{name:"Opera",version:d[1]};b=b[2]?[b[1],b[2]]:[navigator.appName,navigator.appVersion,"-?"];null!=(d=a.match(/version\/(\d+\.?\d+)/i))&&b.splice(1,1,d[1]);return{name:b[0],version:b[1]}}
function $SUa(a){if(!$SGa(a))return!1;a=a.trim();if(!a.startsWith("https:")&&!a.startsWith("http:"))return!1;try{var b=new URL(a)}catch(d){return!1}return"http:"===b.protocol||"https:"===b.protocol}
function $SVa(a){try{var b=new URL(a)}catch(d){return null}if("http:"!==b.protocol&&"https:"!==b.protocol)return null;a=new URLSearchParams(b.search);a.delete("fbclid");a.delete("igshid");a.delete("gclid");a.delete("msclkid");a.delete("trackid");a.delete("tctx");a.delete("utm_term");a.delete("utm_source");a.delete("utm_medium");a.delete("utm_campaign");return{protocol:b.protocol,host:b.hostname,path:b.pathname,query:a.toString()}}
function $SWa(a,b){var d,e,f,h;$Sg(function(k){if(1==k.j)return d=(new TextEncoder).encode(a),$Sd(k,crypto.subtle.digest("SHA-256",d),2);e=k.X;f=Array.from(new Uint8Array(e));h=f.map(function(l){return l.toString(16).padStart(2,"0")}).join("");b&&b(h);return k.return(h)})}
function $SXa(a,b){var d=$SVa(a);if(d){var e=d.path;e&&e.length?e=e.replace(/\/+$/,""):e="";e=e+"?"+(d.query?d.query:"");var f="";$SWa(d.host,function(h){var k=d.host.length;8>k&&(k=8);31<k&&(k=31);f=h.substring(0,k);$SWa(e,function(l){var n=e.length;16>n&&(n=16);31<n&&(n=31);l=l.substring(0,n);b(f+"-"+l)})})}else b(null)}function $Su(a){if(!a)return"";for(var b=a.byteLength;0<b&&!a[b-1];)b--;try{return(new TextDecoder("utf-8")).decode(a.slice(0,b))}catch(d){return""}}
function $SYa(a,b){return a+parseInt(Math.floor(Math.random()*(b-a)))}function $SZa(a,b){var d=$So()+a;100<a&&(a=100);setTimeout(function(){var e=$So();b(e>=d)||e>=d||$SZa(d-e,b)},a)}function $S_a(){this.F=null;this.host="";this.port=0;this.url="";this.lb=null;this.stopped=0;this.H=!1;this.zb=[];this.j=this.X=2E4;this.N=0;this.O=-1;this.ya=this.ta=0;this.error=!1;this.sa=0}$S=$S_a.prototype;$S.start=function(){this.stopped=0;$S0a(this)};function $S1a(a,b){a.stopped=0;$S2a(a,b)}
$S.stop=function(){$S3a(this);this.stopped=1;this.disconnect()};$S.Kh=function(a,b,d){this.host=b;this.port=d;this.url=(a?"wss":"ws")+"://"+b+":"+d};function $S2a(a,b){$S3a(a);a.ta=$So()+b;a.O=window.setTimeout(function(){$S0a(a)},b)}function $S3a(a){-1!=a.O&&clearInterval(a.O);a.O=-1;a.ta=0}$S.th=function(){if(!this.F&&!this.stopped){var a=$Sp()-this.sa;5>a?$S1a(this,5-a):($S3a(this),$S0a(this))}};$S.$g=function(){return null!=this.F?this.F.readyState:!1};
$S.send=function(a){if(!this.F)return!1;try{this.F.send(a)}catch(b){return!1}};$S.Fa=function(a){var b=this,d;return $Sg(function(e){1==e.j&&(b.ya+=a.byteLength,b.N=$So(),b.lb&&b.zb.push(a));if(4!=e.j){if(!b.lb){e.j=0;return}if(!b.zb.length||b.H)return e.return();d=b.zb.shift();b.H=!0;return $Sd(e,$S4a(b.lb,d),4)}b.H=!1;e.j=2})};
function $S5a(a){a.F=null;var b=!0;null!=a.lb&&(b=a.lb,$S6a(b),$S7a(b),$Sv(b,2,0),b=b.kc||b.stopped||b.ve?!1:!0);if(b&&a.ta<$So()&&!a.stopped){b=$So()-a.N;var d=0;b<a.X&&(d=a.X-b);if(a.error||!a.N)d=a.j,a.j+=5E3,6E4<a.j&&(a.j=6E4);d=3E3+d*Math.random();$S2a(a,d)}}$S.Ea=function(){this.error=!0;if(null!=this.lb){var a=this.lb;0<a.g.r.e&&(a.g.r.e>a.g.r.me?a.g.r.e-=a.g.r.me:a.g.r.e=0,$Sw(a))}$S5a(this)};
function $S0a(a){if(!a.stopped&&($S3a(a),!a.F||!a.F.S.connecting)){a.disconnect();try{if(null==a.lb||$S8a(a.lb))a.sa=$So(),a.ya=0,a.error=!1,a.F=new WebSocket(a.url),a.F&&(a.F.S={},a.F.S.instance=a,a.F.S.i=a.sa,a.F.S.Uj=!1,a.F.S.closed=!1,a.F.S.connecting=!0),a.F.binaryType="arraybuffer",a.F.onopen=function(b){b=b.target;if(b.readyState===WebSocket.OPEN&&b.S&&b.S.i==a.sa&&!b.S.Uj&&!b.S.closed&&(b.S.connecting=!1,b.S.Uj=!0,$S3a(a),a.j=a.X,null!=a.lb)){b=a.lb;b.bb=0;b.Rb++;b.io=$So();var d=1E4*b.Rb;
9E4<d&&(d=9E4);2E4>d&&(d=2E4);d=$SYa(parseInt(d/4),d);b.g.o.Qa=$So()+d;0==b.uid&&$S9a(b,b.Bb);if(0==b.uid)b.kc=1;else{d=new $Sx($Sy);d.Y=1;d.result=1;d.id=1429252608;$Sz(d,3,b.na,4);$Sz(d,6,1,1);var e=parseInt(b.g.tb);$Sz(d,17,e,4);$Sz(d,8,5,1);$Sz(d,29,1709143221,4);var f=parseInt(b.g.o.pd),h=parseInt(b.g.o.se);$Sz(d,19,parseInt(b.g.o.i),4);0<f&&h>f&&$Sz(d,18,h-f,4);$Sz(d,30,b.na+e+5+1709143221,4);e&&b.je&&e!=b.je&&$Sz(d,34,b.je,4);b.uid&&b.Pf&&b.uid!=b.Pf&&$Sz(d,33,b.Pf,4);b.g.va.uid&&$Sz(d,13,
b.g.va.uid,4);$Sz(d,15,b.version,4);$Sz(d,14,b.Xe,4);b.Dh&&($SA(d,40,b.Dh),b.ik&&$SA(d,41,b.ik),b.Dh=null);b.Xc||$Sz(d,60,b.g.r.We,4);b.send(d)}}},a.F.onclose=function(b){b=b.target;b.S&&b.S.i==a.sa&&!b.S.closed&&(b.S.connecting=!1,b.S.closed=!0,$S5a(a))},a.F.onmessage=function(b){var d;return $Sg(function(e){d=b.target;return!d.S||d.S.i!=a.sa||d.S.closed?e.return():$Sd(e,a.Fa(b.data),0)})},a.F.onerror=function(b){b=b.target;b.S&&b.S.i==a.sa&&!b.S.closed&&(b.S.connecting=!1,b.S.closed=!0,a.Ea())}}catch(b){a.F&&
a.F.S&&(a.F.S.connecting=!1,a.F.S.closed=!0),a.Ea()}}}$S.disconnect=function(){this.H=!1;this.zb=[];this.F&&($S3a(this),this.F.S.closed=!0,this.F.onclose=function(){},this.F.onerror=function(){},this.F.onopen=function(){},this.F.onmessage=function(){},this.F.close(1E3),this.F=null,this.H=!1,this.zb=[])};function $S$a(a){this.enabled=!1;this.h=a;this.O=null;this.id=$SYa(0,2147483647)}$S=$S$a.prototype;
$S.enable=function(a,b){this.enabled=b;this.uid=a;if(b){this.interval={};this.interval.yg=1E3;this.interval.keepalive=1E3;this.interval.R=3*this.interval.keepalive;this.interval.Oh=0;this.active=!1;this.hi=!0;this.i={};this.i.yg=$So();this.i.active=$So();this.i.sc=$So();this.i.background=$So();this.i.ih=$So();this.i.start=0;this.i.v=0;this.i.Oh=0;this.connection={};this.connection.status=0;this.connection.value=0;this.D={};this.D.i=0;this.D.ga=0;this.D.po=null;this.D.json=null;this.D.name=null;this.ie=
{};this.Gc=0;var d=this;this.channel=new BroadcastChannel("mesibo-tab-"+a);this.channel.addEventListener("message",function(e){d.Fa(e.data)});$SKa(function(){d.Gc=4096;$SB(d,null);d.Gc=0});this.start()}};$S.Li=function(){return this.id};
$S.kg=function(a){var b=new $Sx($SC,-1);$Sab(b,a,a.length);a=$SD(b,1);b={vg:0,Dg:0,flags:0,id:0,uid:0,Y:0,Fk:0,mid:0,oc:0,Bg:0,data:null,D:{}};b.D.i=0;b.D.po=null;b.D.json=null;b.D.name=null;if(!(null==a||0>=a.length)){for(var d in a){var e=a[d],f=e.Cb,h=e.data;switch(parseInt(e.type,10)){case 6:b.vg=$SE(h,0,h.byteLength);break;case 7:b.Dg=$SE(h,0,h.byteLength);break;case 15:b.flags=f;break;case 5:b.id=f;break;case 8:b.uid=f;break;case 9:b.Y=f;break;case 10:b.Fk=f;break;case 11:b.mid=f;break;case 13:b.oc=
f;break;case 14:b.Bg=f;break;case 12:b.data=h;break;case 17:b.D.i=$SE(h,0,h.byteLength);break;case 16:b.D.json=$SF(h,0,h.byteLength-1);break;case 18:b.D.name=$SF(h,0,h.byteLength-1)}}return b}};function $Sbb(a,b){a.active||(a.i.Oh=$So(),a.active=!0,b?$S1a(a.h.F,b):a.h.F.start())}
function $SB(a,b,d){if(a.enabled){var e=$So();if(e-a.i.v>a.interval.R&&e-a.i.start>a.interval.R)a.stop(),$Sbb(a,0);else{var f=new $Sx($Sy),h=0,k=!1;a.h.m.sc&&(a.i.active=e,h|=2);!a.active&&!k&&e-a.i.ih>a.interval.R&&($Scb(a)||(k=!0));!(a.active||a.i.v&&a.i.ih)&&e-a.i.yg>a.interval.yg&&(k=!0);$Sz(f,6,a.i.active,4);$Sz(f,5,a.id,4);$Sz(f,8,a.uid,4);$SG(a)&&($Sz(f,7,a.h.g.o.Qa,4),$Sz(f,13,a.h.m.status,4),$Sz(f,14,a.h.m.value,4));b&&($Sz(f,11,0,4),b instanceof ArrayBuffer&&(b=Array.from(new Uint8Array(b))),
$SH(f,12,b,b.length,!1),d&&(h|=16));a.D.name&&($Sdb(f,18,a.D.name),a.D.name=null);k&&$Sbb(a,300);a.active&&(h|=1);a.hi&&(h|=4);null!=a.h.b&&(h|=32);h|=a.Gc;$Sz(f,15,h,4);b=$SI(f);a.channel.postMessage(b)}}}$S.start=function(){if(!this.enabled||this.O)return!1;this.i.start=$So();$SB(this,null);this.hi=!1;var a=this;this.O=setInterval(function(){$SB(a,null)},a.interval);return!0};$S.stop=function(){this.O&&clearInterval(this.O);this.O=null};function $SG(a){return a.enabled?a.active:!0}
function $Seb(a,b){if(b.data)if(b.flags&16)$SG(a)||($S4a(a.h,b.data),b.data=null);else{$SG(a)&&a.h.F.send(b.data);var d={};d.i=$So();d.data=b.data;d.ya=b.data.length;$Sfb(a.h,d)}}
$S.Fa=function(a){if(this.enabled){var b=$So(),d=this.kg(a);if(this.uid==d.uid&&this.id!=d.id)if(d.i=b,this.i.v=b,this.ie[d.id]=d,this.start(),d.D.name&&$Sn(this.h.notify,"MesiboJS_onUserObject")&&$Sgb(this,d.D.name,function(e){this.h.notify.MesiboJS_onUserObject(d.D.name,e)}),d.flags&4)$SB(this,null);else{if(d.flags&4096){d.i=0;if(!$Scb(this)){$Sbb(this,1E3);return}return 0}d.flags&1&&500>b-this.i.Oh||(d.data&&$Seb(this,d),$SG(this)&&!(d.flags&1)||d.Fk||($SG(this)&&d.flags&1&&($Sw(this.h),this.h.F.disconnect(),
this.active=!1),d.flags&1&&(this.i.ih=$So(),d.Dg>this.h.g.o.Qa&&(this.h.g.o.Qa=d.Dg),d.oc&&d.oc!=this.connection.status&&!$SG(this)&&(this.connection.status=d.oc,this.connection.value=d.Bg,$Sv(this.h,d.oc,d.Bg)))))}}};$S.send=function(a){$SG(this)&&this.h.F.send(a);$SB(this,a,!1)};$S.th=function(){$SG(this)&&this.h.F.th()};function $Shb(a){return a.enabled?$So()-a.i.v<a.interval.R:!1}
function $Scb(a){var b=$So(),d;for(d in a.ie)if(a.ie.hasOwnProperty(d)){var e=a.ie[d];if(b-e.i>a.interval.R)delete a.ie[d];else if(e.vg>a.i.active||e.vg==a.i.active&&e.id>a.id)return!0}return!1}function $Sib(a,b,d){if(d){var e={};e.data=d;$Sjb(a.h.db,"userobj_"+b,e,function(f){f&&(a.D.name=b,$SB(a,null))})}}function $Sgb(a,b,d){$Skb(a.h.db,"userobj_"+b,function(e){e?d(e.data):d(null)})}
function $Slb(a,b,d){for(var e=[],f=Math.max(a.length,b.length),h=0,k=0;k<f||h;)h=h+(k<a.length?a[k]:0)+(k<b.length?b[k]:0),e.push(h%d),h=Math.floor(h/d),k++;return e}function $Smb(a,b,d){if(0>a)return null;if(0==a)return[];for(var e=[];;){a&1&&(e=$Slb(e,b,d));a>>=1;if(0===a)break;b=$Slb(b,b,d)}return e}
function $Snb(a,b,d){if(null===a)return null;for(var e=[],f=[1],h=0;h<a.length;h++)a[h]&&(e=$Slb(e,$Smb(a[h],f,d),d)),f=$Smb(b,f,d);if(16==d){d=e;h=0;a=[];for(e=0;e<d.length;e++)e&1?(a[h]|=d[e]<<4,h++):a[h]=d[e];return a}a="";for(h=e.length-1;0<=h;h--)a+=e[h].toString(d);return a}function $Sob(a){a:{"string"!=typeof a&&(a=a.toString());a=a.split("");for(var b=[],d=a.length-1;0<=d;d--){var e=parseInt(a[d],10);if(isNaN(e)){a=null;break a}b.push(e)}a=b}return $Snb(a,10,16)}
function $Spb(a){var b,d=0,e=[];for(b=0;b<a.length;b++)e[d++]=a[b]&15,e[d++]=a[b]>>4&15;return e}ArrayBuffer.Gp||(ArrayBuffer.Gp=function(a,b){if(!(a instanceof ArrayBuffer))throw new TypeError("Source must be an instance of ArrayBuffer");if(b<=a.byteLength)return a.slice(0,b);a=new Uint8Array(a);b=new Uint8Array(new ArrayBuffer(b));b.set(a);return b.buffer});function $SE(a,b,d){var e=0;for(--d;0<=d;d--)e=256*e+a[b+d];return e}function $Sqb(a,b){for(var d=0,e=0;4>e;e++)b[d++]=a&255,a>>>=8}
function $Srb(a,b,d,e){for(var f=0;f<b;f++)d[e++]=a[f+0]&255}function $Ssb(a,b,d,e){for(var f=0;f<b;f++)d[e++]=a.charCodeAt(f+0)}function $Stb(a){var b={low:0,high:0};a=$Sob(a);var d=a.length;if(!d)return b;var e=d;4<e&&(e=4);b.low=$SE(a,0,e);4<d&&(a=a.slice(4,d),e=d-4,4<e&&(e=4),b.high=$SE(a,0,e));return b}function $Sub(a,b){for(var d=[],e=0,f=0;4>f;f++)d[e++]=a&255,a>>>=8;for(f=0;4>f&&(d[e++]=b&255,b>>>=8,0!=b);f++);return $Snb($Spb(d),16,10)}
function $SF(a,b,d){for(var e="",f=b;f<b+d;f++){var h=parseInt(a[f],10);if(0==h)break;e+=String.fromCharCode(h)}return e}function $Svb(a,b){for(var d=[],e=0;e<b;)d.push(a[e]+256*a[e+1]+65536*a[e+2]+16777216*a[e+3]),e+=4;return d}function $Swb(a,b){for(var d=[],e=0;e<b;)d.push($SE(a,e,8)),e+=8;return d}function $Sxb(){this.data=[]}$Sxb.prototype.add=function(a){this.data.push(a)};$Sxb.prototype.remove=function(){this.data.pop()};$Sxb.prototype.first=function(){return 0==this.data.length?null:this.data.shift()};
$Sxb.prototype.size=function(){return this.data.length};
function $Syb(){function a(r,y){if(!(this instanceof a))throw Error("MesiboAes must be instanitated with `new`");y instanceof b||(y=new b(y));this.Qb=y;this.ai=null;this.ng=16;this.kb=new k(r)}function b(r){if(!(this instanceof b))throw Error("Counter must be instanitated with `new`");0===r||r||(r=1);"number"===typeof r?(this.Qb=z(16),this.Lh(r)):this.Oo(r)}function d(r,y){if(!(this instanceof d))throw Error("MesiboAes must be instanitated with `new`");if(!y)y=z(16);else if(16!=y.length)throw Error("invalid iv size (must be 16 bytes)");
this.lg=q(y,!0);this.mg=16;this.kb=new k(r)}function e(r,y,C){if(!(this instanceof e))throw Error("MesiboAes must be instanitated with `new`");if(!y)y=z(16);else if(16!=y.length)throw Error("invalid iv size (must be 16 size)");C||(C=1);this.rb=C;this.ic=q(y,!0);this.kb=new k(r)}function f(r,y){if(!(this instanceof f))return null;if(!y)y=z(16);else if(16!=y.length)throw Error("invalid iv size (must be 16 bytes)");this.Fd=q(y,!0);this.kb=new k(r)}function h(r){if(!(this instanceof h))throw Error("MesiboAes must be instanitated with `new`");
this.kb=new k(r)}function k(r){if(!(this instanceof k))throw Error("MesiboAes must be instanitated with `new`");Object.defineProperty(this,"key",{value:q(r,!0)});this.Kl()}function l(r){return parseInt(r)===r}function n(r){if(!l(r.length))return!1;for(var y=0;y<r.length;y++)if(!l(r[y])||0>r[y]||255<r[y])return!1;return!0}function q(r,y){if(r.buffer&&r instanceof Uint8Array)return y&&(r.slice?r=r.slice():r=Array.prototype.slice.call(r)),r;if(Array.isArray(r)){if(!n(r))throw Error("Array contains invalid value: "+
r);return new Uint8Array(r)}if(l(r.length)&&n(r))return new Uint8Array(r);throw Error("unsupported array-like object");}function z(r){return new Uint8Array(r)}function A(r,y,C,B,J){if(null!=B||null!=J)r.slice?r=r.slice(B,J):r=Array.prototype.slice.call(r,B,J);y.set(r,C)}function D(r){for(var y=[],C=0;C<r.length;C+=4)y.push(r[C]<<24|r[C+1]<<16|r[C+2]<<8|r[C+3]);return y}function K(r){r=q(r,!0);var y=16-r.length%16,C=z(r.length+y);A(r,C);for(r=r.length;r<C.length;r++)C[r]=y;return C}function m(r){r=
q(r,!0);if(16>r.length)return null;var y=r[r.length-1];if(16<y)return null;for(var C=r.length-y,B=0;B<y;B++)if(r[C+B]!==y)return null;y=z(C);A(r,y,0,0,C);return y}var w=function(){return{Cp:function(r){var y=[],C=0;for(r=encodeURI(r);C<r.length;){var B=r.charCodeAt(C++);37===B?(y.push(parseInt(r.substr(C,2),16)),C+=2):y.push(B)}return q(y)},Ci:function(r){for(var y=[],C=0;C<r.length;){var B=r[C];if(0==B)break;128>B?(y.push(String.fromCharCode(B)),C++):191<B&&224>B?(y.push(String.fromCharCode((B&31)<<
6|r[C+1]&63)),C+=2):(y.push(String.fromCharCode((B&15)<<12|(r[C+1]&63)<<6|r[C+2]&63)),C+=3)}return y.join("")}}}(),v=function(){return{Cp:function(r){for(var y=[],C=0;C<r.length;C+=2)y.push(parseInt(r.substr(C,2),16));return y},Ci:function(r){for(var y=[],C=0;C<r.length;C++){var B=r[C];y.push("0123456789abcdef"[(B&240)>>4]+"0123456789abcdef"[B&15])}return y.join("")}}}(),t={16:10,24:12,32:14},x=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],
E=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,
100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],L=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,
135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,
113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],F=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,
2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,
3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,
1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,
369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,
1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,
2824099068,1841019862,739644986],O=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,
2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,
3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,
1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,
133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,
574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],M=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,
2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,
1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,
3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,
1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,
4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],I=[1667474886,2088535288,2004326894,2071694838,4075949567,
1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,
404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,
1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,
3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,
623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,
2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],G=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,
1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,
3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,
337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,
775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,
2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],Q=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,
636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,
2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,
507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,
2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,
930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,
1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],Y=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239E3,1910319033,1337376481,
2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,
2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,
648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,
313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,
344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],N=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,
3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998E3,3215307299,57326082,377642221,
3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,
174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,
865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,
3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,
850817237,1817998408,3092726480],P=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,
2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,
800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,
766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,
67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,
1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],S=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,
3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,
3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,
129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,
2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,
2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],R=[0,218828297,437656594,
387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,
1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,
3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,
172466556,122466165,273792366,492483431,1047239E3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,
4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,
1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],T=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,
4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,
322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998E3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,
2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,
2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,
1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];k.prototype.Kl=function(){var r=t[this.key.length];if(null==r)throw Error("invalid key size (must be 16, 24 or 32 bytes)");
this.Ec=[];this.Pb=[];for(var y=0;y<=r;y++)this.Ec.push([0,0,0,0]),this.Pb.push([0,0,0,0]);var C=4*(r+1),B=this.key.length/4,J=D(this.key);for(y=0;y<B;y++){var W=y>>2;this.Ec[W][y%4]=J[y];this.Pb[r-W][y%4]=J[y]}W=0;for(var X=B;X<C;){y=J[B-1];J[0]=J[0]^E[y>>16&255]<<24^E[y>>8&255]<<16^E[y&255]<<8^E[y>>24&255]^x[W]<<24;W+=1;if(8!=B)y=1;else{for(y=1;y<B/2;y++)J[y]^=J[y-1];y=J[B/2-1];J[B/2]=J[B/2]^E[y&255]^E[y>>8&255]<<8^E[y>>16&255]<<16^E[y>>24&255]<<24;y=B/2+1}for(;y<B;y++)J[y]^=J[y-1];y=0;for(var U,
V;y<B&&X<C;)U=X>>2,V=X%4,this.Ec[U][V]=J[y],this.Pb[r-U][V]=J[y++],X++}for(U=1;U<r;U++)for(V=0;4>V;V++)y=this.Pb[U][V],this.Pb[U][V]=P[y>>24&255]^S[y>>16&255]^R[y>>8&255]^T[y&255]};k.prototype.encrypt=function(r){if(16!=r.length)throw Error("invalid plaintext size (must be 16 bytes)");var y=this.Ec.length-1,C=[0,0,0,0];r=D(r);for(var B=0;4>B;B++)r[B]^=this.Ec[0][B];for(var J=1;J<y;J++){for(B=0;4>B;B++)C[B]=F[r[B]>>24&255]^O[r[(B+1)%4]>>16&255]^M[r[(B+2)%4]>>8&255]^I[r[(B+3)%4]&255]^this.Ec[J][B];
r=C.slice()}C=z(16);for(B=0;4>B;B++)J=this.Ec[y][B],C[4*B]=(E[r[B]>>24&255]^J>>24)&255,C[4*B+1]=(E[r[(B+1)%4]>>16&255]^J>>16)&255,C[4*B+2]=(E[r[(B+2)%4]>>8&255]^J>>8)&255,C[4*B+3]=(E[r[(B+3)%4]&255]^J)&255;return C};k.prototype.decrypt=function(r){if(16!=r.length)throw Error("invalid ciphertext size (must be 16 bytes)");var y=this.Pb.length-1,C=[0,0,0,0];r=D(r);for(var B=0;4>B;B++)r[B]^=this.Pb[0][B];for(var J=1;J<y;J++){for(B=0;4>B;B++)C[B]=G[r[B]>>24&255]^Q[r[(B+3)%4]>>16&255]^Y[r[(B+2)%4]>>8&255]^
N[r[(B+1)%4]&255]^this.Pb[J][B];r=C.slice()}C=z(16);for(B=0;4>B;B++)J=this.Pb[y][B],C[4*B]=(L[r[B]>>24&255]^J>>24)&255,C[4*B+1]=(L[r[(B+3)%4]>>16&255]^J>>16)&255,C[4*B+2]=(L[r[(B+2)%4]>>8&255]^J>>8)&255,C[4*B+3]=(L[r[(B+1)%4]&255]^J)&255;return C};h.prototype.encrypt=function(r){r=q(r);if(0!==r.length%16)throw Error("invalid plaintext size (must be multiple of 16 bytes)");for(var y=z(r.length),C=z(16),B=0;B<r.length;B+=16)A(r,C,0,B,B+16),C=this.kb.encrypt(C),A(C,y,B);return y};h.prototype.decrypt=
function(r){r=q(r);if(0!==r.length%16)throw Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var y=z(r.length),C=z(16),B=0;B<r.length;B+=16)A(r,C,0,B,B+16),C=this.kb.decrypt(C),A(C,y,B);return y};f.prototype.encrypt=function(r){r=q(r);r=K(r);for(var y=z(r.length),C=z(16),B=0;B<r.length;B+=16){A(r,C,0,B,B+16);for(var J=0;16>J;J++)C[J]^=this.Fd[J];this.Fd=this.kb.encrypt(C);A(this.Fd,y,B)}return y};f.prototype.decrypt=function(r){r=q(r);if(0!==r.length%16)return null;for(var y=z(r.length),
C=z(16),B=0;B<r.length;B+=16){A(r,C,0,B,B+16);C=this.kb.decrypt(C);for(var J=0;16>J;J++)y[B+J]=C[J]^this.Fd[J];A(r,this.Fd,0,B,B+16)}return m(y)};e.prototype.encrypt=function(r){if(0!=r.length%this.rb)throw Error("invalid plaintext size (must be segmentSize bytes)");r=q(r,!0);for(var y,C=0;C<r.length;C+=this.rb){y=this.kb.encrypt(this.ic);for(var B=0;B<this.rb;B++)r[C+B]^=y[B];A(this.ic,this.ic,0,this.rb);A(r,this.ic,16-this.rb,C,C+this.rb)}return r};e.prototype.decrypt=function(r){if(0!=r.length%
this.rb)throw Error("invalid ciphertext size (must be segmentSize bytes)");for(var y=q(r,!0),C,B=0;B<y.length;B+=this.rb){C=this.kb.encrypt(this.ic);for(var J=0;J<this.rb;J++)y[B+J]^=C[J];A(this.ic,this.ic,0,this.rb);A(r,this.ic,16-this.rb,B,B+this.rb)}return y};d.prototype.encrypt=function(r){r=q(r,!0);for(var y=0;y<r.length;y++)16===this.mg&&(this.lg=this.kb.encrypt(this.lg),this.mg=0),r[y]^=this.lg[this.mg++];return r};d.prototype.decrypt=d.prototype.encrypt;b.prototype.Lh=function(r){if("number"!==
typeof r||parseInt(r)!=r)throw Error("invalid counter value (must be an integer)");if(r>Number.MAX_SAFE_INTEGER)throw Error("integer value out of safe range");for(var y=15;0<=y;--y)this.Qb[y]=r%256,r=parseInt(r/256)};b.prototype.Oo=function(r){r=q(r,!0);if(16!=r.length)throw Error("invalid counter bytes size (must be 16 bytes)");this.Qb=r};b.prototype.on=function(){for(var r=15;0<=r;r--)if(255===this.Qb[r])this.Qb[r]=0;else{this.Qb[r]++;break}};a.prototype.encrypt=function(r){r=q(r,!0);for(var y=
0;y<r.length;y++)16===this.ng&&(this.ai=this.kb.encrypt(this.Qb.Qb),this.ng=0,this.Qb.on()),r[y]^=this.ai[this.ng++];return r};a.prototype.decrypt=a.prototype.encrypt;return{Rp:k,Counter:b,mode:{fq:h,ki:f,Xp:e,wq:d,aq:a},Kk:{jq:v,Jp:w,random:function(r){var y,C=[];for(y=0;y<r;y++)C[y]=Math.round(255*Math.random());return C}},padding:{Aq:{zq:K,Jq:m}},Tp:{Yp:q,$p:z,Zp:A}}}var $Sy=0,$SC=1;function $Sx(a,b){void 0==b&&(b=1);this.mode=$Sy==a?$Sy:$SC;this.reset();b||(b=1);this.X=b}$S=$Sx.prototype;
$S.reset=function(){this.failed=this.H=this.start=this.N=this.j=this.da=0;this.id=this.result=this.Y=-1;this.Ef=this.C=0;this.items=this.address=null;this.buffer=new Uint8Array(32);$Sy==this.mode&&(this.da=8)};function $Szb(a,b){a.id=b;b=4;a.buffer[b++]=a.id&255;a.buffer[b++]=a.id>>8&255;a.buffer[b++]=a.id>>16&255;a.buffer[b++]=a.id>>24&255}function $SAb(a){0==a.j&&$SBb(a);return a.Y}$S.Wb=function(){return this.id};$S.Fb=function(){return this.C};$S.Ha=function(){return this.address};
function $SBb(a){var b=0;a.Y=a.buffer[b++];a.result=a.buffer[b++];b++;b++;a.id=a.buffer[b]+256*a.buffer[b+1]+65536*a.buffer[b+2]+16777216*a.buffer[b+3];a.j=b+4}function $SCb(a,b){void 0==b&&console.log("len undefined");var d=b+a.da;if(!(a.buffer.byteLength>d)){if(0<a.j&&(a.buffer.copyWithin(0,a.j,a.da-a.j),a.da-=a.j,a.j=0,d=b+a.da,a.buffer.byteLength>d))return;b=d-a.buffer.byteLength;64>b&&(b=64);b=new Uint8Array(a.buffer.byteLength+b);b.set(a.buffer);a.buffer=b}}
function $Sab(a,b,d){0==d&&(d=b.length);$SCb(a,d);a.buffer.set(new Uint8Array(b),a.da);a.da+=d}function $SI(a){return a.buffer.slice(8,a.da)}function $SD(a,b){0==b&&0==a.j&&$SBb(a);a.kg();return a.failed||$SC!=a.mode||0==a.H?null:a.items}
function $SDb(a,b,d,e,f){if(!($Sy!=a.mode||2047<b)){$SCb(a,e+8);0<f&&d&&0<e&&(e=256>d?1:65536>d?2:16777216>d?3:4294967296>d?4:1099511627776>d?5:281474976710656>d?6:72057594037927936>d?7:8);var h=0;16777215<e?h=4:65535<e?h=3:255<e?h=2:0<e&&(h=1);var k=1,l=b&31,n=0;31<b||2<h?(k=2,l|=224):5>e?(h=0,n=e):n=h+4;a.buffer[a.da++]=l|n<<5;1<k&&(a.buffer[a.da++]=b>>5|h-1<<6);h&&$SEb(a,e,h);if(f)$SEb(a,d,e);else for(b=e,e=0;e<b;e++)a.buffer[a.da++]=d[e+0]&255}}
function $SEb(a,b,d){for(var e=0;e<d;e++)a.buffer[a.da++]=b&255,b=parseInt(b/256)}function $SFb(a,b,d){for(var e=0;d--;)e*=256,e+=a.buffer[b+d]&255;return e}function $Sz(a,b,d,e){6==b?a.C=d:3==b&&(a.Ef=d);$SDb(a,b,d,e,1)}function $SGb(a,b,d){d=$Sob(d);var e=d.length;e&&$SDb(a,b,d,e,0)}function $SJ(a,b,d){void 0!=d&&null!=d&&(d=parseInt(d),0!=d&&$Sz(a,b,d,1))}
function $SH(a,b,d,e,f){if(d){4==b&&(a.address=d);if($SFa(d))if(f)d=(new TextEncoder("utf-8")).encode(d);else{f=d.length;for(var h=new Uint8Array(f),k=0;k<f;k++)h[k]=d.charCodeAt(k);d=h}else d=Uint8Array.from(d);if(0==e||void 0==e)e=d.byteLength;$SDb(a,b,d,e,0)}}function $SA(a,b,d){if(!$Sr(d)){for(var e=d.length,f=new Uint8Array(e+1),h=0;h<e;h++)f[h]=d.charCodeAt(h);f[e]=0;d=f;$SDb(a,b,d,d.byteLength,0)}}
function $Sdb(a,b,d){if(d){d=(new TextEncoder("utf-8")).encode(d);for(var e=d.length,f=new Uint8Array(e+1),h=0;h<e;h++)f[h]=d[h];f[e]=0;d=f;$SDb(a,b,d,d.byteLength,0)}}
function $SHb(a){var b={},d=a.buffer[a.j],e=d>>5,f=0;d&=31;var h=e,k=1;5==e||6==e?f=e-4:7==e&&(e=a.buffer[a.j+1],f=(e>>6)+1,d|=(e&63)<<5,k=2);if(a.X==d&&0<a.items.length)return a.H=1,!0;if(a.da<a.j+k+f)return!1;b.type=d;f&&(h=$SFb(a,a.j+k,f));if(a.da<a.j+k+f+h)return!1;b.da=h;b.Cb=0;e=k+f+a.j;b.data=a.buffer.slice(e,e+h);4>=h&&(b.Cb=$SFb(a,a.j+k+f,h));a.items.push(b);a.map[d]=b;a.j+=k+f+h;a.N=a.j;a.j==a.da&&(a.H=1,a.da=0,a.j=0);return!0}
$S.kg=function(){this.H=0;this.items=[];for(this.map={};$SHb(this)&&0==this.H&&0==this.failed;);};window.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;window.IDBTransaction=window.IDBTransaction||window.webkitIDBTransaction||window.H||{READ_WRITE:"readwrite"};window.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange||window.j;function $SIb(a){if(!("indexedDB"in window))return!1;this.h=a;$SJb(this)}
function $SJb(a){$Sg(function(b){a.db=null;a.ready=!1;a.nf={};a.Lg=[];a.Bc=0;a.wj=0;b.j=0})}$S=$SIb.prototype;$S.$g=function(){return this.ready};
function $SKb(a,b,d){var e,f;$Sg(function(h){a.bq=b;e=a;f=window.indexedDB.open(b,10);f.onerror=function(){d(null)};f.onsuccess=function(k){e.db=k.target.result;e.ready=!0;d(e.db)};f.onupgradeneeded=function(k){e.db=k.target.result;var l=e.db.objectStoreNames;l.contains("messages")||$SLb(e);l.contains("lm")||$SMb(e);l.contains("profiles")||$SNb(e);l.contains("contacts")||$SOb(e);l.contains("status")||$SPb(e);l.contains("settings")||$SQb(e);k=k.target.transaction;var n=k.objectStore("messages"),q=
n.indexNames;q.contains("rts")||n.createIndex("rts","rts",{unique:!1});q.contains("threads")||n.createIndex("threads",[e.h.Z.v,e.h.Z.s,"threadid"],{unique:!1});q.contains("status")||n.createIndex("status",[e.h.Z.v,e.h.Z.s,"status"],{unique:!1});q.contains("uph")||n.createIndex("uph","uph",{unique:!1});n=k.objectStore("status");l.contains("mstatus")&&$SRb(e,k.objectStore("mstatus"),n)};h.j=0})}
$S.open=function(a,b){var d=this,e,f;return $Sg(function(h){e=d;if("function"===typeof b)return $SKb(e,a,b),h.return();f=new Promise(function(k){$SKb(e,a,k)});return h.return(f)})};
function $SLb(a){var b=a.db.createObjectStore("messages",{autoIncrement:!0});b.createIndex(a.h.Z.v,[a.h.Z.v,a.h.Z.s],{unique:!1});b.createIndex("ts","ts",{unique:!1});b.createIndex("rts","rts",{unique:!1});b.createIndex("threads",[a.h.Z.v,a.h.Z.s,"threadid"],{unique:!1});b.createIndex("id","id",{unique:!0});b.createIndex("uph","uph",{unique:!1});b.createIndex("status",[a.h.Z.v,a.h.Z.s,"status"],{unique:!1});b.transaction.oncomplete=function(){};return b}
function $SMb(a){var b=a.db.createObjectStore("lm",{keyPath:[a.h.Z.v,a.h.Z.s]});b.createIndex(a.h.Z.v,[a.h.Z.v,a.h.Z.s],{unique:!0});b.createIndex("ts","ts",{unique:!1});b.createIndex("id","id",{unique:!0});b.transaction.oncomplete=function(){};return b}function $SNb(a){var b=a.db.createObjectStore("profiles",{keyPath:["address",a.h.Z.s]});b.createIndex("address",["address",a.h.Z.s],{unique:!0});b.transaction.oncomplete=function(){};return b}
function $SOb(a){a=a.db.createObjectStore("contacts",{keyPath:"id",autoIncrement:!0});a.createIndex("addr","addr",{unique:!0});a.createIndex("uid","uid",{unique:!1});a.createIndex("id","id",{unique:!0});a.createIndex("ua",["addr","uid"],{unique:!0});return a}
function $SPb(a){a=a.db.createObjectStore("status",{autoIncrement:!0});a.createIndex("idaddr",["id","address"],{unique:!0});a.createIndex("id","id",{unique:!1});a.createIndex("ag",["address","groupid"],{unique:!1});a.transaction.oncomplete=function(){};return a}function $SQb(a){a=a.db.createObjectStore("settings",{keyPath:["name"]});a.createIndex("name","name",{unique:!0});a.transaction.oncomplete=function(){};return a}
function $SK(a){try{var b=a.db.transaction(["messages"],"readwrite").objectStore("messages")}catch(d){b=$SLb(a)}return b}function $SSb(a){try{var b=a.db.transaction(["lm"],"readwrite").objectStore("lm")}catch(d){b=$SMb(a)}return b}function $STb(a){try{var b=a.db.transaction(["profiles"],"readwrite").objectStore("profiles")}catch(d){b=$SNb(a)}return b}function $SUb(a){try{var b=a.db.transaction(["contacts"],"readwrite").objectStore("contacts")}catch(d){b=$SOb(a)}return b}
function $SVb(a){try{var b=a.db.transaction(["status"],"readwrite").objectStore("status")}catch(d){b=$SPb(a)}return b}function $SWb(a){var b={store:null,Ge:null};try{b.Ge=a.db.transaction(["status"],"readwrite"),b.store=b.Ge.objectStore("status")}catch(d){$SPb(a)&&(b.Ge=a.db.transaction(["status"],"readwrite"),b.store=b.Ge.objectStore("status"))}return b}function $SXb(a){try{var b=a.db.transaction(["settings"],"readwrite").objectStore("settings")}catch(d){b=$SQb(a)}return b}
function $SRb(a,b,d){b.index("id").openCursor(null).onsuccess=function(e){if(e=e.target.result){var f=e.value;if(f){d.put(f).onsuccess=function(){};try{e.continue()}catch(h){a.db.deleteObjectStore("mstatus")}}else a.db.deleteObjectStore("mstatus")}else a.db.deleteObjectStore("mstatus")}}
function $SYb(a,b){b||(b={});a.s||(a.s=0);b.id=a.mid;b.smid=a.mid;b.refid=a.L;b.rfl=a.ua.low;b.rfh=a.ua.high;b.channel=a.channel;b.expiry=a.R;b.type=a.type;b.status=a.status;b.flag=a.l;b.data=a.data;b.peer=a.v;b.uid=a.uid;b.groupid=a.s;b.ts=a.i;b.rts=a.Pa;b.threadid=a.Mb;b.duration=a.duration;b.deleted=a.Ub;b.uph=a.Uh;!a.hasOwnProperty("data")&&a.hasOwnProperty("message")&&(b.data=a.message);0<b.groupid&&(b.sender=b.peer,b.peer="");a.hasOwnProperty("rc")&&(b.rc=a.rc);a.hasOwnProperty("dc")&&(b.dc=
a.dc);return b}
function $SZb(a){var b;b||(b={});b.mid=$Ss(a,"id",0);b.Ad=$Ss(a,"smid",0);b.L=$Ss(a,"refid",0);b.ua={};b.ua.low=$Ss(a,"rfl",0);b.ua.high=$Ss(a,"rfh",0);b.channel=$Ss(a,"channel",0);b.R=$Ss(a,"expiry",0);b.type=$Ss(a,"type",0);b.status=$Ss(a,"status",0);b.l=$Ss(a,"flag",0);b.v=$Ss(a,"peer","");b.uid=$Ss(a,"uid",0);b.s=$Ss(a,"groupid",0);b.i=$Ss(a,"ts",0);b.Pa=$Ss(a,"rts",0);b.Mb=$Ss(a,"threadid",0);b.duration=$Ss(a,"duration",0);b.Ub=$Ss(a,"deleted",0);b.Uh=$Ss(a,"uph",0);a.hasOwnProperty("data")?b.data=
a.data:a.hasOwnProperty("message")&&(b.data=a.message);a.hasOwnProperty("sender")&&(b.v=a.sender);a.hasOwnProperty("rc")&&(b.rc=a.rc);a.hasOwnProperty("dc")&&(b.dc=a.dc);return b}function $S_b(a,b,d){if(b.mid&&(b.id=b.mid,!(0==b.id||b.l&12)))if(b.l&262144)$S0b(a,b);else{b=$SYb(b,null);var e=$SK(a);0<a.Bc&&3E4<$So()-a.wj&&(a.Bc=0);0>a.Bc&&(a.Bc=0);a.wj=$So();a.Bc++;e=e.add(b);e.onsuccess=function(){a.Bc--};e.onerror=function(){a.Bc--};d&&$S1b(a,b)}}
function $S0b(a,b){var d=$SK(a).index("id"),e=IDBKeyRange.only(b.id);d.openCursor(e).onsuccess=function(f){if(f=f.target.result){var h=f.value,k=b.ts;($So()-k)/1E3>a.h.Ig()||(h.data=b.data,h.datalen=b.datalen,h.message=b.message,h.mlen=b.mlen,h.mlen=b.mlen,h.flag=b.flag,f.update(h).onsuccess=function(){})}}}function $S1b(a,b){b.l&1036||b.channel||$SSb(a).put(b)}function $S2b(a,b){b.mid&&(b.id=b.mid,0==b.id||b.l&12||(b=$SYb(b,null),$S1b(a,b)))}
function $S3b(a,b,d){var e=$SSb(a),f=e.index("peer"),h=null;b||(b="");try{h=f.getKey([b,d])}catch(k){}h&&(h.onsuccess=function(k){if(k=k.target.result)e=$SSb(a),e.delete(k).onsuccess=function(){}})}function $SL(a,b){var d=$STb(a),e=$SEa(b,2);e[a.h.Z.s]=$St(e[a.h.Z.s]);b[a.h.Z.s]&&b.members&&(e.members=b.members);a=d.put(e);a.onerror=function(){};a.onsuccess=function(){}}function $S4b(a,b){a=$STb(a).getAll();a.onerror=function(){b([])};a.onsuccess=function(d){b(d.target.result)}}
function $S5b(a,b){var d,e,f;$Sg(function(h){if(1==h.j){d=a;if("function"===typeof b)return $S4b(d,b),h.return();e=new Promise(function(k){$S4b(d,k)});f=null;return $Sd(h,e.then(function(){}),2)}return h.return(f)})}function $S6b(a,b,d){a=$SK(a).index("id");b=IDBKeyRange.only(b);var e=a.count(b);e.onsuccess=function(){d(e.result)};e.onerror=function(){d(0)}}
$S.Yb=function(a,b,d,e){var f=$SK(this).index("status"),h=null;a||(a="");0<=d?h=[a,b,d]:-1==d?(d=[a,b,0],a=[a,b,1E3],h=a=IDBKeyRange.bound(d,a)):-2==d?(d=[a,b,0],a=[a,b,3],h=a=IDBKeyRange.bound(d,a)):-3==d&&(d=[a,b,18],a=[a,b,19],h=a=IDBKeyRange.bound(d,a));var k=f.count(h);k.onsuccess=function(){console.log(k.result);e(k.result)}};
function $S7b(a,b,d,e){a=$SK(a);if(null==b||void 0==b)b="";if(null==d||void 0==d)d=0;if(0!=d||""!=b){var f=0;a.index("ts").openCursor(null,"prev").onsuccess=function(h){if(h=h.target.result){var k=h.value;if(k){if(0<d&&k.groupid==d||0==d&&k.peer==b){if(18!=k.status){e(f);return}f++}try{h.continue()}catch(l){e(f)}}else e(f)}else e(f)}}}$S.ae=function(a,b,d){return 0<d&&a.groupid==d||0==d&&a.peer==b&&0==a.groupid?!0:!1};
function $S8b(a,b,d,e,f,h,k){var l=$SK(a);if(null==b||void 0==b)b="";if(null==d||void 0==d)d=0;0==d&&""==b?k():l.index("ts").openCursor(null,"prev").onsuccess=function(n){if(n=n.target.result){if(e)try{var q=e;e=0;n.advance(q);return}catch(z){h(null);k();return}if(q=n.value){q.sd&&delete q.sd;q=$SZb(q);if(a.h.ae(q,b,d)&&(h(q)&&f--,0==f)){h(null);k();return}try{n.continue()}catch(z){h(null),k()}}else h(null),k()}else h(null),k()}}
$S.read=function(a,b,d,e,f){var h=this,k,l;return $Sg(function(n){k=h;l=new Promise(function(q){$S8b(k,a,b,d,e,f,q)});return n.return(l)})};function $S9b(a,b){var d=[];$SK(a).index("ts").openCursor(null,"prev").onsuccess=function(e){if(e=e.target.result){var f=e.value;if(f)if(f=$SZb(f),f.status)b(d);else{d.unshift(f);try{e.continue()}catch(h){b(d)}}else b(d)}else b(d)}}
$S.sh=function(a,b){var d=[];$SSb(this).index("ts").openCursor(null,"prev").onsuccess=function(e){if(e=e.target.result){var f=e.value;if(f){f.hasOwnProperty("rts")&&0<f.rts&&f.rts<$So()&&(f.message="",f.data=null,e.update(f));f=$SZb(f);d.push(f);try{e.continue()}catch(h){b(d)}}else b(d)}else b(d)};return!0};
function $S$b(a,b,d,e,f,h){if(null==b||void 0==b)b="";if(null==d||void 0==d)d=0;b=[b,d];var k=$SK(a);(b=k.index("peer").getAllKeys(b))?b.onsuccess=function(l){l=l.target.result;var n=l.length;if(n)for(;0<l.length;){var q=l.shift();k=$SK(a);if(0<e){var z=k.get(q);z.Zl=q;z.onsuccess=function(A){A.target.result.ts>e?(n--,0==n&&(f(!0),h())):k.delete(A.target.Zl).onsuccess=function(){n--;0==n&&(f(!0),h())}}}else k.delete(q).onsuccess=function(){n--;0==n&&(f(!0),h())}}else f(!1),h()}:(f(!1),h())}
$S.qc=function(a,b,d,e){var f=this,h,k;return $Sg(function(l){h=f;k=new Promise(function(n){$S$b(h,a,b,d,e,n)});return l.return(k)})};function $Sac(a,b){var d=$So(),e=$SK(a);d=IDBKeyRange.bound(1,d);(d=e.index("rts").getAllKeys(d))?d.onsuccess=function(f){f=f.target.result;var h=f.length;if(h)for(;0<f.length;){var k=f.shift();e=$SK(a);e.delete(k).onsuccess=function(){h--;0==h&&b(!0)}}else b(!1)}:b(!1)}
function $Sbc(a,b){a=$SK(a).index("id");b=IDBKeyRange.only(b);a.openCursor(b).onsuccess=function(d){if(d=d.target.result){var e=d.value;e.status=1;d.update(e).onsuccess=function(){}}}}
function $Scc(a,b,d,e,f,h){a=$SK(a);if(null==d||void 0==d)d="";if(null==e||void 0==e)e=0;0<e&&(d="");a=a.index("peer");d=IDBKeyRange.only([d,e]);var k=!1,l=10;a.openCursor(d,"prev").onsuccess=function(n){if(n=n.target.result){var q=n.value;if(q){if(k&&3==f&&3==q.status){if(0>=l)return;l--}if(q.id==b||3==f&&k&&3>q.status)if(k=!0,3==f&&delete q.rc,2==f&&delete q.dc,q.status=f,n.update(q).onsuccess=function(){},q.id==b&&h&&(q=$SZb(q),h(q),h=null),3!=f)return;try{n.continue()}catch(z){}}}}}
function $Sdc(a,b,d,e){0<$Stb(b).high&&(b+="");if(a.nf[b])a.Lg.push({id:b,K:d}),e();else{a.nf[b]=!0;var f=$SK(a).index("id"),h=IDBKeyRange.only(b);f.openCursor(h).onsuccess=function(k){if(k=k.target.result){var l=k.value;!l.hasOwnProperty("data")&&l.hasOwnProperty("message")&&(l.data=l.message,l.datalen=l.mlen);l=$SZb(l);if(d(l)||l.ri)if(delete l.ri,l.Pd){var n=l.si;k=k.delete();k.onsuccess=function(){n&&n(l);$Sec(a,l.mid)}}else{delete l.Pd;var q=l.Sh;l=$SYb(l);k=k.update(l);k.onsuccess=function(){q&&
q(l)}}delete a.nf[b];a.Lg.length?(k=a.Lg.shift(),$Sdc(a,k.id,k.K,e)):e()}else a.nf[b]=!1,d(null),e()}}}function $SM(a,b,d){return new Promise(function(e){$Sdc(a,b,d,e)})}function $Sfc(a,b,d,e,f){$Sr(d)?(e(null),f()):(a=$SVb(a).index("idaddr"),b=IDBKeyRange.only([b,d]),a.openCursor(b).onsuccess=function(h){(h=h.target.result)?e(h.value):e(null);f()})}function $Sgc(a,b,d,e){return new Promise(function(f){$Sfc(a,b,d,e,f)})}
function $Shc(a,b,d){a=$SK(a).index("uph");b=IDBKeyRange.only(b);a.openCursor(b).onsuccess=function(e){(e=e.target.result)?(e=e.value,!e.hasOwnProperty("data")&&e.hasOwnProperty("message")&&(e.data=e.message,e.datalen=e.mlen),e=$SZb(e),d(e)):d(null)}}
function $Sic(a,b,d,e,f,h,k){var l,n,q,z,A;$Sg(function(D){if(1==D.j)return l={id:b,address:e,groupid:d,status:f,dts:0,rts:0},k&&(k.hasOwnProperty("dts")&&(l.dts=k.dts),k.hasOwnProperty("rts")&&(l.rts=k.rts)),2==f?l.dts=h:3==f&&(l.rts=h),n=$SWb(a),k?$Sd(D,n.store.put(l),3):$Sd(D,n.store.add(l),3);if(6!=D.j)return $Sd(D,n.Ge.complete,6);if(3!=f)return D.return();n=$SVb(a);q=n.index("ag");z=IDBKeyRange.only([e,d]);A=q.openCursor(z,"prev");A.onsuccess=function(K){if(K=K.target.result){var m=K.value;
if(m&&!(m.id!=b&&0<m.rts)){m.rts=h;m.status=f;K.update(m).onsuccess=function(){};try{K.continue()}catch(w){}}}};D.j=0})}function $Sec(a,b){a=$SVb(a).index("id");b=IDBKeyRange.only(b);a.openCursor(b).onsuccess=function(d){if(d=d.target.result){d.delete();try{d.continue()}catch(e){}}}}
function $Sjc(a,b,d,e,f){var h=1E3;$SK(a).index("ts").openCursor(null,"prev").onsuccess=function(k){if(0!=h)if(h--,k=k.target.result){var l=k.value;if(l){var n=!0;d&&l.groupid!=d&&(n=!1);n&&b&&!$SHa(b,l.sender)&&(n=!1);if(n&&0==l.channel&&4294967296>l.id&&l.ts<=e&&3>=l.status)3>l.status?(l=$SZb(l),f(l.mid,l)):f(-1);else try{k.continue()}catch(q){f(-1)}}else f(-1)}else f(-1)}}function $Skc(a){return(a=a.target.result)?a.objectStoreNames.contains("messages"):!1}
function $Slc(a,b){var d=!0,e=window.indexedDB.open(a);e.onupgradeneeded=function(f){1!==e.result.version||$Skc(f)||(d=!1,window.indexedDB.deleteDatabase(a));b&&b(d);b=null};e.onsuccess=function(f){b&&b(d&&$Skc(f));b=null};e.onerror=function(f){b&&b(d&&$Skc(f));b=null}}function $Sjb(a,b,d,e){a=$SXb(a);d=$SEa(d,2);d.name=b;b=a.put(d);b.onerror=function(){e&&e(!1)};b.onsuccess=function(){e&&e(!0)}}
function $Skb(a,b,d){a=$SXb(a).index("name");var e=null;try{e=a.get(b)}catch(f){}e&&(e.onerror=function(){d(null)},e.onsuccess=function(f){d(f.target.result)})}
function $Smc(a,b,d){var e=$SUb(a);a=e.index("addr");var f=IDBKeyRange.only(b.addr);a=a.openCursor(f);var h=parseInt(b.f),k=h&32768?!0:!1,l=h&134217728?!0:!1,n=h&268435456?!0:!1;h&=-402685953;b.f=h;b.u=k;a.onsuccess=function(q){if(q=q.target.result){var z=q.value,A=0;z.hasOwnProperty("f")&&(A=parseInt(z.f));(h&76)!=(A&76)&&(n=!1,l=!0);n?d(!1):!l&&(A==h||k&&(A&h)==h)?d(!1):(q.delete(),e.put(b),d(!0))}else e.put(b),d(!0)}}
function $Snc(a,b,d,e,f){for(var h=b.length,k=0,l=0,n=0;n<h;n++){var q={};q.addr=b[n];q.f=d;$Smc(a,q,function(z){z&&k++;l++;l==h&&(e(k),f())})}}function $Soc(a,b,d,e){var f,h;return $Sg(function(k){if(!b||!b.length)return k.return();f=a;h=new Promise(function(l){$Snc(f,b,d,e,l)});return k.return(h)})}
function $Spc(a,b,d){a=$SUb(a).index("id");b=IDBKeyRange.lowerBound(b,!0);var e=[],f=null,h=0,k=!1,l=0;a.openCursor(b).onsuccess=function(n){if(n=n.target.result){var q=n.value;if(q)if(f&&f.f!=q.f&&f.u!=q.u)d(e,h,k,l);else if(e.push(q.addr),h=q.f,k=q.u,l=q.id,100==e.length)d(e,h,k,l);else{f=q;try{n.continue()}catch(z){d(e,h,k,l)}}else d(e,h,k,l)}else d(e,h,k,l)}}function $Sqc(){var a=window.localStorage;this.name="mesibo_";this.storage=a;this.nk=JSON}
$Sqc.prototype={clear:function(){this.storage.clear();return this},getItem:function(a,b){a=this.storage.getItem(this.name+a);return null==a?"undefined"!=typeof b?b:null:this.nk.parse(a)},removeItem:function(a){this.storage.removeItem(this.name+a);return this},setItem:function(a,b){this.storage.setItem(this.name+a,this.nk.stringify(b));return this}};var $Src="Today",$Ssc="Yesterday",$Stc=" Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),$Suc="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");
function $SN(a){this.reset();this.Qc(a)}$S=$SN.prototype;$S.reset=function(){this.Ee=this.Ye=this.Od=null;this.Nh=this.year=this.month=this.day=this.hour=this.min=this.ue=this.i=0};$S.$n=function(){return 0==this.i||1>this.month||12<this.month?!1:0<this.year};
$S.Qc=function(a){if(!(0<a&&a==this.i)){this.reset();if(15147648E5>a)return!1;var b=new Date;b.setTime(a);this.i=a;this.year=b.getFullYear();this.month=b.getMonth()+1;this.Oe=b.getDay();this.day=b.getDate();this.hour=b.getHours();this.min=b.getMinutes();this.ue=b.getSeconds();this.ts=this.i;this.year=this.year;this.month=this.month;this.wday=this.Oe;this.day=this.day;this.hour=this.hour;this.min=this.min;this.sec=this.ue;return 0<this.year}};$S.Vn=function(){return 0==this.Sd()};
$S.co=function(){return 1==this.Sd()};$S.Sd=function(){0==this.Nh&&(this.Nh=this.i-1E3*(3600*this.hour+60*this.min+this.ue));return parseInt(($So()-this.Nh)/864E5)};$S.Hi=function(){return parseInt(($So()-this.i)/1E3)};$S.Im=function(){return 1>this.month||12<this.month?null:$Stc[this.month]};$S.hf=function(){return 0>this.Oe||6<this.Oe?null:$Suc[this.Oe]};$SN.ta=function(a,b){if(1>a||12<a)return!1;$Stc[a]=b;return!0};$S=$SN.prototype;
$S.getDate=function(a,b,d,e){if(e&&this.Ye)return this.Ye;if(!e&&this.Od)return this.Od;if(0==this.i||0==this.year&&!this.Qc(this.i))return"";var f=this.Sd();if(b&&0==f)return b;if(d&&1==f)return d;if(e)return this.Ye=a?this.month+"/"+this.day+"/"+(this.year-2E3):this.day+"/"+this.month+"/"+(this.year-2E3);this.Od=$Stc[this.month]+" "+$SJa(this.day)+", "+this.year;a||(this.Od=$SJa(this.day)+" "+$Stc[this.month]+" "+this.year);return this.Od};
$S.vm=function(){return this.getDate($SN.j(),$Src,$Ssc,!1)};$S.Lm=function(){return this.getDate($SN.j(),$Src,$Ssc,!0)};$S.Sk=function(a){if(this.Ee)return this.Ee;if(0==this.i||0==this.year&&!this.Qc(this.i))return"";this.Ee=$SJa(this.hour)+":"+$SJa(this.min);a&&(this.Ee=$SJa(this.hour)+":"+$SJa(this.min)+":"+$SJa(this.ue));return this.Ee};
$S.um=function(a){if(void 0==a||!a||0>a)a=0;var b="not in a long time";if(0==this.i)return b;b="th";if(3==this.day)b="rd";else if(2==this.day||22==this.day)b="nd";else if(1==this.day||21==this.day||31==this.day)b="st";b=this.day+b;var d=new Date,e=d.getMonth()+1,f=d.getDay(),h=this.Hi(),k=this.Sd(),l=parseInt(h/60),n=parseInt(h/3600),q=parseInt(k/7);d=parseInt(12*k/365);var z=parseInt(k/365);2<=z?b="over "+z+" years ago":1<=z?b="over a year ago":0<d?2592E3<a?b="some time this year":1<d?(b="over "+
d+" months ago",d):b=86400<a?"over a month ago":e!=this.uq!=this.month?"on "+b+" of the last month":"on "+b:b=2<=q?604800<a?"some time this month":86400<a||e!=this.month?"over "+q+" weeks ago":"on "+b+" of this month":1<=q?86400<a?"over a week ago":f==this.Oe?"on the last "+this.hf()+", the "+b:"on the "+this.hf()+" before last, the "+b:1<=k?86400<a?"some time this week":1==k?"some time yesterday":"on "+this.hf()+", the "+b:3600<h?3600<a?"some time today":7200<h?"over "+n+" hours ago":"over an hour ago":
60<h||60<a?60<a?"within an hour":"over "+l+" minutes ago":"a few moments ago";return b};$SN.j=function(){return!0};$SN.H=function(){return!0};$SN.X=function(a,b){$Src=a;$Ssc=b};$SN.N=function(){};$SN.ab=function(){Date.now()};window.MesiboDateTime=$SN;$SN.prototype.isValid=$SN.prototype.$n;$SN.prototype.setTimestamp=$SN.prototype.Qc;$SN.prototype.getMonthName=$SN.prototype.Im;$SN.prototype.getDayName=$SN.prototype.hf;$SN.prototype.getDate=$SN.prototype.getDate;$SN.prototype.getDefaultDate=$SN.prototype.vm;
$SN.prototype.getNumericalDate=$SN.prototype.Lm;$SN.prototype.getTime=$SN.prototype.Sk;$SN.prototype.getDateInNaturalLanguage=$SN.prototype.um;$SN.prototype.isToday=$SN.prototype.Vn;$SN.prototype.isYesterday=$SN.prototype.co;$SN.prototype.getDaysElapsed=$SN.prototype.Sd;$SN.prototype.getSecondsElapsed=$SN.prototype.Hi;$SN.setMonthName=$SN.ta;$SN.isMonthFirstDateFormat=$SN.j;$SN.is24HourTimeFormat=$SN.H;$SN.setDefaultRelativeDateText=$SN.X;$SN.setDefaultDateFormat=$SN.N;
function $SO(){this.h=$Svc();this.s=this.mid=0;this.Be=this.v=null;this.L=0;this.ua={};this.ua.low=0;this.channel=this.type=this.ua.high=0;this.l=3;this.R=7776E3;this.origin=this.Yc=this.status=0;this.i=$So();this.so=this.ro=this.duration=this.Ma=this.le=this.uid=this.count=this.ma=0;this.V={};this.V.ga=0;this.V.receive=0;this.Pa=this.sensitivity=this.Ie=this.Mb=this.V.read=0;this.source={};this.source.zp=!1;this.source.Cc=!1;this.source.v=!1;this.source.m=!1;this.Ya={};this.Ya.low=0;this.ea=this.Ya.high=
0;this.Ub=!1;this.La=this.profile=null;this.te=0;this.zf=!1;this.Ze=null}$S=$SO.prototype;$S.Vk=function(){return this.mid};$S.Xo=function(a){this.mid=a};$S.Wb=function(){return this.mid};$S.Qc=function(a){this.i=a};$S.mf=function(){return this.Ze?this.Ze:this.Ze=new $SN(this.i)};
function $Swc(a,b,d,e){return $Sg(function(f){a.dd()||(b=a.v);if(!b||!b.length)return e(null),f.return();if(b&&!$SGa(b))throw Error("Parameter is not an address!");return $Sd(f,$Sgc(a.h.db,a.mid,b,function(h){if(h){var k=0,l=null;d&&h.hasOwnProperty("rts")?k=h.rts:!d&&h.hasOwnProperty("dts")&&(k=h.dts);0<k&&(l=new $SN(k));e(l)}else e(null)}),0)})}$S.wm=function(a,b){return $Swc(this,a,!1,b)};$S.Qm=function(a,b){return $Swc(this,a,!0,b)};$S.kp=function(a){this.type=a};$S.$c=function(){return this.type};
$S.Xf=function(a){this.R=a};$S.xm=function(){return this.R};$S.hp=function(a){this.status=a};$S.Ji=function(){return this.status};$S.sm=function(){return this.Yc};$S.tm=function(){return this.Be?this.h.M(this.Be,0):null};$S.tc=function(){return 19==this.status||18==this.status};$S.Yg=function(){return this.$b()||this.Zg()||this.tc()||!this.fj()?!1:!0};$S.lj=function(){return 0<(this.l&8)};$S.Zg=function(){return 32==this.status};
function $Sxc(a,b,d){a.l=3;a.s=d;a.v=b;a.origin=0;a.i=0;a.mid=$Svc().Kg()}$S.bj=function(a){return a.v&&this.v&&this.tc()&&a.tc()?this.v.localeCompare(a.v)?!1:!0:!1};$S.ap=function(a){$Sxc(this,a,0)};$S.Yf=function(a){$Sxc(this,null,a)};$S.Ro=function(){this.l=this.l};$S.hj=function(){return this.dd()&&this.Yc>this.status&&3>=this.Yc&&3>=this.status};function $Syc(a,b,d){a.l=d?a.l|b:a.l&~b}$S.im=function(a){$Syc(this,4,a)};$S.Qd=function(a){$Syc(this,8,a)};$S.Rd=function(a){$Syc(this,2,a)};
$S.em=function(a){$Syc(this,1,a)};$S.cf=function(a){$Syc(this,262144,a)};$S.bm=function(a){$Syc(this,524288,a)};$S.Lo=function(a){this.V.ga=a};$S.Mo=function(a){this.V.receive=a};$S.No=function(a){this.V.read=a};$S.nm=function(){if(this.tc()){if(!this.Pa)return 0;var a=$So();if(this.Pa<=a)return 1;a=parseInt((this.Pa-a)/1E3,10);1>a&&(a=1);return a}return this.V.ga};$S.np=function(a){this.Ie=a};$S.Wk=function(){return this.Ie};$S.jp=function(a){this.Mb=a};$S.Ki=function(){return this.Mb};
$S.gp=function(a){this.sensitivity=a};$S.Vm=function(){return this.sensitivity};function $Szc(a){var b=$Stb(a.L);a.ua.low=b.low;a.ua.high=b.high}$S.Vo=function(a){a&&(this.L=a.mid,$Szc(this))};$S.Zf=function(a){this.L=a;$Szc(this)};$S.Dm=function(){return this.L};$S.nj=function(){return 0!=this.L};$S.Sn=function(){return 1==this.status};$S.wn=function(){return 2==this.status};$S.Pn=function(){return 3==this.status};$S.mj=function(){return 19==this.status};$S.Yn=function(){return 18==this.status};
$S.jo=function(){this.Ub=!0};$S.tf=function(){return this.Ub||0<(this.l&0)};$S.vf=function(){return 0<(this.l&262144)};$S.Jn=function(){return 0<(this.l&262144)};$S.Zn=function(){};$S.yn=function(){};$S.Ug=function(){if(!this.uc())return!1};$S.En=function(){return 0<(this.l&64)};$S.zn=function(){return 0<(this.l&128)};$S.An=function(){return 35==this.status};$S.lj=function(){return 0<(this.l&8)};$S.uc=function(){return 0<(this.l&256)};$S.Mn=function(){return!this.uc()};
$S.Zg=function(){return 32==this.status};$S.fj=function(){return this.Xi()||this.$b()||this.Wi()?!1:!0};$S.Wi=function(){return 32==this.status};$S.Xi=function(){return 36==this.status};$S.ij=function(){return 21==this.status};$S.ej=function(){return 22==this.status};$S.jj=function(){return 23==this.status};$S.$b=function(){return 21==this.status||22==this.status||23==this.status};$S.Xk=function(){return this.$b()&&0<(this.$c()&1)};$S.bo=function(){return this.$b()&&0==(this.$c()&1)};$S.On=function(){return!1};
$S.qm=function(){return this.$b()?this.duration:-1};$S.uf=function(){return 0==this.status};$S.Gn=function(){return this.zf};$S.un=function(){return 1==this.origin};$S.vn=function(){return 2==this.origin};$S.Qn=function(){return 0==this.origin};$S.Ln=function(){return 3==this.origin};$S.dd=function(){return 0<this.s};$S.$i=function(){return 0<(this.status&128)};$S.xn=function(a){return a?a.matches(this):!1};$S.M=function(){return this.dd()?this.La:this.profile};$S.Fi=function(){return this.profile};
$S.Um=function(){return this.tc()?this.profile:this.Yg()?this.h.Jg():null};$S.Uk=function(){return this.La};$S.Pm=function(){if(this.te){var a=this.h;var b=this.te;a=a.Ja.hasOwnProperty(b)?a.Ja[b]:b==a.De.id?a.De:null}else a=null;return a};window.MesiboMessageProperties=$SO;$SO.prototype.setTimestamp=$SO.prototype.Qc;$SO.prototype.getTimestamp=$SO.prototype.mf;$SO.prototype.getDeliveryTimestamp=$SO.prototype.wm;$SO.prototype.getReadTimestamp=$SO.prototype.Qm;$SO.prototype.getMessageId=$SO.prototype.Vk;
$SO.prototype.setMessageId=$SO.prototype.Xo;$SO.prototype.setType=$SO.prototype.kp;$SO.prototype.getType=$SO.prototype.$c;$SO.prototype.setExpiry=$SO.prototype.Xf;$SO.prototype.getExpiry=$SO.prototype.xm;$SO.prototype.setStatus=$SO.prototype.hp;$SO.prototype.getStatus=$SO.prototype.Ji;$SO.prototype.getCurrentStatus=$SO.prototype.sm;$SO.prototype.getCurrentStatusSender=$SO.prototype.tm;$SO.prototype.isMessageStatusInProgress=$SO.prototype.hj;$SO.prototype.setPeer=$SO.prototype.ap;
$SO.prototype.setGroup=$SO.prototype.Yf;$SO.prototype.setFlag=$SO.prototype.Ro;$SO.prototype.enableTransient=$SO.prototype.im;$SO.prototype.enablePresence=$SO.prototype.Qd;$SO.prototype.enableReadReceipt=$SO.prototype.Rd;$SO.prototype.enableDeliveryReceipt=$SO.prototype.em;$SO.prototype.enableModify=$SO.prototype.cf;$SO.prototype.enableBroadcast=$SO.prototype.bm;$SO.prototype.setAge=$SO.prototype.Lo;$SO.prototype.setAgeAfterDelivered=$SO.prototype.Mo;$SO.prototype.setAgeAfterRead=$SO.prototype.No;
$SO.prototype.getAge=$SO.prototype.nm;$SO.prototype.setUserData=$SO.prototype.np;$SO.prototype.getUserData=$SO.prototype.Wk;$SO.prototype.setThreadId=$SO.prototype.jp;$SO.prototype.getThreadId=$SO.prototype.Ki;$SO.prototype.setSensitivity=$SO.prototype.gp;$SO.prototype.getSensitivity=$SO.prototype.Vm;$SO.prototype.setInReplyToMessage=$SO.prototype.Vo;$SO.prototype.setInReplyTo=$SO.prototype.Zf;$SO.prototype.getInReplyTo=$SO.prototype.Dm;$SO.prototype.isReply=$SO.prototype.nj;
$SO.prototype.isSent=$SO.prototype.Sn;$SO.prototype.isDelivered=$SO.prototype.wn;$SO.prototype.isReadByPeer=$SO.prototype.Pn;$SO.prototype.isReadByUs=$SO.prototype.mj;$SO.prototype.isUnread=$SO.prototype.Yn;$SO.prototype.markDeleted=$SO.prototype.jo;$SO.prototype.isDeleted=$SO.prototype.tf;$SO.prototype.isModified=$SO.prototype.vf;$SO.prototype.isModifiedByPeer=$SO.prototype.Jn;$SO.prototype.isUpdated=$SO.prototype.Zn;$SO.prototype.isDynamic=$SO.prototype.yn;$SO.prototype.isFileTransferFailed=$SO.prototype.Ug;
$SO.prototype.isForwarded=$SO.prototype.En;$SO.prototype.isEndToEndEncrypted=$SO.prototype.zn;$SO.prototype.isEndToEndEncryptionStatus=$SO.prototype.An;$SO.prototype.isPresence=$SO.prototype.lj;$SO.prototype.isRichMessage=$SO.prototype.uc;$SO.prototype.isPlainMessage=$SO.prototype.Mn;$SO.prototype.isSavedMessage=$SO.prototype.Zg;$SO.prototype.isCustom=$SO.prototype.Wi;$SO.prototype.isDate=$SO.prototype.Xi;$SO.prototype.isMessage=$SO.prototype.fj;$SO.prototype.isMissedCall=$SO.prototype.ij;
$SO.prototype.isIncomingCall=$SO.prototype.ej;$SO.prototype.isOutgoingCall=$SO.prototype.jj;$SO.prototype.isCall=$SO.prototype.$b;$SO.prototype.isVideoCall=$SO.prototype.Xk;$SO.prototype.isVoiceCall=$SO.prototype.bo;$SO.prototype.isPstnCall=$SO.prototype.On;$SO.prototype.getCallDuration=$SO.prototype.qm;$SO.prototype.isIncoming=$SO.prototype.tc;$SO.prototype.isOutgoing=$SO.prototype.Yg;$SO.prototype.isInOutbox=$SO.prototype.uf;$SO.prototype.isLastMessage=$SO.prototype.Gn;
$SO.prototype.isDbMessage=$SO.prototype.un;$SO.prototype.isDbSummaryMessage=$SO.prototype.vn;$SO.prototype.isDbSummaryMessage=$SO.prototype.j;$SO.prototype.isRealtimeMessage=$SO.prototype.Qn;$SO.prototype.isPendingMessage=$SO.prototype.Ln;$SO.prototype.isGroupMessage=$SO.prototype.dd;$SO.prototype.isFailed=$SO.prototype.$i;$SO.prototype.isFromSamePeer=$SO.prototype.bj;$SO.prototype.isDestinedFor=$SO.prototype.xn;$SO.prototype.isFromSamePeer=$SO.prototype.bj;$SO.prototype.getProfile=$SO.prototype.M;
$SO.prototype.getPeerProfile=$SO.prototype.Fi;$SO.prototype.getSenderProfile=$SO.prototype.Um;$SO.prototype.getGroupProfile=$SO.prototype.Uk;$SO.prototype.getReadSession=$SO.prototype.Pm;
function $SP(){$SO.call(this);this.objType="MesiboMessage";this.zh=this.pa=this.Nd=this.data=this.message=this.Vb=this.eb=this.title=null;this.longitude=this.latitude=-720;this.Qi=this.update=this.ig=!1;this.Hc=this.Vc=!0;this.file=new $SAc;this.content=null;this.contentType=0;this.Bp=this.gg=this.ha=this.image=null;this.Wj=!1;this.ff=null;this.cc=0;this.Kc=!0;this.Id=!1;this.Uh="";this.Nb()}$SP.prototype=Object.create($SO.prototype);$S=$SP.prototype;$S.constructor=$SP;
$S.Nb=function(){var a=this.h.Z;this[a.mid]=this.mid;this[a.title]=this.title;this[a.eb]=this.eb;this[a.Vb]=this.Vb;this[a.message]=this.message;this[a.data]=this.data;this[a.latitude]=this.latitude;this[a.longitude]=this.longitude;this[a.file]=this.file;this[a.profile]=this.profile;this[a.La]=this.La;this[a.Kc]=this.Kc;this[a.Vc]=this.Vc;this[a.Hc]=this.Hc;a=this.h.Z;var b=this.file;b[a.type]=b.type;b[a.Bd]=b.Bd;b[a.path]=b.path;b[a.url]=b.url;b[a.name]=b.name;b[a.Hj]=b.Hj;b[a.size]=b.size;b[a.progress]=
b.progress;b[a.source]=b.source;this.Nd&&(this.pa=$SCa(this.Nd));this.ig=$SBc(this)};
$S.Di=function(){this.pa&&(this.Nd=$SBa(this.pa));this.ig=$SBc(this);var a=this.h.Z;this.mid=$Sm(this,a.mid,this.mid);this.title=$Sm(this,a.title,this.title);this.eb=$Sm(this,a.eb,this.eb);this.Vb=$Sm(this,a.Vb,this.Vb);this.message=$Sm(this,a.message,this.message);this.data=$Sm(this,a.data,this.data);this.latitude=$Sm(this,a.latitude,this.latitude);this.longitude=$Sm(this,a.longitude,this.longitude);this.Kc=$Sm(this,a.Kc,this.Kc);this.Vc=$Sm(this,a.Vc,this.Vc);this.Hc=$Sm(this,a.Hc,this.Hc)};
function $SBc(a){return 90<a.latitude||-90>a.latitude||180<a.longitude||-180>a.longitude||0<=a.latitude&&0<=a.longitude&&.01>a.latitude&&.01>a.longitude?!1:!0}function $SCc(a,b,d){var e,f;$Sg(function(h){e=a.L;a.ua.high==$SQ(a.h)&&(e=a.ua.low);f=a;return $Sd(h,$SM(a.h.db,e,function(k){k&&(k=$SDc(f.h,k));f.zh=k;d&&d(k);b()}),0)})}
$S.Sm=function(a){var b=this,d,e;return $Sg(function(f){if(!b.nj())return a&&a(null),f.return(null);b.ua.high||b.ua.low||$Szc(b);if(b.zh&&a)return a(b.zh),f.return(null);d=b;e=new Promise(function(h){$SCc(d,h,a)});return f.return(e)})};$S.Zb=function(){return null!=this.file&&null!=this.file.url&&0<this.file.url.length&&!(this.file.flags&1)};$S.aj=function(){return!this.uc()||this.Vg()||this.Zd()||this.Ug()?!1:this.Zb()};
$S.Dn=function(){return this.uc()&&null!=this.file&&this.file.url&&this.file.url.length?this.Vg()||this.Zd()||this.Ug()?!0:!this.Zb():!1};$S.al=function(){return this.aj()?this.file:null};$S.Am=function(){return null!=this.file?this.file.type:0};$S.Hm=function(){return null!=this.file?this.file.mimeType:null};$S.bl=function(){return null!=this.file?this.file.name:null};$S.zm=function(){return null!=this.file?this.file.size:-1};$S.ym=function(){return null};
$S.Wg=function(){return null!=this.file&&1==this.file.type};$S.rj=function(){return null!=this.file&&2==this.file.type};$S.Ti=function(){return null!=this.file&&3==this.file.type};$S.Yi=function(){return null!=this.file&&(10==this.file.type||0==this.file.type)};$S.hn=function(){var a=this.Zb()&&this.Wg();return a?a:this.Zb()&&this.Wg()};$S.bd=function(){return this.Zb()&&this.rj()};$S.Yd=function(){return this.Zb()&&this.Ti()};$S.gn=function(){return this.Zb()&&this.Yi()};
$S.Mi=function(){return this.ig=$SBc(this)};$S.ln=function(){return null!=this.ha};$S.Hn=function(){return this.qq};$S.Qo=function(a){this.contentType=a};$S.Wo=function(){};$S.Po=function(a){this.content=a};$S.fl=function(a){this.ha=a};$S.lf=function(){return this.gg?this.gg:this.ha?this.gg="data:image/jpeg;base64,"+$SLa(this.ha):null};$S.tp=function(){return!1};$S.Bk=function(){return!1};$S.Ep=function(){this.Zd()&&this.Bk();return!1};$S.Zd=function(){return this.uc()?3==this.file.Qh:!1};
$S.Vg=function(){return this.qj()||this.Zi()};$S.qj=function(){return this.uc()?1==this.file.Qh:!1};$S.Zi=function(){return this.uc()?2==this.file.Qh:!1};$S.send=function(){this.cf(!1);this.Qd(!1);if(!this.uf()||this.Id)return-1;if(null!=this.ff&&0<this.ff.length)return this.Id=!0,$SEc(this.h,this,this.ff,this.Kc);this.Id=!0;return $SFc(this.h,this)};$S.Bo=function(){if(this.tc()||!this.$i())var a=!1;else a=this.h,4294967295<this.mid?a=!1:(a.pc(this.mid),a.xa(this),a=!0);return a};
$S.Ko=function(){this.cf(!0);this.Qd(!1);return $SFc(this.h,this)};$S.Ho=function(){if(!this.uf()||this.Id)return-1;this.Id=!0;this.Qd(!0);this.cf(!1);return $SFc(this.h,this)};$S.rk=function(a){this.ff=a};$S.Yk=function(a){a=a.Hf();a.rk([this.mid]);return a};$S.yo=function(){if(!this.mid)return null;var a=this.M();if(null==a)return null;a=a.Hf();a.Zf(this.mid);return a};$S.zo=function(){if(!this.mid)return null;var a=this.Fi();if(null==a)return null;a=a.Hf();a.Zf(this.mid);return a};
$S.save=function(){this.Qd(!1);return $SFc(this.h,this)};$S.delete=function(){var a=this;return $Sg(function(b){return $Sd(b,a.h.pc(a.mid,!1),0)})};$S.Kp=function(){var a=this;return $Sg(function(b){return $Sd(b,a.h.Vh(a.mid,!1),0)})};$S.wo=function(){var a=this;return $Sg(function(b){return $Sd(b,a.h.pc(a.mid,!0),0)})};$S.gl=function(){var a=this;return $Sg(function(b){return $Sd(b,a.h.Vh(a.mid,!0),0)})};$S.mo=function(){return $SGc(this.h,this.Ji(),this.l,this.tf(),this.i)};
$S.Nm=function(){return this.Zd()?this.file.progress:-1};function $SHc(a){null==a.pa&&(a.pa={})}$S.Pc=function(a,b){$SHc(this);if("string"===typeof b||b instanceof String)this.pa[a]=b};$S.ag=function(a,b){$SHc(this);this.$f(a,b)};$S.$f=function(a,b){$SHc(this);if(!Number.isInteger(b))return!1;this.pa[a]=b};$S.el=function(a,b){$SHc(this);if(!Number.isFinite(b))return!1;this.pa[a]=b};$S.dl=function(a,b){$SHc(this);if(!1===b||!0===b)this.pa[a]=b};$S.Lh=function(a,b){$SHc(this);this.pa[a]=b};
$S.kf=function(a,b){null!=this.pa&&this.pa.hasOwnProperty(a);return b};$S.Td=function(a,b){return this.jf(a,b)};$S.jf=function(a,b){if(null==this.pa||!this.pa.hasOwnProperty(a))return b;a=this.pa[a];return Number.isInteger(a)?a:b};$S.$k=function(a,b){if(null==this.pa||!this.pa.hasOwnProperty(a))return b;a=this.pa[a];return Number.isFinite(a)?a:b};$S.Zk=function(a,b){if(null==this.pa||!this.pa.hasOwnProperty(a))return b;a=this.pa[a];return!1===a||!0===a?a:b};
$S.cl=function(a,b){return null!=this.pa&&this.pa.hasOwnProperty(a)?this.pa[a]:b};$S.Ul=function(){var a=new $SP;a.i=this.i;a.status=36;return a};window.MesiboMessage=$SP;$SP.prototype.getRepliedToMessage=$SP.prototype.Sm;$SP.prototype.hasFile=$SP.prototype.Zb;$SP.prototype.isFileReady=$SP.prototype.aj;$SP.prototype.isFilePending=$SP.prototype.Dn;$SP.prototype.getFile=$SP.prototype.al;$SP.prototype.getFileType=$SP.prototype.Am;$SP.prototype.getMimeType=$SP.prototype.Hm;$SP.prototype.getFileName=$SP.prototype.bl;
$SP.prototype.getFileSize=$SP.prototype.zm;$SP.prototype.getFilePath=$SP.prototype.ym;$SP.prototype.isImage=$SP.prototype.Wg;$SP.prototype.isVideo=$SP.prototype.rj;$SP.prototype.isAudio=$SP.prototype.Ti;$SP.prototype.isDocument=$SP.prototype.Yi;$SP.prototype.hasImage=$SP.prototype.hn;$SP.prototype.hasVideo=$SP.prototype.bd;$SP.prototype.hasAudio=$SP.prototype.Yd;$SP.prototype.hasDocument=$SP.prototype.gn;$SP.prototype.hasLocation=$SP.prototype.Mi;$SP.prototype.hasThumbnail=$SP.prototype.ln;
$SP.prototype.isMatureContent=$SP.prototype.Hn;$SP.prototype.setContentType=$SP.prototype.Qo;$SP.prototype.setMediaProperties=$SP.prototype.Wo;$SP.prototype.setContent=$SP.prototype.Po;$SP.prototype.setThumbnail=$SP.prototype.fl;$SP.prototype.getThumbnail=$SP.prototype.lf;$SP.prototype.startFileTransfer=$SP.prototype.tp;$SP.prototype.stopFileTransfer=$SP.prototype.Bk;$SP.prototype.toggleFileTransfer=$SP.prototype.Ep;$SP.prototype.isFileTransferInProgress=$SP.prototype.Zd;
$SP.prototype.isFileTransferRequired=$SP.prototype.Vg;$SP.prototype.isUploadRequired=$SP.prototype.qj;$SP.prototype.isDownloadRequired=$SP.prototype.Zi;$SP.prototype.send=$SP.prototype.send;$SP.prototype.resend=$SP.prototype.Bo;$SP.prototype.sendUpdate=$SP.prototype.Ko;$SP.prototype.sendPresence=$SP.prototype.Ho;$SP.prototype.setForwarded=$SP.prototype.rk;$SP.prototype.forward=$SP.prototype.Yk;$SP.prototype.reply=$SP.prototype.yo;$SP.prototype.replyToPeer=$SP.prototype.zo;$SP.prototype.save=$SP.prototype.save;
$SP.prototype["delete"]=$SP.prototype.delete;$SP.prototype.wipe=$SP.prototype.Kp;$SP.prototype.recall=$SP.prototype.wo;$SP.prototype.wipeAndRecall=$SP.prototype.gl;$SP.prototype.mayBeRetracted=$SP.prototype.mo;$SP.prototype.cloneDate=$SP.prototype.Ul;$SP.prototype.getProgress=$SP.prototype.Nm;$SP.prototype.setString=$SP.prototype.Pc;$SP.prototype.setLong=$SP.prototype.ag;$SP.prototype.setInt=$SP.prototype.$f;$SP.prototype.setDouble=$SP.prototype.el;$SP.prototype.setBoolean=$SP.prototype.dl;
$SP.prototype.setValue=$SP.prototype.Lh;$SP.prototype.getString=$SP.prototype.kf;$SP.prototype.getLong=$SP.prototype.Td;$SP.prototype.getInt=$SP.prototype.jf;$SP.prototype.getDouble=$SP.prototype.$k;$SP.prototype.getBoolean=$SP.prototype.Zk;$SP.prototype.getValue=$SP.prototype.cl;function $SR(){$SO.call(this);this.objType="MesiboPresence";this.interval=this.value=this.T=0}$SR.prototype=Object.create($SO.prototype);$S=$SR.prototype;$S.constructor=$SR;
$S.Nb=function(){var a=this.h.Z;this[a.T]=this.T;this[a.value]=this.value;this[a.interval]=this.interval};$S.Di=function(){var a=this.h.Z;this.T=$Sm(this,a.T,this.T);this.value=$Sm(this,a.value,this.value);this.interval=$Sm(this,a.interval,this.interval)};
$S.send=function(){var a=this.h,b;if(b=this.v?a.M(this.v,0):a.M(null,this.s)){var d=b.ia;b=this.T;var e=this.interval,f=this.value;3==b&&e>=a.jc.J-1E3&&(e=a.jc.J-1E3);var h=0;if(0==b||b!=d.ga.ia||f!=d.ga.value)h=1;else if(!e||$So()-d.ga.i>=e)h=1;if(h){d.ga.C=this.s;d.ga.ia=b;d.ga.value=f;d.ga.i=$So();this.l=260;if(1==b||2==b)this.l|=65536;this.R=0;d=new $Sx($Sy);$Sz(d,21,b,2);f&&$Sz(d,22,f,2);$Sz(d,0,0,2);this.data=$SI(d);a.xa(this)}}};$S.Uf=function(){this.T=3;return this.send()};
$S.Vf=function(){this.T=4;return this.send()};$S.Sf=function(){this.T=10;return this.send()};$S.Tf=function(){this.T=11;return this.send()};$S.Go=function(){this.T=1;return this.send()};$S.Fo=function(){this.T=2;return this.send()};$S.Io=function(){this.T=0;return this.send()};$S.Rn=function(){return 0==this.T};$S.ql=function(){return 1==this.T&&2!=this.value};$S.Kn=function(){return 1==this.T&&2==this.value||2==this.T};$S.rl=function(){return 3==this.T};$S.Wn=function(){return 4==this.T};
$S.pl=function(){return 10==this.T};$S.jn=function(){return 10==this.T};$S.kn=function(){return 11==this.T};window.MesiboPresence=$SR;$SR.prototype.send=$SR.prototype.send;$SR.prototype.sendTyping=$SR.prototype.Uf;$SR.prototype.sendTypingCleared=$SR.prototype.Vf;$SR.prototype.sendJoined=$SR.prototype.Sf;$SR.prototype.sendLeft=$SR.prototype.Tf;$SR.prototype.sendOnline=$SR.prototype.Go;$SR.prototype.sendOffline=$SR.prototype.Fo;$SR.prototype.sendRequest=$SR.prototype.Io;$SR.prototype.isRequest=$SR.prototype.Rn;
$SR.prototype.isOnline=$SR.prototype.ql;$SR.prototype.isOffline=$SR.prototype.Kn;$SR.prototype.isTyping=$SR.prototype.rl;$SR.prototype.isTypingCleared=$SR.prototype.Wn;$SR.prototype.isChatting=$SR.prototype.pl;$SR.prototype.hasJoined=$SR.prototype.jn;$SR.prototype.hasLeft=$SR.prototype.kn;function $SIc(a,b){return 1!=a.m.status&&b?!1:1==a.m.mode||2==a.m.mode&&a.m.sc?!0:!1}
function $SJc(a){if(1==a.m.status&&a.m.target&&2==a.m.mode){var b=a.m.sc?!0:!1;if(a.m.ga!=b){a.m.ga=b;var d=new $SR;d.s=a.m.target;d.T=b?1:2;d.send()}}}
function $SKc(a,b,d,e,f,h){var k=d.ia,l=d.jd();l||(console.log("bug: notify_activity on self profile: "+e),l=new $SR);l.i=$So();b?(l.mid=b.mid,l.i=b.i,l.v=b.v,l.s=b.s,l.profile=b.profile,l.La=b.La):4==e&&(l.s=k.J.C);l.profile||(l.profile=d);!l.La&&l.s&&(l.La=a.M("",l.s));void 0==h&&(h=!1);if(1!=e&&2!=e||k.m.If!=e||h)1==e||10==e?k.m.If=1:2==e&&(k.m.If=2),l.T=e,l.value=f,a=$SLc(a,l),null!=a&&$Sn(a,"Mesibo_onPresence")&&a.Mesibo_onPresence(l)}
function $SMc(a,b){if(b.source.v){var d=b.v,e=a.M(d),f=e.ia;f.J.J&&(clearTimeout(f.J.O),f.J.J=!1,$SKc(a,null,e,4,0,!1));b.Ma?a.Rc(d,b.i,b.Ma,0):b.source.m&&a.Rc(d,b.i,0,0)}}function $SNc(a,b){if(b.source.v){var d=b.v;b.Ma?a.Rc(d,b.i,b.Ma,0):b.source.m&&2==b.status&&a.Rc(d,b.i,0,0)}}function $SOc(a,b,d){d.m.Gf&&clearTimeout(d.m.Gf);d.m.Gf=setTimeout(function(){$SPc(a,b,2)},a.jc.message)}
function $SPc(a,b,d){b=a.M(b);var e=b.ia;3==d?(e.J.J=!1,$SKc(a,null,b,4,0,!1)):2==d&&(e.m.m&&a.bb?(d=$So(),e.m.Eb>d&&e.m.i>a.m.i||d-e.m.i>a.jc.subscribe&&$SKc(a,null,b,2,0,!1)):$SKc(a,null,b,2,0,!1))}function $SQc(a,b){a=a.ia;return a.m.m?a.m.be&&b==a.m.C?!0:!1:!1}function $SRc(a,b,d){b=b.ia;return!b.J.J||!b.m.m||$So()>b.J.Eb?!1:b.J.i>a.m.i&&d==b.J.C?!0:!1}
function $SSc(a,b){if(!a.bb||!a.m.sc||b.Da()==a.g.Lb)return!1;if($STc(a,b.Da()))return!0;if(b.Sg()||!$SUc(a,null,b))return!1;var d=$So(),e=b.ia;a:if(b=b.Ha()){var f=a.M(b).ia,h=$So(),k=!1;if(f.m.Eb>h+1E4&&(k=!0,f.m.Pa>=a.m.i||f.m.Ke>=a.m.i||f.m.i>=a.m.i))break a;15E3>h-f.m.Pa||(k=k?1:0,f.m.Pa=h,f=[],f.push(b),b={sub:{}},b.sub.duration=a.jc.subscribe/1E3,b.sub.type=0,b.sub.T=1,b.Ua=f,b.flags=k,$SVc(a,39,f.length,b))}if(e.m.Eb>d||!e.m.m)return e.m.m;d-=e.m.i;return e.m.i>=a.m.i&&d<a.jc.message?e.m.m:
!1}
function $SWc(a,b){var d=b.ia,e=b.Ll,f=b.v;if(0==d&&1==e&&2!=a.m.ke){var h=new $SR;h.v=f;if(!$SIc(a,!0)){h.T=2;h.send();return}h.T=1;h.value=1;h.send()}h=a.M(f);var k=h.ia;if(1==d||2==d)k.m.i=$So(),k.m.Ke=k.m.i,k.ga.ia=0,k.ga.i=0,clearTimeout(k.m.Gf);if(1==d&&2!=e)k.m.m=!0;else if(2==d||1==d&&2==e)k.J.J&&clearTimeout(k.J.O),k.m.m=!1,k.m.be=!1,k.J.J=!1;else if(10==d)k.m.m=!0,k.m.be=!0,k.m.C=b.s;else if(11==d)k.J.J&&clearTimeout(k.J.O),k.m.be=!1,k.J.J=!1;else if(3==d){var l=k.J.J;k.J.J=!0;k.J.C=b.s;
k.m.m=!0;k.m.be=!0;k.J.i=$So();k.J.Eb=k.J.i+a.jc.J;k.J.O&&clearTimeout(k.J.O);k.J.O=setTimeout(function(){$SPc(a,f,3)},a.jc.J);if(l)return}else if(4==d)k.J.J&&clearTimeout(k.J.O),k.J.J=!1;else if(0==d&&1==e&&(d=1,e=0,k.m.m))return;k.ia=d;$SKc(a,b,h,d,e,!0)}$S=$SS.prototype;$S.Rc=function(a,b,d,e){(a=this.M(a,0))&&a.Rc(b,d,e)};
function $SXc(a,b){if(8>b.ya)a.Tb(null,b.v,b.s,0);else{var d=$Swb(b.data,b.ya);if(d.length){var e=b.ea&2?!0:!1;$So();var f=0,h=function(k){if(k&&!k.Ub){k.Pd=!e;k.Ub=!0;e&&(k.data="",k.ya=0,k.message="",k.wc=0,k.l=34359738368);var l=$SDc(a,k,!0);$SYc(a,l,k.status);f++;if(f==d.length)return!0;$SM(a.db,d[f],h);return!0}};$SM(a.db,d[0],h)}}}
function $SZc(a,b,d){var e;return $Sg(function(f){if(!b.uid&&!b.v&&!b.s)return f.return();!b.uid||b.v||b.s||(b.v=$S_c(a,b.uid));if(b.l&128)return f.return();b.data=b.message;b.ya=b.wc;if(144==b.channel)return f.return();if(128==b.channel)return $S0c(a,b,!0),f.return();if(129==b.channel)return f.return();e=b.l&1024?!0:!1;if(!b.R||!b.mid||!e&&b.l&4194316)return f.return();if(!b.channel&&!e){b.i=d;b.status=1;b.origin=0;$S1c(a,b);if(256&parseInt(b.l)){if($S2c(a,b,b.data,b.ya),b.Ng||b.cc||b.qf)return f.return()}else{if(null==
b.message)return f.return();b.message=$Su(b.message)}$S3c(a,b);return f.return()}if(!e)return f.return();if(27==b.type)return $SXc(a,b),f.return();if(32==b.type)return $ST(a,!0,!1),f.return();if(40==b.type)return $ST(a,!0,!0),f.return();if(31==b.type)return $S4c(a,b),f.return();if(518==b.type){var h=b.ea,k=a.M(b.v,0);k&&(k.xg(h&4?!0:!1),k.wg(h&8?!0:!1),h&16777216||(k.save(),$ST(a,1,0)));return f.return()}f.j=0})}
function $Sfb(a,b){var d=b.i,e=new $Sx($SC);$Sab(e,b.data,b.ya);$S5c(e,1,function(f){return $Sg(function(h){return $Sd(h,$SZc(a,f,d),0)})})}
function $SDc(a,b,d){if(!b.data&&!d)return null;d=new $SP;d.nb=b;d.mid=b.mid;d.Ad=b.Ad;d.L=b.L;d.channel=b.channel;d.R=b.R;d.type=b.type;d.status=b.status;d.l=b.l;d.data=b.data;d.v=b.v;d.s=b.s;d.i=b.i;d.Pa=b.Pa;d.Mb=b.Mb;d.duration=b.duration;256&parseInt(b.l)?$S2c(a,d,b.data,0):d.message=$Su(b.data);d.profile=$SU(a,d.v,0,0,!1,!0);d.La=null;b.s&&(d.La=$SU(a,"",d.s,0,!1,!0));return d}
function $S2c(a,b,d,e){var f=new $Sx($SC,-1);$Sab(f,d,e);d=$SD(f,1);b.message="";b.wc=0;b.Ng=!1;b.qf=!1;if(!(null==d||0>=d.length))for(var h in d){e=d[h];f=e.Cb;var k=e.data;switch(parseInt(e.type,10)){case 1:b.title=$Su(k);break;case 8:b.eb=$Su(k);break;case 9:b.Vb=$Su(k);break;case 6:e=$SE(k,0,k.byteLength);b.longitude=(e&4294967295)/11930400-180;b.latitude=(e>>32)/11930400-90;break;case 16:b.file.type=f;break;case 11:b.file.Bd=f;break;case 17:b.file.size=f;break;case 18:b.file.flags=f;break;case 12:b.file.name=
$SF(k,0,k.byteLength-1);break;case 19:b.file.url=$SF(k,0,k.byteLength-1);break;case 14:b.Bp=$SF(k,0,k.byteLength-1);break;case 4:b.ha=k;break;case 20:b.qf=!0;b.cc=$SE(k,0,4<k.byteLength?4:k.byteLength);4<k.byteLength&&(e=k.slice(4,k.byteLength),e=$SE(e,0,e.length),$STc(a,e)||(b.cc=0));break;case 2:b.message=$Su(k);break;case 15:b.Nd=$Su(k);break;case 21:b.ia=f;b.Ng=!0;break;case 22:b.Ll=f}}}
function $S6c(a){var b=new $Sx($Sy);a.file.type&&0!=a.file.type||(a.file.name?a.file.type=$SMa(a.file.name):a.file.url&&(a.file.type=$SMa(a.file.url)));a.file.type&&$Sz(b,16,a.file.type,2);a.file.Bd&&$Sz(b,11,a.file.Bd,2);a.file.size&&$Sz(b,17,a.file.size,4);a.file.flags&&$Sz(b,18,a.file.flags,4);$SA(b,19,a.file.url);$Sdb(b,12,a.file.name);$Sdb(b,1,a.title);$Sdb(b,8,a.eb);$Sdb(b,9,a.Vb);$Sdb(b,2,a.message);$Sdb(b,15,a.Nd);$SH(b,4,a.ha,0,!1);$Sz(b,0,0,4);return $SI(b)}
function $S5c(a,b,d){var e,f,h,k,l,n,q,z,A,D,K;return $Sg(function(m){e=$SD(a,b);f=!1;if(null==e||0>=e.length)m.j=0;else{h=new $SP;k=0;for(n in e)if(q=e[n],z=q.Cb,A=q.data,D=q.da,K=parseInt(q.type,10),1!=K)switch(K){case 3:h.mid=$SE(A,0,A.byteLength);var w=h;var v=A;var t=A.byteLength,x=[],E;for(E=0;E<t;E++)x[E]=v[0+E];v=$Snb($Spb(x),16,10);w.Ad=v;break;case 50:h.Xe=z;break;case 13:h.L=$SE(A,0,A.byteLength);h.ua.low=h.L;h.ua.high=0;4<A.byteLength&&(h.ua.low=$SE(A,0,4),l=A.slice(4,A.byteLength),h.ua.high=
$SE(l,0,l.length));break;case 15:h.ea=$SE(A,0,A.byteLength);h.Ya.low=h.ea;h.Ya.high=0;4<A.byteLength&&(h.Ya.low=$SE(A,0,4),l=A.slice(4,A.byteLength),h.Ya.high=$SE(l,0,l.length));break;case 29:h.ma=$SE(A,0,A.byteLength);break;case 30:h.count=z;break;case 19:h.Eg=$SE(A,0,A.byteLength);break;case 6:h.s=z;h.C=z;break;case 5:h.uid=z;break;case 21:h.ro=z;break;case 22:h.so=z;break;case 4:h.v=$SF(A,0,A.byteLength);break;case 20:h.Ma=z;break;case 8:h.R=z;break;case 7:h.message=A;h.wc=D;break;case 16:k=z;
h.i=$So()-1E3*z;break;case 9:h.l=z;break;case 10:h.channel=z;break;case 11:h.type=z;break;case 12:h.status=z;f=!0;break;case 25:h.V.ga=z;break;case 26:h.V.receive=z;break;case 27:h.V.read=z;break;case 42:h.sensitivity=z;break;case 40:h.Mb=$SE(A,0,A.byteLength);break;case 41:h.Ie=$SE(A,0,A.byteLength)}return $Sd(m,d(h,f,k),1)}})}
function $S7c(a,b,d,e,f){var h,k,l,n;return $Sg(function(q){b.uid&&b.uid!=a.ce&&(f.Ma=0,f.Jf=!1);0<b.uid&&null!=b.v?($S8c(a,b.uid,b.v,!0),a.yf=b.v,a.ce=b.uid):0<b.uid?(b.v=$S_c(a,b.uid),b.v&&(a.yf=b.v),b.v=a.yf,a.ce=b.uid):(b.v=a.yf,b.uid=a.ce);b.origin=0;h=b.l&1024?!0:!1;k=b.l&4096?!0:!1;d&&2!=b.status&&3!=b.status&&(k=!0);b.ma&&(k=f.Jf=!0);b.Ma&&(f.Ma=b.Ma);if(b.l&2097152||f.Ma)f.Jf=!0,b.l|=2097152;if(0!=b.L&&0==b.channel&&!h)if(0==b.ua.high){if(!b.ma||b.tc())b.ua.high=b.uid,b.L=$Sub(b.ua.low,b.ua.high)}else b.ua.high==
$SQ(a)&&(b.ua.high=0,b.L=b.ua.low);b.source.zp=h;b.source.Cc=k;b.source.v=h||k?!1:!0;b.source.m=!f.Jf&&b.source.v;b.Ma=f.Ma;if(!b.ma&&d){if(0==$S9c(a,b)){q.j=0;return}$SNc(a,b);return $Sd(q,$S$c(a,b),0)}if(b.message){b.data=b.message;b.ya=b.wc;if(129==b.channel&&0<b.ea)b.qf=!0,b.cc=b.Ya.low,$STc(a,b.Ya.high)||(b.cc=0),b.wc=0;else if(256&parseInt(b.l)&&($S2c(a,b,b.message,b.wc),b.Ng))return $SWc(a,b),q.return();$SMc(a,b);0<b.wc&&(b.message=$Su(b.message));if(b.qf)l={channel:0,status:3},l.v=b.v,l.s=
b.s,l.channel=0,l.Fg=!1,l.i=b.i,0<b.cc?(l.mid=b.cc,b.cc=0,$S$c(a,l)):0<b.s&&(n=a,$Sjc(a.db,null,b.s,b.i,function(z){0>z||(l.mid=z,l.Fg=!0,$S$c(n,l))}));else if(0==(b.l&16)){4294967295>parseInt(b.mid)&&0<parseInt(b.mid)&&(!b.ma||18==b.status||19==b.status)&&(b.mid=$Sub(b.mid,a.ce),b.Ad=b.mid+"");if(b.v&&(b.profile=a.M(b.v,0),b.profile&&($Sad(b.profile,b,!0)||!$SUc(a,b,b.profile))))return q.return();if(144==b.channel)b.Nb(),$Sbd(a,b);else if(b.l&512)$S0c(a,b,!1);else{if(b.l&1024)return $Sd(q,$Scd(a,
b),0);if(b.l&262144&&!(a.Kb.interval&&a.Kb.Of&1))return q.return(0);if(0<b.V.ga&&18==b.status&&e>b.V.ga)return q.return();$Sdd(a,b)}}}q.j=0})}function $Sed(a,b){var d,e;return $Sg(function(f){d={Ma:0,Jf:!1};e=a;return $Sd(f,$S5c(b,0,function(h,k,l){return $Sg(function(n){return $Sd(n,$S7c(e,h,k,l,d),0)})}),0)})}
function $Sfd(a){if(a.bb&&!a.Rf)if(a.hd)a.send(a.hd);else if(0!=a.zb.size()){a.Jj=[];var b=new $Sx($Sy),d=0,e=a.gf++&65535;for($Sz(b,17,e,2);;){e=a.zb.first();if(null==e)break;e.l&8&&(e.l&=-4,e.l|=16388);e.l&1024&&(e.l&=-4,e.l|=4);e.mid&&a.Jj.push(e.mid);var f=b.da,h=a,k=b,l=e;$Sz(k,1,0,0);var n=parseInt(l.mid,10);0<n&&$Sz(k,3,n,4);0<l.channel&&$Sz(k,10,l.channel,1);0<l.type&&$Sz(k,11,l.type,1);n=parseInt(l.l,10);$SIc(h,!0)||(n|=2097152);0<n&&$Sz(k,9,n,4);n=0;l.s&&(n=parseInt(l.s,10));0<n?$Sz(k,6,
n,4):(l.uid?n=parseInt(l.uid,10):(n=l.v,h.Db.hasOwnProperty(n)?(h=h.Db[n],n=parseInt(h.t),n=2592E3<$Sp()-n?0:h.u):n=0),0<n?$Sz(k,5,n,4):$SH(k,4,l.v,0,!1));n=parseInt(l.R,10);0<n&&$Sz(k,8,n,4);l.L&&$SGb(k,13,l.L);l.ea&&$SGb(k,15,l.ea);0<l.ma&&($Sz(k,29,l.ma,4),$Sz(k,30,l.count,4),$Sz(k,28,l.Eg,4));$SH(k,7,l.data,0,!0);l.V&&($SJ(k,25,l.V.ga),$SJ(k,26,l.V.receive),$SJ(k,27,l.V.read));$SJ(k,40,l.Mb);$SJ(k,41,l.Ie);$SJ(k,42,l.sensitivity);if(32E3<b.da){a.zb.data.unshift(e);b.da=f;break}d++;a.mk.add(e);
if(d>=a.Kj||0<e.s)break}d&&(a.Ff=$So(),b.Y=2,b.result=d,b.id=0,a.hd=b,a.Rf=!0,a.send(a.hd))}}
$S.xa=function(a){if(this.stopped||!(a instanceof $SP||a instanceof $SR))return!1;this.ec&&!this.stopped&&this.Ra.th();if($Sr(a.v)&&0==a.s&&0==a.uid)return!1;a.s=$St(a.s);a.uid=$St(a.uid);if(0<a.s||!a.v)a.v="",a.uid=0;a.status=0;a.gq=this.gf++;a.origin=0;a.l&=-1;if(a.s||""==a.v)a.s&&(b=this.M(null,a.s),a.mid&&(b.ia.ga.i=0));else{var b=this.M(a.v,0);if(b){var d=$Sad(b,a,!1);if(1==d||2==d){if(!a.mid)return!0;a.i=$So();$S1c(this,a);a.status=1==d?136:1;$S$c(this,a);return}if(!$SUc(this,a,b))return;a.mid&&
(b.ia.ga.i=0)}}this.zb.add(a);$Sfd(this);0<a.mid&&(a.i=$So(),$S1c(this,a));if(a instanceof $SR)return!0;!(a.channel||0<(a.l&1024))&&a.uf()&&a.mid&&$S3c(this,a);return!0};
function $SEc(a,b,d,e){if(!d||!Array.isArray(d)||!d.length)return!1;void 0===e&&(e=!0);for(var f=0;!f&&d.length;)f=d.shift();return f?$SM(a.db,f,function(h){if(!h)return $SEc(a,b,d,e),!1;h=$SDc(a,h);if(h.l&17179869184)return!1;b.l=h.l&320;!e||18!=h.status&&19!=h.status||(b.l|=64);b.data=h.data;256&parseInt(h.l)?$S2c(a,b,h.data,0):b.message=$Su(h.data);a.xa(b);if(!d.length)return!1;h=new $SP;h.type=b.type;h.R=b.R;h.v=b.v;h.s=b.s;h.mid=a.Kg();$SEc(a,h,d,e);return!1}):!1}
function $Sgd(a,b){b.l|=256;b.data=$S6c(b);a.xa(b)}
function $SFc(a,b){b.Qi||b.Di();if(b.data)return a.xa(b);if(!(b.title||b.eb||b.Vb||b.ha||b.content||b.pa||b.Mi())){if(!b.message)return!1;if(b.Vc&&b.Hc&&!b.Wj){b.Wj=!0;var d=b.message.match(/\bhttps?:\/\/\S+/gi);if(d){b.i=$So();$S3c(a,b);b.update=!0;$Shd(a,b,d[0]);return}}d=new TextEncoder;b.data=d.encode(b.message);return a.xa(b)}if(b.content)if(b.file.type=b.contentType,$SUa(b.content))b.file.url=b.content,b.file.size=0,$Sgd(a,b);else if(d=$Ssa(b.content),null==d)$Sgd(a,b);else if(b.file.name=d.name,
b.file.type&&0!=b.file.type||(b.file.type=$SMa(d.name)),d.type.match("image.*")){b.file.type=1;var e=new $Sid;e.jh=1200;var f=new $Sid;f.jh=200;f.quality=35;f.ei=1.5;$Sjd(a,d,e,f,function(h,k,l){b.file.size=l;b.file.url=h;b.ha=k;$Sgd(a,b)})}else b.file.size||(b.file.size=d.size),$Skd(a,d,function(h){b.file.url=h;$Sgd(a,b)});else $Sgd(a,b)}
$S.jk=function(a,b,d){if(!a&&!b)return!1;b&&(a="");var e=new $SP;e.mid=this.random();e.channel=129;e.l=256;e.R=31536E3;e.ea=d;e.v=a;e.s=b;a=new $Sx($Sy);$SGb(a,20,d);e.data=$SI(a);return this.xa(e)};$S.ae=function(a,b,d){return 0<d&&a.s==d||0==d&&a.v==b&&0==a.s?!0:!1};
function $Sld(a,b){if(b.l&1036||b.channel)return!1;for(var d=0;d<a.summary.length;d++){var e=a.summary[d];if(a.ae(e,b.v,b.s)){if(e.i>b.i)return!1;a.summary.splice(d,1);break}}for(d=0;d<a.summary.length;d++)if(e=a.summary[d],e.i<b.i){a.summary.splice(d,0,b);return}a.summary.push(b);return!0}
function $Smd(a,b,d){if(!(b.l&1024||b.channel)){for(var e=-1,f=0;f<a.summary.length;f++){var h=a.summary[f];if(a.ae(h,b.v,b.s)){if(!d){if(h.i>b.i)return;a.summary.splice(f,1)}e=f;break}}b.profile||(b.profile=$SU(a,b.v,0,0,!1,!0),b.La=null,b.s&&(b.La=$SU(a,"",b.s,0,!1,!0)));d?(0<=e?a.summary[e]=b:a.summary.unshift(b),a.Ce[b.mid]=b,a.summary.sort(function(k,l){k=k.i;l=l.i;return k>l?-1:k<l?1:0})):(a.summary.unshift(b),a.Ce[b.mid]=b)}}
function $Snd(a,b){for(var d=0;d<a.summary.length;d++){var e=a.summary[d];if(a.ae(e,b.Ha(),b.Fb()))return e}return null}
function $S1c(a,b){if(b.mid&&!(b.l&4))if(b.profile||(b.profile=a.M(b.v,0)),b.La=null,b.s&&(b.La=a.M("",b.s)),b.ma){b.Nb();var d=$Sld(a,b);$S_b(a.db,b,d)}else{for(var e in a.Ja){d=a.Ja[e];var f=d;var h=b;if(!$Sod(f,h)||144!=h.channel&&(63<=h.channel||h.l&1024))f=!1;else{var k=h.mid;f.Wa[k]||(18!=h.status||f.Nc&&1!=h.origin||self.Va&&!(h.i>self.Va.i)||(self.Va=h),h.Nb(),f.Wa[k]=h,1==h.origin?f.Xa.unshift(h):(f.Xa.push(h),$Spd(f,h)));f=!0}f&&d.Nc&&18==b.status&&(b.status=19)}0!=b.origin||18!=b.status&&
19!=b.status||$Sqd(b,b.status);d=null;if(b.update||b.vf())if(d=a.Wa[b.mid])d.message=b.message,d.data=b.data,d.update=b.update,d.l=b.l,d.i=b.i;null==d&&(a.Wa[b.mid]=b);a.db&&0==b.origin&&($S_b(a.db,b,!0),a.data.Jc=$So(),$Smd(a,b,!1),a.Ba.pending&&$ST(a,0,0))}}function $Srd(a){a.hd=null;if(0!=a.zb.size())if(a.kh>a.Ff)setTimeout(function(){$Sfd(a)},a.kh-a.Ff+1);else{var b=$So()-a.Ff;b>=a.Qg?$Sfd(a):setTimeout(function(){$Sfd(a)},a.Qg-b+1)}}
$S.Th=function(a){var b=a.mid,d=a.status,e=this.Wa[b];if(e){a=e;if(3==d)for(b in this.Ja){e=this.Ja[b];var f=a;if($Sod(e,f)){for(var h=e.Xa.length-1;0<=h;){if(e.Xa[h].mid==f.mid){e.Xa[h].status=3;break}h--}if(!(0>=h))for(h--;0<=h&&3!=e.Xa[h].status;)3>e.Xa[h].status&&(e.Xa[h].status=3),h--}}else for(b in this.Ja)e=this.Ja[b],e.Th(a,d);a.status=d;a.sd&&(a.sd.status=d)}b=a.mid;if(e=this.Ce[b])e.status=d,e.sd&&(e.sd.status=d)};
function $Ssd(a,b){b||(b=8);for(var d=new Uint8Array(a.length*b),e=0;e<a.length*b;e++)d[e]=0;for(e=0;e<a.length;e++){var f=$Sob(a[e]),h=f.length;h>b&&console.log("BUG: create_message_with_ids: len "+h+" > "+b);for(var k=0;k<h;k++)d[e*b+k]=f[k]}return d}function $Std(a,b,d,e,f){if($Sud(a)||$Svd(a)){var h=" ";b&&(h=$Ssd(b,8),d="1",e=0);b=new $SP;b.channel=130;b.mid=a.random();b.type=27;b.l=1024;b.R=31536E3;b.v=d;b.s=e;b.data=h;b.ea=f?2:4;a.xa(b)}}
function $Swd(a,b,d){if($Sud(a)||$Svd(a))if(2==d||3==d){b=$Ssd([b],8);var e=new $SP;e.mid=a.random();e.channel=130;e.type=28;e.l=1024;e.R=31536E3;e.v="1";e.s=0;e.ea=d;e.data=b;a.xa(e)}}function $Sxd(a,b,d,e,f){b||(b=new $SP,b.R=62208E3,b.uid=a.g.Lb);b.channel=130;b.type=d;b.l=1024;b.ea=e;b.mid=a.random();b.data=f;a.xa(b)}
function $Syd(a,b,d){var e,f;return $Sg(function(h){e=a;f=0;return $Sd(h,a.db.read(b,d,0,1,function(k){if(k)k=$SDc(e,k),k.Nb(),$S2b(e.db,k),$Smd(e,k,!0),e.Ce[k.mid]=k,f++;else if(0==f){$S3b(e.db,b,d);k=e;for(var l=0;l<k.summary.length;l++){var n=k.summary[l];if(!n.ui&&(d&&n.s==d||!d&&!n.s&&n.v==b)){k.summary.splice(l,1);break}}}return!0}),0)})}function $SGc(a,b,d,e,f){return e||3<b||0<(d&0)||($So()-f)/1E3>a.Ig()?!1:!0}
function $Szd(a,b,d,e,f,h){var k,l;return $Sg(function(n){if(!b||!b.length)return $SAd(a,h,d),f(),n.return();k=a;l=b.shift();$SM(a.db,l,function(q){if(!q)return $Szd(k,b,d,e,f,h),!1;e&&$SGc(k,q.status,q.l,!1,q.i)&&h.push(q);q.ri=!0;var z=d;d&&0!=q.status&&0==(q.status&128)?(q.message="This message was deleted",q.data=q.message,q.l|=34359738368,q.l&=-257):(q.Pd=!0,z=!1);q.si=function(D){$Syd(k,D.v,D.s)};q.Sh=q.si;if(z){if(z=k.Wa[q.mid])z.message=q.message,z.data=q.data,z.l=q.l}else for(var A in k.Ja)k.Ja[A].pc(q.mid);
$Szd(k,b,d,e,f,h);return!0});n.j=0})}
function $SBd(a,b,d,e,f,h,k,l){var n,q,z,A;$Sg(function(D){if(1==D.j){n=a;if(!b){D.j=2;return}q=[];z=[];for(A=0;A<b.length;A++)z[A]=b[A];return $Sd(D,$Szd(a,z,h,k,l,q),3)}return 2!=D.j?($Std(n,b,d,e,!1),D.return()):$Sd(D,a.db.qc(d,e,f,function(K){var m,w;return $Sg(function(v){if(1==v.j)return $Sd(v,$Syd(n,d,e),2);for(m in n.Ja){w=n.Ja[m];a:{var t=w,x=d,E=e,L;if(t.summary)for(L=0;L<t.summary.length;L++){if(0<E&&t.summary[L].s==E||x==t.summary[L].v){t.summary.splice(L,1);break a}}else $Sod(t,{v:x,
s:E})&&(t.Wa={},t.position=0,t.Xa.length=0,t.end=!1,t.Va=null,t.bh=0,t.ah=0)}}K&&$Std(n,null,d,e,!1);l();v.j=0})}),0)})}$S.qc=function(a,b,d,e,f,h){var k=this,l,n;return $Sg(function(q){f||(f=!1);h||(h=!1);l=k;n=new Promise(function(z){$SBd(l,a,b,d,e,f,h,z)});return q.return(n)})};$S.Tb=function(a,b){var d=this;return $Sg(function(e){return $Sd(e,d.qc(a,null,0,0,!1,b),0)})};$S.pc=function(a,b){var d=this,e;return $Sg(function(f){e=[a];return $Sd(f,d.qc(e,null,0,0,!1,b),0)})};
$S.Mp=function(a,b){var d=this;return $Sg(function(e){return $Sd(e,d.qc(a,null,0,0,!0,b),0)})};$S.Vh=function(a,b){var d=this,e;return $Sg(function(f){e=[a];return $Sd(f,d.qc(e,null,0,0,!0,b),0)})};$S.Lp=function(a){var b=this;return $Sg(function(d){return $Sd(d,b.qc(a,null,0,0,!0,!0),0)})};$S.Jl=function(a){var b=this,d;return $Sg(function(e){d=[a];return $Sd(e,b.qc(d,null,0,0,!0,!0),0)})};
function $SCd(a,b){var d=b.ea&a.Kb.Of;if(d){var e=$Svb(b.data,b.ya);if(e.length){var f=d&2?!0:!1,h=d&4?!0:!1;256&d&&a.Tb(null,b.v,0,0);if(4096&d)$SDd(a,b,16384);else if(h||f){var k=$So(),l=0,n=b.uid,q=[],z=function(A){var D=!1;if(A&&(k-A.i)/1E3<=a.Kb.interval){D=!0;A.data="";A.ya=0;A.message="";A.wc=0;if(18==A.status||19==A.status)A.status=34;A.Ub=!0;A.Pd=!f;q.push(A.mid);$SYc(a,A,A.status)}l++;if(l==e.length)return q.length&&$Std(a,q,null,0,f),D;$SM(a.db,$Sub(e[l],n),z);return D};$SM(a.db,$Sub(e[0],
n),z)}}}}
function $SEd(a,b,d){var e,f,h,k,l;$Sg(function(n){if(1==n.j){e=a;f=b.type;h=b.L;b.profile=a.M(b.v,0);if(30!=f){25==f?$SFd(a,b):32==f?$SGd(a,b):41==f?$SHd(a,b):43==f?$SId(a,b):45==f?$SJd(a,b):46==f?$SKd(a,b):38==f?a.Rc(b.message,b.i,b.Ya.low,b.Ya.high):518==f?$SLd(b.profile,b.L,b.ea):517==f?$SCd(a,b):36==f?$SDd(a,b,0):62==f?$SMd(a,b):13==f?$S8c(a,b.ea,b.message,!0):14==f?$Sfb(a,b):37==f&&$SNd(a,b);n.j=2;return}k=parseInt(b.Ya.low);(l=parseInt(b.Ya.high))&&(e.pf[l]=k);return $Sd(n,$SM(a.db,h,function(q){if(!q)return d(),
!1;e.pf[q.s]=k;q.rc=k;q.dc=k;q.Sh=function(){var z;return $Sg(function(A){if(1==A.j)return z={status:1,channel:0},z.mid=q.mid,z.s=q.s,z.v="",$Sd(A,$S$c(e,z),2);d();A.j=0})};return!0}),3)}if(2!=n.j)return n.return();d();n.j=0})}function $Scd(a,b){var d,e;return $Sg(function(f){d=a;e=new Promise(function(h){$SEd(d,b,h)});return f.return(e)})}$S.Yb=function(a,b,d){this.db.Yb(a,b,d)};
function $SUc(a,b,d){return 0==a.g.o.ub||d.Da()==a.g.Lb||b&&(b.l&5120||b.uid==a.g.Lb)||1==a.g.o.ub&&d.kj()||2==a.g.o.ub&&d.Tg()||3==a.g.o.ub&&d.Np()?!0:!1}function $SAd(a,b,d){d=d?2:4;for(var e=[],f=null,h=0,k=0;k<b.length;k++){var l=b[k];if(0<e.length&&(l.s&&l.s!=h||!l.s&&!$SHa(l.v,f))){var n=new $SP;$Sxc(n,f,h);e=$Ssd(e,4);$Sxd(a,n,517,d,e);e=[]}e.push(l.mid);f=l.v;h=l.s}e.length&&(n=new $SP,$Sxc(n,f,h),e=$Ssd(e,4),$Sxd(a,n,517,d,e))}$S.Yo=function(a){this.Kb.interval=a};$S.Ig=function(){return this.Kb.interval};
$S.fp=function(a){this.Kb.Of=a};function $Shd(a,b,d){b.mid&&d&&$SXa(d,function(e){$Shc(a.db,e,function(f){if(f){var h=new $SP;$S2c(a,h,f.data,f.data.length);$SOd(a,b,h)}else b.Uh=e,a.Jk[b.mid]=b,f=b.mid,h=new $SP,h.file.url=d,h=$S6c(h),$Sxd(a,null,62,f,h)})})}function $SOd(a,b,d){b.Qi=!0;b.title=d.title;b.eb=d.eb;b.file.url=d.file.url;b.file.flags=d.file.flags;b.ha=d.ha;$SFc(a,b)}
function $SMd(a,b){var d=a.Jk[b.ea];if(d)if(b=b.data,!b||3>b.length)$SFc(a,d);else{var e=new $SP;$S2c(a,e,b,b.length);e.file.url&&(e.title||e.eb||e.ha)?$SOd(a,d,e):$SFc(a,d)}}function $SPd(a,b,d){a=a.substring(b,b+d);return parseInt(a,16)}
function $S9a(a,b){var d=b.length;a.Fp=b.substring(0,32);for(var e=new Uint8Array(16),f=0;32>f;f+=2)e[f>>1]=parseInt(b.substr(f,2),16);a.cookie=e;e=32+parseInt(parseInt(b[11],16)/2);var h=b.substring(e,d);f=15-parseInt(h[0],16);a.uid=$SPd(h,1,f)^$SPd(h,1+f,f);e+=1+2*f;h=b.substring(e,d);f=15-parseInt(h[0],16);for(var k=e+=1+2*f;k<d&&(h=b[k],"0"<=h&&"9">=h||"a"<=h&&"f">=h||"A"<=h&&"F">=h);k++);h=b.substring(e,k);a.na=parseInt(h,16);if(0==a.uid||0==f||1093344>a.na||0xffffffffff<a.na)console.log("Invalid token: "+
b),a.na=0;else{for(;k<d&&(h=b[k],"g"<=h&&"z">=h);k++);a.g.tb=0;k<d&&(h=b.substring(k,d),f=15-parseInt(h[0],16),a.g.tb=$SPd(h,1,f)^$SPd(h,1+f,f),e=k+(1+2*f));a.Af=0;e<d&&(h=b.substring(e,d),f=15-parseInt(h[0],16),a.Af=$SPd(h,1,f)^$SPd(h,1+f,f))}}
function $SQd(a,b){var d=null;b&&(d=$SD(b,0));var e=a.g.r.i;$SRd(a.g);if(!b||null==d||0>=d.length)a.g.r.i=e;else{a.g.r.p=0;for(var f in d){b=d[f];e=b.Cb;var h=b.data;switch(parseInt(b.type,10)){case 7:a.Xc&&(a.g.r.i=$Sp());a.g.r.host=$SF(h,0,h.byteLength-1);break;case 11:a.g.r.p||(a.g.r.p=e);break;case 3:a.g.r.e=$Sp()+e;break;case 4:a.g.r.Bb=h.slice(0);break;case 5:a.g.r.d=e;break;case 9:a.g.r.r=e;break;case 10:a.g.r.t=e;break;case 12:a.g.r.me=e;break;case 6:a.g.r.ch=$SF(h,0,h.byteLength-1);break;
case 13:a.g.r.We=e}}a.g.r.id=a.na}$Sw(a)}function $Sud(a){return a.g.o.pd?a.g.o.flags&4096?!0:!1:!0}function $Svd(a){return a.g.o.flags&16384?!0:!1}
function $SSd(a,b,d,e,f,h){var k=new Uint8Array(4+e.byteLength+f.byteLength+h.length);$Sqb(b,k);$Srb(f,f.byteLength,k,4);$Srb(e,e.byteLength,k,4+f.byteLength);$Ssb(h,h.length,k,4+e.byteLength+f.byteLength);crypto.subtle.digest("SHA-256",k).then(function(l){var n=new Uint8Array(l);l=new $Sx($Sy);l.Y=1;l.result=1;l.id=d;var q=262144;$Sr(a.g.address)&&(q|=8);a.Nj&&(q|=524288);$Sz(l,4,a.g.fc,4);$SH(l,11,n,n.byteLength,!1);$Sz(l,36,a.g.Qe,4);!a.Xc&&a.li&1&&(n=a.g.r.Bb,$SH(l,16,n,n.byteLength,!1));a.m.ga=
!1;a.m.target&&$Sz(l,25,a.m.target,4);$SIc(a,!1)&&(a.m.target&&(a.m.ga=!0),q|=1);0<q&&$Sz(l,10,q,4);a.send(l)})}function $STd(a){var b=a.g.o.Fc;if(!b||16>b.length)b=a.Z.bi.Fc;return b}function $SUd(a,b){alert($STd(a));if(b)for(window.stop(),a=$Sp();a;)a+=$Sp()}function $SVd(a,b){0!=b&&(1&b&&(a.ve=1),2&b&&$SUd(a,!1),8&b&&$SUd(a,!0),64&b&&($SRd(a.g),$Sw(a)))}function $SWd(a,b){b=$So()+b;b>a.g.o.Qa&&(a.g.o.Qa=b)}
function $SXd(a){0!=a.bb&&(a.yc&&$SYd(a),$S6a(a),a.xf=setTimeout(function(){$SYd(a)},a.uj))}function $S6a(a){-1!=a.xf&&clearInterval(a.xf);a.xf=-1}function $SYd(a){if(0!=a.bb&&$SG(a.Ra)){a.qh=0;var b=new $Sx($Sy),d=a.yc;b.Y=14;b.result=0;b.id=d;a.yc=0;a.send(b)}}
function $SZd(a){this.notify=a;this.Mg=this.flags=0;this.startTime=this.Ta=this.G=this.qe=this.de=this.w=null;this.videoWidth=this.videoHeight=0;this.Ej=!1;this.Oj={offerToReceiveAudio:1,offerToReceiveVideo:1};this.configuration={iceServers:[{urls:"stun:stun.l.google.com:19302"}],bundlePolicy:"max-bundle"}}$S=$SZd.prototype;$S.cd=function(a,b){if(!b)return!1;a&&(this.de=document.getElementById(a));return(this.qe=document.getElementById(b))?!0:!1};
$S.Za=function(a){if(this.notify){var b=this.notify;b.b&&b.b&&(b.b.zc=$So(),b.b.oh=2==a?1:0,5==a?(b.b.la=null,$S_d(b,0,97,0)):(16==a&&(b.b.la=null),16==a?$S_d(b,0,98,0):2==a?(b.b.to++,$S0d(b,48)):3==a&&$S0d(b,50)))}};function $S1d(a,b){b=JSON.stringify(b);if(a.notify&&(a=a.notify,a.b&&a.b)){a.b.zc=$So();a.b.zd|=1;var d=8;a.b.Eh&&(d=5,a.b.Eh=0);a.Za(a.b.id,null,d,b,0)}}
function $S2d(a,b){return $Sg(function(d){if(1==d.j)return d.H=2,$Sd(d,a.w.setLocalDescription(b),4);if(2!=d.j)return $S1d(a,b),$Se(d,0);$Sf(d);d.j=0})}function $S3d(a,b,d){var e=d?"video":"audio";navigator.mediaDevices.enumerateDevices().then(function(f){for(var h=0;h<f.length;h++){var k=f[h];if(k.deviceId==a&&k.groupId==b){console.log("mesibo call "+e+" device: "+k.label);break}}}).catch(function(){})}
function $S4d(a){$Sg(function(b){return a.G?$Sd(b,a.G.getTracks().forEach(function(d){return d.stop()}),0):b.return()})}
function $S5d(a,b){var d,e;return $Sg(function(f){switch(f.j){case 1:return a.de&&a.de.addEventListener("loadedmetadata",function(){}),a.qe.addEventListener("loadedmetadata",function(){}),b&&a.qe.addEventListener("resize",function(){a.startTime&&(window.performance.now(),a.startTime=null)}),f.H=2,$Sd(f,navigator.mediaDevices.getUserMedia({audio:!0,video:b}),4);case 4:return d=f.X,a.de&&(a.de.srcObject=d),a.G=d,e=d.getTracks(),e.forEach(function(h){var k="video"==h.kind;h=h.getSettings();$S3d(h.deviceId,
h.groupId,k)}),f.return(!0);case 2:$Sf(f),a.Ej=!0,a.Za(5);case 3:return f.return(!1)}})}
function $S6d(a,b){var d,e;return $Sg(function(f){if(1==f.j)return a.w?f=f.return(!0):a.G?(f.j=2,f=void 0):f=$Sd(f,$S5d(a,b),3),f;if(2!=f.j&&!f.X||!a.G)return f.return(!1);a.startTime=window.performance.now();b&&a.G.getVideoTracks();a.G.getAudioTracks();a.w=new RTCPeerConnection(a.configuration);a.w.onicecandidate=function(h){if(h.candidate){var k={type:"candidate"};k.candidate=h.candidate.candidate;k.id=h.candidate.sdpMid;k.label=h.candidate.sdpMLineIndex;$S1d(a,k)}};a.w.oniceconnectionstatechange=
function(){var h=a.w.iceConnectionState;"failed"===h||"closed"===h?a.za():"connected"===h?a.Za(2):"disconnected"===h&&a.Za(3)};a.w.ontrack=function(h){0<h.streams.length?a.Ta=h.streams[0]:(null==a.Ta&&(a.Ta=new MediaStream),a.Ta.addTrack(h.track));a.qe.srcObject=a.Ta};a.G.getTracks().forEach(function(h){return a.w.addTrack(h,a.G)});e=d=!1;a.flags&16&&(d=!0);a.flags&64&&(e=!0);a.Ga(d,d,e,e);return f.return(!0)})}
$S.call=function(a){var b=this,d,e,f,h,k,l;return $Sg(function(n){switch(n.j){case 1:return b.notify.context.Ka.Cc&&2<b.notify.context.Ka.Cc.length&&(d=b.notify.context.Ka.Cc,e=b.notify.context.Ka.D,f=b.notify.context.Ka.flags,h={urls:[],username:String(e),credential:b.notify.Fp},f&1&&(k="turn:"+d+"?transport=udp",h.urls.push(k)),f&2&&(k="turn:"+d+"?transport=tcp",h.urls.push(k)),0<h.urls.length&&b.configuration.iceServers.push(h)),$Sd(n,$S6d(b,a),2);case 2:if(!b.w)return n.return(!1);n.H=3;b.Oj.offerToReceiveVideo=
a?1:0;return $Sd(n,b.w.createOffer(b.Oj),5);case 5:return l=n.X,$Sd(n,$S2d(b,l),6);case 6:$Se(n,4);break;case 3:return $Sf(n),n.return(!1);case 4:return n.return(!0)}})};
$S.answer=function(a,b,d){var e=this,f,h;return $Sg(function(k){switch(k.j){case 1:return $Sd(k,$S6d(e,d),2);case 2:if(!e.w)return k.return(!1);f=JSON.parse(b);k.H=3;return $Sd(k,e.w.setRemoteDescription(f),5);case 5:$Se(k,4);break;case 3:return $Sf(k),k.return(!1);case 4:return k.H=6,$Sd(k,e.w.createAnswer(),8);case 8:return h=k.X,$Sd(k,$S7d(e,h),9);case 9:$Se(k,7);break;case 6:return $Sf(k),k.return(!1);case 7:return k.return(!0)}})};
$S.za=function(){this.w&&(this.w.close(),this.w=null);this.Mg=1;$S4d(this)};function $S7d(a,b){return $Sg(function(d){if(1==d.j)return d.H=2,$Sd(d,a.w.setLocalDescription(b),4);if(2!=d.j)return $S1d(a,b),$Se(d,0);$Sf(d);d.j=0})}
$S.Ga=function(a,b,d,e){if(this.w){b=b?!0:!1;e=e?!0:!1;if(a){a=$Sa(this.w.getSenders());for(var f=a.next();!f.done;f=a.next())(f=f.value)&&f.track&&"audio"===f.track.kind&&(f.track.enabled=!b)}if(d)for(b=$Sa(this.w.getSenders()),f=b.next();!f.done;f=b.next())(f=f.value)&&f.track&&"video"===f.track.kind&&(f.track.enabled=!e)}};
function $S8d(a,b){var d,e,f;$Sg(function(h){switch(h.j){case 1:d=JSON.parse(b);if("candidate"==d.type)return f=new RTCIceCandidate({candidate:d.candidate,sdpMid:d.id,sdpMLineIndex:d.label}),h.H=13,$Sd(h,a.w.addIceCandidate(f),15);if("answer"!=d.type&&"offer"!=d.type){h.j=0;break}h.H=5;return $Sd(h,a.w.setRemoteDescription(d),7);case 7:$Se(h,6);break;case 5:$Sf(h);case 6:h.j=0;break;case 11:return e=h.X,$Sd(h,$S7d(a,e),12);case 12:$Se(h,0);break;case 9:$Sf(h);h.j=0;break;case 15:$Se(h,0);break;case 13:$Sf(h),
h.j=0}})}function $S9d(a){a.aa={};a.aa.Dd=6E4;a.aa.Tc=6E4;a.aa.Gk=15E3;a.aa.hg=7500;a.aa.Dp=6E4;a.aa.Ql=0;a.aa.oq=1;a.aa.Lq=null;a.aa.Fq=null;a.aa.Rh=0;a.aa.Dq=null;a.aa.Cq=0;a.wh=0;$S$d(a);a.fk=0;a.Cf=!0}
function $Sae(a,b,d,e,f){var h=a.Ra;h.Gc=32;$SB(h,null);h.Gc=0;a.b={};a.b.id=d;a.b.Ef=0;a.b.Rl=0;a.b.channel=0;a.b.uh=0;a.b.lk=0;a.b.state=0;a.b.mode=e;a.b.Ib=1==e;a.b.video=f;a.b.Bq=0;a.b.lq=0;a.b.gb=0;a.b.bk=0;a.b.Se=0;a.b.jg=0;a.b.$a=0;a.b.Eh=0;a.b.ec=0;a.b.zd=0;a.b.Mg=0;a.b.bf=!1;a.b.Pi=0;a.b.callee=0;a.b.Mj=0;a.b.oh=0;a.b.to=0;a.b.iq=0;a.b.Pe=0;a.b.Hh=0;a.b.vh=0;a.b.Pj=0;a.b.ti=0;a.b.ne=0;a.b.zc=0;a.b.Mq=0;a.b.Ob=0;a.b.la=null;a.b.dk=0;a.b.gk=0;a.b.bg=$So();a.b.v=b;a.b.Eq=0;a.b.ug=0;a.b.timeout=
a.aa.Gk;1==e&&(a.b.timeout=a.aa.hg);a.b.eh=!1;$Sbe(a,2E3)}function $S$d(a){a.dh=null;a.yh=null;a.Re=null;a.b=null;a.la=null;a.Cf=!0}function $SV(a,b){a.b&&(a.O&&clearTimeout(a.O),a.O=null,console.log(a.b.la),a.b.la&&(a.b.la.za(),a.b.la=null),0<b&&$S0d(a,b),$Sce(a,a.b),a.b=null,a.Ra&&(b=a.Ra,b.Gc=64,$SB(b,null),b.Gc=0),$S$d(a))}
function $Sde(a,b,d){if(a.b){0==b&&(b=a.b.id);if(71!=d){if(a.b.uh&64)return;a.b.uh=d}null!=a.notify&&(1==d?$Sn(a.notify,"Mesibo_onCall")&&a.notify.Mesibo_onCall(b,a.b.v,a.b.video):$Sn(a.notify,"Mesibo_onCallStatus")&&a.notify.Mesibo_onCallStatus(b,d))}}function $See(a,b){$Sn(a.notify,"Mesibo_onCallStatus")&&a.notify.Mesibo_onCallStatus(0,b)}function $S0d(a,b){a.b&&$Sde(a,a.b.id,b)}
function $Sfe(a,b){var d=new $Sx($Sy);$Sz(d,1,b.id,4);$Sz(d,2,b.status,2);$Sz(d,23,a.Wd(),4);b.type&&$Sz(d,3,b.type,2);b.l&&$Sz(d,4,b.l,4);b.Cd&&$Sz(d,7,b.Cd,4);b.Tc&&$Sz(d,8,b.Tc,4);b.Dd&&$Sz(d,9,b.Dd,4);b.sdp&&$SA(d,5,b.sdp);b.message&&$SA(d,16,b.message);b.ha&&$SH(d,18,b.ha,0,!1);1!=b.status&&5!=b.status&&3!=b.status||$Sz(d,19,5,4);$Sz(d,0,0,1);return $SI(d)}
function $S9c(a,b){if(!a.b||0==b.id||128!=b[a.Z.channel]||!a.b||b.L&&a.b.id!=b.L)return-1;if(b.status&128)return $SV(a,98),0;2==b.status&&(a.b.ne=0,a.b.ti=$So(),a.b.state=2,a.b.timeout=a.aa.hg);1==b.status&&0==a.b.uh&&$S0d(a,2);return 0}function $Sge(a,b,d,e){var f={};f.id=b;f.status=e;f.l=0;e=new $SP;e.mid=a.random();e.R=60;e.l=517;e.L=b;e.channel=128;e.v=d;e.data=$Sfe(a,f);a.xa(e)}$S=$SS.prototype;
$S.Za=function(a,b,d,e,f){!b&&this.b&&(b=this.b.v);!a&&this.b&&(a=this.b.id);if(!b||this.b.lk&64)return-1;97==d&&(d=72);var h={};h.id=a;h.status=d;e&&(h.sdp=e);h.l=f|16;this.b.timeout=this.aa.hg;a=new $SP;this.b.Ef=this.random();a.mid=this.b.Ef;a.R=30;d&64&&(a.R=60);a.l=517;a.L=this.b.id;a.channel=128;a.v=b;1==d?(h.Cd=this.aa.hg,h.Tc=this.aa.Tc,h.Dd=this.aa.Dd,this.b.timeout=this.aa.Gk):67==d?this.aa.Ql&&this.b.gb&&(h.l|=8):3==h.status?this.b.bk=1:5==h.status&&(this.b.gb=1);if(1==h.status||5==h.status)h.l|=
1,this.b.video&&(h.l|=2),this.aa.Rh&2&&(h.l|=131072),this.aa.Rh&1&&(h.l|=65536),this.aa.Rh&32&&(h.l|=262144),h.l|=524288;this.b.state=1;this.b.Hh=$So();this.b.lk=d;a.data=$Sfe(this,h);return this.xa(a)};
function $Sce(a,b,d,e,f){b||(b={},b.id=e,b.v=d,b.video=f,b.bg=0,b.eh=!1,b.Ib=!0,b.gb=!1);b.eh||(b.eh=!0,d=new $SP,d.mid=b.id,d.v=b.v,d.type=b.video?1:0,d.i=b.bg,e=$So(),d.i||(d.i=e),d.duration=0,f=(new TextEncoder).encode(" "),d.data=f,d.status=21,b.Ib?b.Ib&&b.gb&&(d.status=22):d.status=23,b.gb&&(d.duration=parseInt((e-b.Pe)/1E3+.5)),$Sdd(a,d))}function $She(a){var b=72;a.b&&a.b.la&&a.b.la.Ej&&(b=100);return b}
function $S0c(a,b,d){var e=b.data,f=b.ya,h={Cd:0,l:0},k=new $Sx($SC);$Sab(k,e,f);e=$SD(k,1);if(null==e||0>=e.length)var l=null;else{for(l in e){f=e[l];k=f.Cb;var n=f.data;switch(parseInt(f.type,10)){case 1:h.id=$SE(n,0,n.byteLength)&4294967295;break;case 2:h.status=k;break;case 23:h.sender=k;break;case 3:h.type=k;break;case 4:h.l=k;break;case 7:h.Cd=k;break;case 8:h.Tc=k;break;case 9:h.Dd=k;break;case 5:h.sdp=$SF(n,0,n.byteLength),h.sdp=h.sdp,h.Do=h.sdp.length}}0==h.Cd&&(h.Cd=6E4);l=h}h=b.v;if(d)a.b&&
a.b.gb&&a.b.ug&&a.b.ug!=l.sender||(1==l.status?$Sce(a,h,23,l.id,l.l&2?1:0):a.b&&a.b.Ib&&(5==l.status||l.status&64)&&(a.b.bf=!0,$Sde(a,a.b.id,65),5==l.status&&(a.b.Pe=$So()),$SV(a,-1)));else if(!a.b||!a.b.Ib||5!=l.status&&3!=l.status){a.b&&(a.b.ne=0);if(1!=l.status){if(!a.b){if(l.status&64||$Svd(a)||$Shb(a.Ra))return;$Sge(a,l.id,h,65);return}if(0!=a.b.v.localeCompare(h))return}if(1==l.status)l.l&2&&a.ef&4||!(l.l&2)&&a.ef&1?($Sge(a,l.id,h,74),$Sce(a,h,21,l.id,l.l&2?1:0)):a.b||0<a.wh?(b=67,0<a.wh&&(b=
a.wh),$Sge(a,l.id,h,b),$Sce(a,h,21,l.id,l.l&2?1:0)):l.l&2&&b.profile.sj()?$Sge(a,l.id,h,67):parseInt($So()-b.i)>l.Dd?$Sce(a,h,21,l.id,l.l&2?1:0):($Sae(a,h,l.id,1,l.l&2?1:0),a.b.vh=$So(),a.b.Rl=l.l,a.b.callee=1,a.Za(a.b.id,h,3,null,l.l&4),$Sde(a,a.b.id,1),0!=$Sie(a,0)&&$SV(a,72));else{0<l.Do&&(a.b.zd|=2,a.b.zc=$So());a.b.vh=$So();3==l.status&&(a.b.bk=1);if(5==l.status){a.b.zc=$So();a.b.Pe=a.b.zc;a.b.gb=1;a.b.ug=l.sender;if(!a.b.ec&&!$Sje(a,l.sdp)){b=$She(a);$SV(a,b);return}$Ske(a,1,l.l&1?0:1,1,l.l&
2?0:1)}8==l.status?a.b.ec?a.b.la&&$S8d(a.b.la,l.sdp):$Sje(a,l.sdp)||(b=$She(a),a.Za(a.b.id,h,72,null,0),$SV(a,b)):(11==l.status?(a.b.$a|=2,$Ske(a,1,1,1,1)):12==l.status&&(a.b.$a&=-3,$Ske(a,1,0,1,0)),12==l.status&&a.b.$a||6==l.status||(l.status&64&&(a.b.bf=!0),$Sde(a,a.b.id,l.status),l.status&64&&$SV(a,-1)))}}}$S.rp=function(a){this.b&&this.b.Ib||$S$d(this);if(!a)return!1;this.Re=a;return $Sle(this,!1)};
$S.qp=function(a,b,d){this.b&&this.b.Ib||$S$d(this);if(!a||!b)return!1;this.dh=a;this.yh=b;return d?$Sle(this,!0):!0};function $Sme(a){a.fk||(a.fk=1,"undefined"===typeof adapter&&(a=document.createElement("script"),a.type="application/javascript",a.src="https://webrtc.github.io/adapter/adapter-latest.js",document.body?document.body.appendChild(a):console.log("document body missing")))}
function $Sle(a,b){$Sme(a);if(a.la)return!0;a.la=new $SZd(a);b?a.la.cd(a.dh,a.yh):a.la.cd(null,a.Re);a.Cf=$S5d(a.la,b);return a.Cf}
$S.call=function(a,b){if(this.dh||this.yh||this.Re){void 0==b&&(b=!0);this.Re&&(b=!1);if(b&&this.ef&8||this.ef&2)return $See(this,74),-1;if(this.b)return $See(this,71),-1;var d=$Sad(this.M(a,0),{channel:128,l:0,uid:0,s:0,status:0},0);if(1==d)$See(this,75);else if(2==d&&this.bb)$See(this,67);else return $Sae(this,a,this.random(),0,b),$Sie(this,b?0:1),this.Za(this.b.id,null,1,null,4)}else console.log("call is not set up, user setupVoiceCall or setupVideoCall first")};
$S.answer=function(a){if(!this.b)return-1;this.b.video&&a||(this.b.video=0);if(!this.b.Ib)return this.za(0),-1;this.b.gb=1;this.b.zc=$So();this.b.Pe=this.b.zc;a=0;if(this.b.ec)a=this.Za(this.b.id,null,5,null,0);else if(this.b.Eh=1,!$Sje(this,null))return a=$She(this),this.Za(this.b.id,null,72,null,0),$SV(this,a),-1;$Ske(this,1,0,1,this.b.video?0:1);return a};
function $S_d(a,b,d,e){if(!a.b||!a.b||a.b.bf)return-1;a.b.bf=!0;var f=d;a.b.Mg=e;0>d&&(d=65,a.b.Ib&&(d=67),a.b.gb&&(d=64));b=a.Za(b,null,d,null,0);$SV(a,0<f?f:64);return b}$S.za=function(a){return $S_d(this,a,-1,1)};function $Ske(a,b,d,e,f){if(!a.b)return-1;if(!a.b.gb)return 0;0==d&&b&&(a.b.Se||a.b.$a)&&(b=0);0==f&&e&&(a.b.jg||a.b.$a)&&(e=0);a.b.la&&(b&&(a.b.dk=d),e&&(a.b.gk=f),a.b.la.Ga(b,d,e,f));return 0}
$S.Ga=function(a,b,d){if(!this.b)return-1;if(!a&&!b)return 0;var e=0;a&&(e|=1);b&&(e|=2);this.Za(this.b.id,null,d?9:10,null,e);a&&(this.b.Se=d);b&&(this.b.jg=d);return $Ske(this,a,d,b,d)};$S.Hl=function(){if(!this.b)return-1;this.Ga(!0,!1,!this.b.Se);return this.b.Se};$S.Il=function(){if(!this.b)return-1;this.Ga(!1,!0,!this.b.jg);return this.b.jg};
function $Sne(a,b){if(!a.b)return-1;if(!a.b.gb)return $S_d(a,0,-1,0),0;var d=11;b||(d=12);var e=1;b&&a.b.$a&5&&(e=0);b||a.b.$a&5||(e=0);a.b.$a=b?a.b.$a|1:a.b.$a&-2;e&&a.Za(0,null,d,null,0);$Ske(a,1,b,1,b);if(12==d&&a.b.$a)return 0;$S0d(a,d);return 0}$S.$a=function(a){return $Sne(this,a)};
function $Sbe(a,b){a.O&&clearTimeout(a.O);0>=b||(a.O=setTimeout(function(){a:if(a.b&&(a.O=null,!a.b.oh||!a.b.gb)){var d=0;var e=$So();if(!a.b.oh&&3==a.b.zd&&(d=$Sq(e,a.b.zc,a.aa.Dp),0==d)){$SV(a,98);break a}if(a.b.gb&&3==a.b.zd)$Sbe(a,d);else{0<a.b.ne&&(a.b.Ob=$Sq(e,a.b.ne,3E4),0==a.b.Ob?a.b.ne=0:1500<a.b.Ob&&(a.b.Ob=1500));var f={};e=a.b.Ib?$Soe(a,f):$Spe(a,f);f=f.status;0<f?$SV(a,f):0<d&&(0<e&&d<e||0==e)?$Sbe(a,d):$Sbe(a,e)}}},b))}
function $Spe(a,b){b.status=-1;var d=$So();if(1==a.b.state){d=$Sq(d,a.b.Hh,a.b.timeout);if(0==d){if(a.b.Ob)return a.b.Ob;b.status=68;return 0}return d}return 0==$Sq(d,a.b.bg,a.aa.Tc)&&0==a.b.Ob?(b.status=66,0):2==a.b.state?(d=$Sq(d,a.b.ti,a.b.timeout),0==d?(a.Za(a.b.id,null,6,null,0),a.b.timeout):d):a.b.Ob}
function $Soe(a,b){b.status=-1;var d=$So();if(a.b.Ob)return a.b.Ob;if(1==a.b.state)return a=$Sq(d,a.b.Hh,a.b.timeout),0==a?(b.status=68,0):a;if(0==$Sq(d,a.b.bg,a.aa.Tc))return b.status=65,0;a=$Sq(d,a.b.vh,2*a.b.timeout);0==a&&(b.status=98);return a}function $Sie(a,b){if(a.b.la)return 0;if(!$Sle(a)||!a.Cf)return-1;a.b.la=a.la;if(!a.b.la)return-1;a.b.la.notify=a;var d=1;a.b.video&&(d|=2);b&&(d|=16,a.b.dk=1,a.b.video&&(d|=64,a.b.gk=1));a.b.la.flags=d;return 0}
function $Sje(a,b){a.b.ec=1;a.b.Pi=0;if(!b||0==b.length)return a.b.Mj=1,a.b.Pi=1,0<a.b.Pj?a=-1:(a.b.Pj=$So(),a=a.b.la.call(a.b.video)),a;if(!a.b.la.answer(0,b,a.b.video))return!1;a.b.Mj=0;return!0}function $SW(a,b){this.member=a;this.type=b;this.objType="MesiboGroupMember";this.profile=a;this.Gj=b}$SW.prototype.M=function(){return this.profile};$SW.prototype.H=function(){return 1==this.Gj};$SW.prototype.j=function(){return 2==this.Gj};window.MesiboGroupMember=$SW;$SW.prototype.getProfile=$SW.prototype.M;
$SW.prototype.isOwner=$SW.prototype.H;$SW.prototype.isAdmin=$SW.prototype.j;function $SX(){this.objType="MesiboContactSynchronizer";this.h=$Svc();this.hh=this.Aj=!0;this.Gd=null}$SX.j=function(a,b){var d=0;if(!b)return a&&(d|=1),d;15<b.length&&(b.length=15);for(var e=0;e<b.length;e++){var f=b[e];"number"===typeof f&&(0==f||15<f||(d|=1<<f-1))}a&&(d|=1);return d};$S=$SX.prototype;$S.subscribe=function(a){this.Aj=a};$S.Pk=function(a){this.hh=a};
$S.Qk=function(a){if(null!=a&&!Array.isArray(a))return!1;this.Gd=a;return!0};$S.Hd=function(a,b,d){if(!a||!a.length)return $ST(this.h,0,0),null;var e=$SX.j(this.hh,this.Gd);return this.h.Hd(a,this.hh,this.Aj,e,b,d)};$S.Rk=function(a,b){if(void 0===b||"undefined"===typeof b)b=!0;return this.Hd(a,!1,b)};$S.xp=function(a,b){if(void 0===b||"undefined"===typeof b)b=!0;return this.Hd(a,!0,b)};window.MesiboContactSynchronizer=$SX;$SX.getProfileAccessLevel=$SX.j;$SX.prototype.subscribe=$SX.prototype.subscribe;
$SX.prototype.setContact=$SX.prototype.Pk;$SX.prototype.setProfileAccessLevels=$SX.prototype.Qk;$SX.prototype.sync=$SX.prototype.Rk;$SX.prototype.syncAsUpdate=$SX.prototype.xp;function $Sqe(a,b){return b.groupid&&0<b.groupid?"g:"+b.groupid:b.uid&&b.uid==$SQ(a)?"selfprofile":"a:"+b.address}
function $Sre(a){a.ze=[];for(var b in a.vb){var d=a.vb[b];d&&d.Da()!=a.context.Lb&&d.Da()!=$SQ(a)&&(!d.Fb()&&!d.Da()||a.data.Ni&&!d.Si()||d.dj()||a.ze.push(d))}a.ze.sort(function(e,f){e=e.Ic().toUpperCase();f=f.Ic().toUpperCase();return e<f?-1:e>f?1:0});a.data.Ae=$So()}
function $SU(a,b,d,e,f,h){d||(d=0);var k={address:b,groupid:d,uid:e,aoets:0,aots:0,f:0};if(e==$SQ(a)||b&&b.length&&b==$Sse(a)){if(a.xd&&a.xd.Da()==$SQ(a))return a.xd;k={address:$Sse(a),groupid:0,uid:$SQ(a),aoets:0,aots:0,f:16};a.xd=new $SY(k,a);return a.xd}0<d&&(b="");d=$Sqe(a,k);if(e=a.vb[d])return a.yb(e),e;f&&!$Sr(b)&&(f=[],f.push(b),a.Hd(f,!1,!0,0,!0,!0));if(!h)return e;e=new $SY(k,a);a.vb[d]=e;a.yb(e);return e}$S=$SS.prototype;$S.M=function(a,b){b||(b=0);return $SU(this,a,b,0,!0,!0)};
$S.Gl=function(a){return a?$SU(this,null,a,0,!0,!0):null};$S.Jg=function(){return $SU(this,$Sse(this),0,$SQ(this),!0,!0)};$S.Ii=function(){(!this.ze.length||this.data.Xj>=this.data.Ae)&&$Sre(this);return this.ze};$S.nn=function(a){a&&(this.data.Ae=0);this.data.Ni=!0};$S.Bm=function(){for(var a=this.Ii(),b=[],d=0;d<a.length;d++)a[d].$d()&&b.push(a[d]);return b};function $SY(a,b){$Ste(this,a,b)}
function $Ste(a,b,d){a.objType="MesiboProfile";a.B=b;a.h=d;a.U=$St(b.uid)==$SQ(d);a.U&&(a.B.f|=16);$Sue(a);a.ha=null;a.sf=new $Sid;a.sf.width=800;a.sf.height=800;a.sf.quality=70;a.fg=new $Sid;a.fg.width=128;a.fg.height=128;a.fg.quality=50;a.sd=null;a.visibility=1;a.yp=0;a.hc=0;a.qd=0;a.call={};a.call.type=0;a.call.count=0;a.ia={m:{i:0,Eb:0,Pa:0,Ke:0,C:0,m:!1,be:!1,cancel:!1,yq:!1,O:null,Gf:null,If:0},J:{i:0,Eb:0,C:0,J:!1,O:null},ga:{i:0,C:0,ia:0,value:0},ia:0};a.message={Pa:0,Kq:0,i:0,Ih:0};a.Ma=
null;a.ja={};a.ja.i=0;a.ja.lh=0;a.ja.Pg=0;a.ja.name=null;a.ja.image=null;a.ja.Rg=!1;a.Gd=null;a.fb=null;a.images=[];a.fd=0;a.B.hasOwnProperty("f")||(a.B.f=0);$Sve(a,b);b.groupid&&(a.getGroupProfile=function(){return this},a.ac=function(e){return this.p.A.sb&e?!0:!1},a.isOwner=function(){return this.ac(4096)},a.canAdmin=function(){return this.ac(61439)},a.canModify=function(){return this.ac(1)},a.canAddMembers=function(){return this.ac(16)},a.canRemoveMembers=function(){return this.ac(32)},a.canAddAdmins=
function(){return this.ac(64)},a.canRemoveAdmins=function(){return this.ac(128)},a.canRemoveOwner=function(){return this.ac(256)},a.canRemoveGroup=function(){return this.ac(512)},a.addMembers=function(e,f,h){var k={},l=0;f instanceof Object?(k=f,h&&(l=h)):(k.flags=f,k.adminFlags=h);return $Swe(d,b.groupid,e,l,k,0,null)},a.addMember=function(e,f,h){var k=[];k.push(e);return this.addMembers(k,f,h)},a.removeMembers=function(e){return $Swe(d,b.groupid,e,0,{},1,null)},a.removeMember=function(e){var f=
[];f.push(e);return this.removeMembers(f)},a.join=function(e,f){return $Swe(d,b.groupid,null,e,{},0,f)},a.leave=function(){return $Swe(d,b.groupid,null,0,{},1,null)},a.addPin=function(e,f,h,k){return $Sxe(d,b.groupid,0,h,k,e,0,f)},a.editPin=function(e,f,h,k){return $Sxe(d,b.groupid,e,h,k,f,0,null)},a.removePin=function(e){return $Sxe(d,b.groupid,e,0,0,{},1,null)},a.deleteGroup=function(){var e={A:{}};e.C=b.groupid;e.A.flags="2147483648";$SVc(d,40,0,e)},a.getMembers=function(e,f,h){if("function"===
typeof e||e instanceof Object)h=e,e=0;if(this.B.members&&0<this.B.members.length&&($Sye(this,e,h),f=this.B.mts?this.B.mts:0,777600>$Sp()-f))return;var k=this;return $Sze(d,b.groupid,b.mcts?b.mcts:0,function(){$Sye(k,e,h)})},a.getSettings=function(e){var f=b.groupid;if(f){e=$SAe(d,e);var h={};h.C=f;h.Ab=e;$SVc(d,45,0,h)}},a.setProperties=function(e){d.Yf(b.groupid,0,e)});b.aoets&&(a.ia.m.Eb=b.aoets);b.aots&&(a.ia.m.i=b.aots)}
function $Sue(a){$Sr(a.B.address)?(a.B.address="",a.B.groupid=$St(a.B.groupid),a.B.uid=0):a.B.groupid=0;a.B.uid&&(a.B.uid=$St(a.B.uid))}function $SBe(a,b){b&&(a.p={address:b.address,gid:b.groupid,uid:b.uid,profiledata:{},A:{},$:0},a.p.A.flags=0,a.p.A.sb=0,b.p&&$SCe(a,null,b.p))}function $SDe(a){a.ja.i=0;a.ja.lh=0;a.ja.Pg=0}function $Sve(a,b){$SBe(a,b);$SDe(a);a.fb={};a.Aa={};b&&b.lp?$SEe(a,b.lp):$SZ(a,a.Aa)}$S=$SY.prototype;
$S.reset=function(){$S_(this)?(this.fb={},this.p.I=[],this.p.P={}):(this.Aa={},this.Aa.I=[],this.Aa.P={})};$S.ii=function(){$S0(this.h,"Mesibo_onProfileUpdated",!0)(this)};function $SEe(a,b){b&&$S1(b,b.length,function(d){a.Aa=d;$SZ(a,d);return!1})}
function $SZ(a,b){var d={};b.I||(b.P=d);for(var e=0;b.I&&e<b.I.length;e++)if(b.I[e]&&b.I[e].length){var f=null;try{f=JSON.parse(b.I[e])}catch(l){}if(f){b.I[e]="";for(var h in f)if(d[h]=f[h],0<e&&a.fb&&(a.fb[h]=e),h.startsWith("m_im_")){var k=h.substring(5);k>a.fd&&(a.fd=k)}}}!d.hasOwnProperty("m_name")&&b.name&&b.name.length&&(d.m_name=b.name);!d.hasOwnProperty("m_im_0")&&b.ud&&b.ud.length&&(d.m_im_0=b.ud);!d.hasOwnProperty("status")&&b.status&&b.status.length&&(d.status=b.status);!d.hasOwnProperty("info")&&
b.info&&b.info.length&&(d.info=b.info);!d.hasOwnProperty("other")&&b.rd&&b.rd.length&&(d.other=b.rd);delete b.name;delete b.status;delete b.info;delete b.rd;delete b.ud;b.P=d}function $SFe(a,b,d){d.I=[];if(a.fb){for(var e=0;15>e;e++)d.I.push("");var f=[];for(e=0;15>e;e++)f.push(null);for(var h in b)e=0,a.fb.hasOwnProperty(h)&&(e=parseInt(a.fb[h])),15<e||(f[e]||(f[e]={}),f[e][h]=b[h]);for(e=0;15>e;e++)d.I[e]="",f[e]&&(d.I[e]=JSON.stringify(f[e]))}else d.I[0]=JSON.stringify(b)}
function $SGe(a){var b=$S_(a)?a.p:a.Aa;b.P||$SZ(a,b);return b.P}function $SHe(a,b){if(!$S_(a)&&(a.Aa.P||$SZ(a,a.Aa),a.Aa.P.hasOwnProperty(b)))return a.Aa.P[b];a.p.P||$SZ(a,a.p);return a.p.P.hasOwnProperty(b)?a.p.P[b]:null}$S.mn=function(a){if(a.startsWith("m_"))return 0;if(!$S_(this)&&(this.Aa.P||$SZ(this,this.Aa),this.Aa.P.hasOwnProperty(a)))return 2;this.p.P||$SZ(this,this.p);return this.p.P.hasOwnProperty(a)?1:0};
$S.cn=function(){var a={};this.p.P||$SZ(this,this.p);for(var b in this.p.P)b.startsWith("m_")||(a[b]=this.p.P[b]);if(!$S_(this)){this.Aa.P||$SZ(this,this.Aa);for(var d in this.Aa.P)d.startsWith("m_")||(a[d]=this.Aa.P[d])}return a};
function $SCe(a,b,d){a.B.p=d;a.fb=null;if(b&&!b.I){b.I=[];for(var e=0;15>e;e++)b.I.push("")}a.ha=null;b?(a.p=b,b.C&&(b.uid=0),a.B.address=b.address,a.B.groupid=b.C,a.B.uid=b.uid,a.U=0<b.uid&&b.uid==$SQ(a.h),a.qd=b.$,$SL(a.h.db,a.B),$S_(a)&&(a.fb={}),$SZ(a,b)):d&&$S1(d,d.length,function(f){if(!f)return!1;a.p=f;a.B.address=f.address;a.B.groupid=f.C;a.B.uid=f.uid;a.U=0<f.uid&&f.uid==$SQ(a.h);a.qd=f.$;0<f.C&&a.B.f&8320&&(a.p.A.sb=0);$S_(a)&&(a.fb={});$SZ(a,f);$SDe(a);return!1})}
$S.xo=function(){delete this.B.lp;this.Aa={};$SL(this.h.db,this.B)};$S.$j=function(){delete this.B.p;$SBe(this,this.B);$SL(this.h.db,this.B)};$S.remove=function(){delete this.B.lp;delete this.B.p;$Sve(this,this.B);$SL(this.h.db,this.B)};$S.Ao=function(){if(this.B.groupid||this.U)return!1;var a=this.h,b=this.Ha(),d=new $SP;$Sxc(d,b,0);$Sxd(a,d,517,4096," ");return!0};function $S_(a){return a.U||0<a.p.C&&void 0!=a.p.A&&0<(a.p.A.sb&1)?!0:!1}$S.Ha=function(){return this.B.address};$S.Fb=function(){return this.B.groupid};
$S.Da=function(){return this.B.uid};$S.$d=function(){return 0<this.B.groupid};$S.oj=function(){return $SQ(this.h)==this.p.uid};function $SIe(a,b,d){a.B.f=d?a.B.f|b:a.B.f&~b}$S.tf=function(){return this.B.f&128?!0:!1};function $SJe(a,b){$SIe(a,8192,b);b&&a.p&&a.p.A&&(a.p.A.sb=0);$SKe(a)}$S.Si=function(){return this.B.f&8320?!1:!0};$S.So=function(a){$SIe(this,32,a);$SKe(this)};$S.dj=function(){return this.B.f&32?!0:!1};$S.yb=function(){this.h.yb(this)};
function $SLe(a,b,d){$S_(a)&&d&&(a.fb||(a.fb={}),a.fb[b]=d)}$S.Ic=function(){this.yb();var a=this.kf("m_name","");if(!$Sr(a))return a;this.ja.name=$SMe(this.h,this);return $Sr(this.ja.name)?this.B.groupid?"Group "+this.B.groupid:"":this.ja.name};$S.Jm=function(a){a||(a="");var b=this.Ic();return $Sr(b)?a+this.Ha():b};$S.Dl=function(a){this.Pc("m_name",a)};$S.wl=function(a){this.yb();return $SHe(this,a)};$S.kf=function(a,b){this.yb();a=$SHe(this,a);return $SGa(a)?a:b};
$S.Td=function(a,b){this.yb();a=$SHe(this,a);return"number"===typeof a?a:b};$S.jf=function(a,b){return this.Td(a,b)};$S.vl=function(a,b){return this.Td(a,b)};$S.ul=function(a,b){this.yb();a=$SHe(this,a);return"boolean"===typeof a?a:b};$S.Pc=function(a,b,d){d&&$S_(this)&&this.U||(d=0);if(b&&!$SGa(b))return!1;var e=$SGe(this);b?e[a]=b:delete e[a];$SLe(this,a,d);return!0};
$S.ag=function(a,b,d){d&&$S_(this)&&this.U||(d=0);if("number"!==typeof b||"number"===typeof b&&isFinite(b)&&Math.ceil(b)!==Math.floor(b))return!1;$SGe(this)[a]=b;$SLe(this,a,d);return!0};$S.$f=function(a,b,d){return this.ag(a,b,d)};$S.Cl=function(a,b,d){d&&$S_(this)&&this.U||(d=0);if("number"!==typeof b)return!1;$SGe(this)[a]=b;$SLe(this,a,d);return!0};$S.Al=function(a,b,d){d&&$S_(this)&&this.U||(d=0);if("boolean"!==typeof b)return!1;$SGe(this)[a]=b;$SLe(this,a,d);return!0};
$S.Xb=function(a){if(void 0===a||"undefined"===typeof a)a=$SNe(this,0);0>=a&&(a=0);var b=this.images[a];b||(b=new $S2(this,a),this.images[a]=b);b.Hg();return b};$S.Uo=function(a,b,d){d&&$S_(this)||(d=0);b||(b=0);var e=this.Xb(b);e.url=a;e.level=d;e.url&&e.url.length&&(e.image=null);b="m_im_"+b;this.Pc(b,a,d);$SLe(this,b,d);return!0};$S.To=function(a,b,d){d&&$S_(this)||(d=0);b||(b=0);var e=this.Xb(b);e.image=a;e.level=d;b="m_im_"+b;a&&this.Pc(b,null,d);$SLe(this,b,d);return!0};
function $SNe(a,b){if(b>a.fd)return-1;for(;b<=a.fd;b++)if($SOe(a,b))return b;return-1}function $SOe(a,b){a.yb();b||(b=0);b=$SHe(a,"m_im_"+b);if(!$Sr(b))return b;a.ja.image=$SPe(a.h,a);return $Sr(a.ja.image)?null:a.ja.image}
function $Sye(a,b,d){var e=$SQe(a);if(e&&0!=e.length){var f=[];if(!b||b>e.length)b=e.length;for(var h=0;h<b;h++){var k=e[h].address==$Sse(a.h)?a.h.Jg():a.h.M(e[h].address,0);f.push(new $SW(k,e[h].type))}"function"===typeof d?d(a,f):d instanceof Object&&$Sn(d,"Mesibo_onGroupMembers")&&d.Mesibo_onGroupMembers(a,f)}}function $SQe(a){return a.B.groupid?a.B.members?a.B.members:[]:null}function $SRe(a,b,d,e){if(a.B.groupid){a.B.members=e;a.B.mcts=b;if(d||!e)a.B.mts=d;$SL(a.h.db,a.B)}}
function $SSe(a,b,d){var e=new $SP;$Sxc(e,a.Ha(),0);0<d&&e.Zf(d);$Sxd(a.h,e,518,b," ")}
function $Sad(a,b,d){if(b.uid==a.h.g.Lb||b.l&1024&&(518==b.type||200>b.type)||d&&0<b.status&&3>=b.status)return!1;if(b.s)return d?a.cj()?!0:!1:!1;if(128==b.channel){if(a.Ui())return d&&$SSe(a,a.p.$&76,b.L),1;if(a.B.f&524288){if(!d)return 2;a.B.f&=-524289;$SL(a.h.db,a.B)}return!1}if(63<=b.channel&&129!=b.channel)return!1;if(a.gj())return d&&$SSe(a,a.p.$&76,b.L),1;if(a.B.f&262144){if(!d)return 2;a.B.f&=-262145;$SL(a.h.db,a.B)}return!1}
function $SLd(a,b,d){var e=0,f=0;a.h.Kb.Of&4096||(d&=-33554433);d&4?e|=262144:f|=262144;d&8?e|=524288:f|=524288;a.B.f=(a.B.f|e)&~f;d&16777216||$SL(a.h.db,a.B);if(d&76||d&33554432)d&33554432?(d={},d.message=a.Ha(),d.ea=0,d.Ya.high=0,d.Ya.low=0,$SDd(a.h,d,16384)):d&64&&a.$j(),0<b&&$Sbc(a.h.db,b&4294967295);$ST(a.h,1,0)}
$S.rh=function(){if($S_(this)){this.p.hc=0;this.p.visibility=this.visibility;this.p.$=this.yp;$SFe(this,this.p.P,this.p);this.B.p=$STe(this.p);this.p.I=[];this.h.Ba.Zc&&(this.p.C==this.h.Ba.Zc||1==this.h.Ba.Zc&&this.U)&&$SUe(this.h,0);var a=32;this.p.C&&(a=40);$Sxd(this.h,null,a,0,this.B.p);$S0(this.h,"MesiboProfile_onPublish",!0)(this,!0)}};
function $SVe(a,b){for(;b.length;){var d=b.shift();if(d&&d.image){var e=$SOe(a,d.index);if($Sr(e)){$Sjd(a.h,d.image,a.sf,a.fg,function(f,h){f?(a.images[d.level].ha=h,a.Pc("m_im_"+d.index,f,d.level),$SVe(a,b)):$S0(this.h,"MesiboProfile_onPublish",!0)(this,!1)});return}}}a.rh()}
$S.save=function(){if($S_(this)){this.p.P.hasOwnProperty("m_name")&&(this.p.name=this.p.P.m_name);this.p.P.hasOwnProperty("m_im_0")&&(this.p.ud=this.p.P.m_im_0);this.p.P.hasOwnProperty("status")&&(this.p.status=this.p.P.status);this.p.P.hasOwnProperty("info")&&(this.p.info=this.p.P.info);this.p.P.hasOwnProperty("other")&&(this.p.rd=this.p.P.other);$SUe(this.h,this.U?1:this.p.C);for(var a=[],b=0;b<this.images.length;b++)a[b]=this.images[b];$SVe(this,a)}else this.fb=null,$SFe(this,this.Aa.P,this.Aa),
this.B.lp=$STe(this.Aa),this.p.I=[],$SL(this.h.db,this.B),a=$St(this.p.$),b=$SX.j(this.Tg(),this.Gd),a=a&65535|b<<16,this.p&&!this.p.C&&this.qd!=a&&(b=[],b.push(this.B.address),$SWe(this.h,b,a,!1,!0,null),b=a&76,b!=(this.qd&76)&&$SSe(this,b,0),this.qd=a),this.ii()};function $SKe(a){a.B.aoets=a.ia.m.Eb;a.B.aots=a.ia.m.i;$SL(a.h.db,a.B)}$S.Hf=function(){if(this.U)return null;var a=new $SP;$Sxc(a,this.Ha(),this.Fb());return a};
$S.jd=function(){if(this.U)return null;var a=new $SR;$Sxc(a,this.Ha(),this.Fb());a.mid=0;return a};$S.tl=function(a){a=new $S3(a,this);this.Xb();return a};$S.Tb=function(){var a=this,b,d;return $Sg(function(e){b=a;d=new Promise(function(f){$SBd(b.h,null,b.Ha(),b.Fb(),0,!1,!1,f)});return e.return(d)})};$S.$l=function(a){var b=this,d,e;return $Sg(function(f){d=b;e=new Promise(function(h){$SBd(d.h,null,d.Ha(),d.Fb(),d.h.mf()-1E3*a,!1,!1,h)});return f.return(e)})};
$S.Tl=function(){var a=this,b,d;return $Sg(function(e){if(1==e.j){if(b=$Snd(a.h,a))b.ui=!0,b.message=" ",b.data=" ",b.status=39;return $Sd(e,a.Tb(),2)}if(!b)return e.return();delete b.ui;d=a;window.setTimeout(function(){$S2b(d.h.db,b)},500);e.j=0})};function $S4(a,b,d){a.p.$=d?a.p.$|b:a.p.$&~b}function $S5(a,b){return a.p.$&b?!0:!1}$S.Bl=function(a){if($S_(this))return!1;$S4(this,1,a);return!0};$S.subscribe=function(a){if($S_(this))return!1;$S4(this,2,a);return!0};
$S.El=function(a){if($S_(this)||null!=a&&!Array.isArray(a))return!1;this.Gd=a;return!0};$S.lm=function(a){$S4(this,512,a)};$S.sl=function(a){$S4(this,2048,a)};$S.block=function(a){if(this.U||0<this.p.C)return!1;this.xg(a);this.wg(a);this.gi(a);return!0};$S.xg=function(a){if(this.U||0<this.p.C)return!1;$S4(this,4,a);return!0};$S.Ml=function(a){if(this.U||0<this.p.C)return!1;$S4(this,32,a);return!0};$S.wg=function(a){if(this.U||0<this.p.C)return!1;$S4(this,8,a);return!0};
$S.Nl=function(a){if(this.U||0<this.p.C)return!1;$S4(this,16,a);return!0};$S.gi=function(a){if(this.U||0<this.p.C)return!1;$S4(this,64,a);return!0};$S.Sg=function(){return this.U||0<this.p.C?!1:$S5(this,76)};$S.gj=function(){return this.U||0<this.p.C?!1:$S5(this,4)};$S.cj=function(){return this.U||0<this.p.C?!1:$S5(this,32)};$S.Ui=function(){return this.U||0<this.p.C?!1:$S5(this,8)};$S.sj=function(){return this.U||0<this.p.C?!1:$S5(this,16)};
$S.Nn=function(){return this.U||0<this.p.C?!1:$S5(this,64)};$S.kj=function(){return this.U||0<this.p.C?!1:$S5(this,1024)};$S.Tg=function(){return this.U||0<this.p.C?!1:$S5(this,1)};$S.Tn=function(){return this.U||0<this.p.C?!1:$S5(this,2)};$S.Cn=function(){return this.U||0<this.p.C?!1:$S5(this,512)};$S.rn=function(){return this.U||0<this.p.C?!1:$S5(this,2048)};$S.yl=function(){return $SSc(this.h,this)};$S.zl=function(){return $SRc(this.h,this,0)};$S.Xn=function(a){return $SRc(this.h,this,a)};
$S.xl=function(){return $SQc(this,0)};$S.tn=function(a){return $SQc(this,a)};$S.Uf=function(){var a=this.jd();a.interval=2E3;a.Uf()};$S.Vf=function(){this.jd().Vf()};$S.Sf=function(){this.jd().Sf()};$S.Tf=function(){this.jd().Tf()};$S.Em=function(){if(this.$d()||this.oj())return null;var a=this.ia.m.i;$SSc(this.h,this)&&(a=$So());if(!a)return null;this.Ma||(this.Ma=new $SN(a));this.Ma.Qc(a);return this.Ma};
$S.Rc=function(a,b,d){if(!this.$d()){var e=$So(),f=this.ia;f.m.Ke=e;d&&(f.m.Eb=a+1E3*d);if(4294967295==b)f.m.i=0,f.m.m=!1;else{a=e-1E3*b;if(a<=f.m.i)return;f.m.i=a}f.m.m=0==b;$SKe(this);$SKc(this.h,null,this,1,0,!1);f.m.Eb>f.m.i||f.m.m&&$SOc(this.h,this.Ha(),f)}};$S.cp=function(a){a&&$So()};
$S.matches=function(a){if(null==a||null==a.profile)return!1;var b=a.profile;a.dd()&&(b=a.La);if(b==this)return!0;if(this.$d()||a.dd())return a.s==this.Fb();b=this.Ha();return null==a.v||null==b||b.localeCompare(a.v)?!1:!0};window.MesiboProfile=$SY;$SY.prototype.setContact=$SY.prototype.Bl;$SY.prototype.subscribe=$SY.prototype.subscribe;$SY.prototype.setProfileAccessLevels=$SY.prototype.El;$SY.prototype.favorite=$SY.prototype.lm;$SY.prototype.archive=$SY.prototype.sl;$SY.prototype.block=$SY.prototype.block;
$SY.prototype.blockMessages=$SY.prototype.xg;$SY.prototype.blockGroupMessages=$SY.prototype.Ml;$SY.prototype.blockCalls=$SY.prototype.wg;$SY.prototype.blockVideoCalls=$SY.prototype.Nl;$SY.prototype.blockProfileSubscription=$SY.prototype.gi;$SY.prototype.getAddress=$SY.prototype.Ha;$SY.prototype.getGroupId=$SY.prototype.Fb;$SY.prototype.isGroup=$SY.prototype.$d;$SY.prototype.isSelfProfile=$SY.prototype.oj;$SY.prototype.isDeleted=$SY.prototype.tf;$SY.prototype.isActive=$SY.prototype.Si;
$SY.prototype.setHidden=$SY.prototype.So;$SY.prototype.isHidden=$SY.prototype.dj;$SY.prototype.setName=$SY.prototype.Dl;$SY.prototype.getName=$SY.prototype.Ic;$SY.prototype.getNameOrAddress=$SY.prototype.Jm;$SY.prototype.setImage=$SY.prototype.To;$SY.prototype.setImageUrl=$SY.prototype.Uo;$SY.prototype.getImage=$SY.prototype.Xb;$SY.prototype.save=$SY.prototype.save;$SY.prototype.getString=$SY.prototype.kf;$SY.prototype.getLong=$SY.prototype.Td;$SY.prototype.getInt=$SY.prototype.jf;
$SY.prototype.getDouble=$SY.prototype.vl;$SY.prototype.getBoolean=$SY.prototype.ul;$SY.prototype.getValue=$SY.prototype.wl;$SY.prototype.getValues=$SY.prototype.cn;$SY.prototype.hasValue=$SY.prototype.mn;$SY.prototype.setString=$SY.prototype.Pc;$SY.prototype.setLong=$SY.prototype.ag;$SY.prototype.setInt=$SY.prototype.$f;$SY.prototype.setDouble=$SY.prototype.Cl;$SY.prototype.setBoolean=$SY.prototype.Al;$SY.prototype.reset=$SY.prototype.reset;$SY.prototype.createReadSession=$SY.prototype.tl;
$SY.prototype.newMessage=$SY.prototype.Hf;$SY.prototype.newPresence=$SY.prototype.jd;$SY.prototype.sendTyping=$SY.prototype.Uf;$SY.prototype.sendTypingCleared=$SY.prototype.Vf;$SY.prototype.sendJoined=$SY.prototype.Sf;$SY.prototype.sendLeft=$SY.prototype.Tf;$SY.prototype.isOnline=$SY.prototype.yl;$SY.prototype.isTyping=$SY.prototype.zl;$SY.prototype.isTypingInGroup=$SY.prototype.Xn;$SY.prototype.isChatting=$SY.prototype.xl;$SY.prototype.isChattingInGroup=$SY.prototype.tn;
$SY.prototype.getLastSeen=$SY.prototype.Em;$SY.prototype.isBlocked=$SY.prototype.Sg;$SY.prototype.isMessageBlocked=$SY.prototype.gj;$SY.prototype.isGroupMessageBlocked=$SY.prototype.cj;$SY.prototype.isCallBlocked=$SY.prototype.Ui;$SY.prototype.isVideoCallBlocked=$SY.prototype.sj;$SY.prototype.isProfileSubscriptionBlocked=$SY.prototype.Nn;$SY.prototype.isPaired=$SY.prototype.kj;$SY.prototype.isContact=$SY.prototype.Tg;$SY.prototype.isSubscribed=$SY.prototype.Tn;$SY.prototype.isFavorite=$SY.prototype.Cn;
$SY.prototype.isArchived=$SY.prototype.rn;$SY.prototype.removeLocalProfile=$SY.prototype.xo;$SY.prototype.removeSyncedProfile=$SY.prototype.$j;$SY.prototype.remove=$SY.prototype.remove;$SY.prototype.requestRemoval=$SY.prototype.Ao;$SY.prototype.deleteMessages=$SY.prototype.Tb;$SY.prototype.deleteMessagesOlderThan=$SY.prototype.$l;$SY.prototype.clearMessages=$SY.prototype.Tl;$SY.prototype.setRecent=$SY.prototype.cp;$SY.prototype.broadcastChanges=$SY.prototype.ii;
function $S2(a,b){this.objType="MesiboProfileImage";this.profile=a;this.index=b;this.level=0;this.Ri=this.url=this.ha=this.image=null}$S=$S2.prototype;$S.Xb=function(){return this.profile?this.Hg(this.index):null};$S.Hg=function(){var a=$SOe(this.profile,this.index);if(!$Sr(a)&&!this.Ri){var b=null;try{b=new Image,b.src=a}catch(d){b=null}this.Ri=b}return a};
$S.lf=function(){if(this.profile){var a=this.profile;a.yb();if(a.ha)a=a.ha;else{var b=a.Aa.ha;b||(b=a.p.ha);b?(a.ha="data:image/jpeg;base64,"+$SLa(b),a=a.ha):a=$SOe(a,0)}}else a=null;return a};$S.Cm=function(){var a=this.Xb();return $Sr(a)?this.lf():a};$S.Km=function(){if(this.profile){var a=this.profile;var b=$SNe(a,this.index+1);a=0>b?null:a.Xb(b)}else a=null;return a};
$S.Mm=function(){if(this.profile){var a=this.profile;a:{var b=this.index-1;b>a.fd&&(b=a.fd);for(;0<=b;){if($SOe(a,b))break a;b--}b=-1}a=0>b?null:a.Xb(b)}else a=null;return a};window.MesiboProfileImage=$S2;$S2.prototype.getImage=$S2.prototype.Xb;$S2.prototype.getImageUrl=$S2.prototype.Hg;$S2.prototype.getThumbnail=$S2.prototype.lf;$S2.prototype.getImageOrThumbnail=$S2.prototype.Cm;$S2.prototype.getNext=$S2.prototype.Km;$S2.prototype.getPrevious=$S2.prototype.Mm;function $SXe(a){a.Qf={};a.ak()}
function $SVc(a,b,d,e){e=$STe(e);$Sxd(a,null,b,d,e)}function $SUe(a,b){a.Ba.Zc=b;a.Ba.af=0;b&&(a.Ba.af=$So()+5E3)}function $SFd(a,b){var d=b.ea;d&128&&(a.g.ma=0,a.g.sa=0);d&4&&(a.g.ad=1);d&1&&b.i>a.g.Jb&&(d&96||d&16&&a.vo&16)&&$ST(a,1,d&8?1:0)}function $SYe(a){return 1!=a.Gg()?0:!a.g.Jb||a.g.le>=a.g.Jb?1:a.g.Jb>=a.m.i?0:a.data.Jc>a.g.Jb&&5E3<a.data.Jc-a.g.Jb||1E4<$So()-a.m.i?1:0}
function $SZe(a,b,d,e,f,h,k){b&&(a.Ba.Bi=1);if($SYe(a)){var l={},n=0;if(d)l.flags=4096,l.sa=a.g.fe,l.i=a.g.Xd;else{if(!k){$Spc(a.db,a.g.ma,function(q,z,A,D){q.length?(D=parseInt(D),A&&(z|=32768),D>a.g.ma&&(a.g.ma=D)):q=null;$SZe(a,b,d,0,q,z,!0)});return}if(!(b||f&&f.length)){a.Ba.pending=0;return}f&&f.length&&(l.Ua=f,l.$=h&65535,l.hc=h>>16,n=l.Ua.length);l.dg=e;l.sa=a.g.sa;l.mb=a.g.mb;l.i=a.g.He}a.g.Jb=$So();$Sw(a);e=$STe(l);a.Ba.Bi=0;a.Ba.pending=0;$Sxd(a,null,31,n,e)}else a.Ba.pending=1}
function $ST(a,b,d){$SZe(a,b,d,0,null,0,!1)}
function $SGd(a,b){if(b.data&&!(2>=b.ya)){var d=0,e=0;$S1(b.data,b.ya,function(f,h,k){if(!f||f.fc&&f.fc!=a.g.fc)return!1;if(f.flags&512)return!0;f.C&&(e=1);if(f.flags&64)return a.g.le=$So(),d=f.flags&8?1:0,f.flags&128&&(e=1),e||(f.sa&&f.sa>a.g.sa&&(a.g.sa=f.sa),f.ma&&f.ma>a.g.ma&&(a.g.ma=f.ma),f.mb&&f.mb>a.g.mb&&(a.g.mb=f.mb)),$Sw(a),0==e&&0==d?(e=a.g.ad)&&(d=1):0==d&&(e=0),$ST(a,d,e),!1;var l=0<f.uid&&f.uid==$SQ(a)?1:0;if(a.Ba.af&&a.Ba.af>$So()&&(f.C==a.Ba.Zc||1==a.Ba.Zc&&l))return!0;if(!f.C){$S8c(a,
f.uid,f.address,!1);l=[];l.push(f.address);var n=f.$&65535;f.hc&&(n|=f.hc<<16);$SWe(a,l,n,!1,!1,null)}h=h.subarray(0,k);if(!(0<f.uid&&f.uid==$SQ(a)||0<f.C&&0<(f.A.sb&1))){k=!1;for(l=1;l<f.I.length;l++)!f.I[l]||!f.I[l].length||1<<l-1&f.ci||(f.I[l]=null,k=!0);k&&(h=$STe(f))}k=$SU(a,f.address,f.C,f.uid,!1,!0);f.C?(f.i>a.g.Xd&&(a.g.Xd=f.i),f.C>a.g.fe&&(a.g.fe=f.C)):f.i>a.g.He&&(a.g.He=f.i);$SCe(k,f,h);a.data.Xj=$So();$S0(a,"Mesibo_onProfileUpdated",!0)(k);return!0})}}
function $SWe(a,b,d,e,f,h){if(!b||!b.length)return null;for(var k=[],l=0;l<b.length;l++){var n=$SU(a,b[l],0,0,!1,!1);n?n&&$St(n.qd)==d||k.push(b[l]):k.push(b[l])}if(!k.length)return null;e&&(d|=32768);return a.db?$Soc(a.db,k,d,function(q){f&&0<q&&$ST(a,0,0);h&&h(q)}):null}$S=$SS.prototype;$S.Hd=function(a,b,d,e,f,h){if(!a||!a.length)return null;var k=0;b&&(k|=1);d&&(k|=2);e&&(k|=e<<16);return $SWe(this,a,k,f,h,null)};
function $SDd(a,b,d){var e=b.message;b=b.Ya.low;var f=a.M(e,0),h=$St(f.p.$);d&&(b=h|d);f.p.$=b;d=[];d.push(e);$SWe(a,d,b,!1,!0,null);d=b&76;d!=(h&76)&&$SSe(f,d,0);b&16384&&(a.Tb(null,e,0,0),e=a.M(e,0))&&(e.remove(),$S0(a,"Mesibo_onProfileUpdated",!0)(e));$ST(a,!1,0)}function $S_e(a,b,d,e,f,h,k,l){b&&$S8c(a,b,d,!1);h||k||(e|=268435456);f&&(e|=f<<16);b=[];b.push(d);$SWe(a,b,e,!1,!1,l)}
function $SNd(a,b){if(b.data&&!(2>=b.ya)){var d=!0;$S1(b.data,b.ya,function(e){if(!e)return!1;if(e.uid==a.context.Lb)return!0;var f=e.$&67108864?!0:!1,h=e.$&32768?!0:!1,k=e.$&134217728?!0:!1;e.$&=-201359361;f&&d&&(d=!1);e.$&=32767;$S_e(a,e.uid,e.address,e.$,e.hc,h,k,null);return!0});$Sw(a)}}
function $S4c(a,b){if(b.data&&!(2>=b.ya)){var d=b.ea&4095;if(d){var e=0;$S1(b.data,b.ya,function(f){if(!f||f.flags&4096||3<f.dg||f.Ua.length!=d)return!1;for(var h=0;h<f.Ua.length;h++)$S_e(a,0,f.Ua[h],f.$,f.hc,!1,!1,function(){e++;e==d&&$SZe(a,0,0,f.dg+1,null,0,!1)});return!0})}}}$S.yb=function(a){!a||a.ja.Rg||a.ja.i>this.Qf.fh||(a.ja.Rg=!0,$S0(this,"Mesibo_onCustomizeProfile",function(){return!0})(a)&&(a.ja.i=$So()),a.ja.Rg=!1)};
function $SMe(a,b){if(!b||b.ja.lh>a.Qf.fh)return b.ja.name;b.ja.lh=$So();return $S0(a,"Mesibo_onGetProfileName",function(){return null})(b)}function $SPe(a,b){if(!b||b.ja.Pg>a.Qf.fh)return b.ja.image;b.ja.Pg=$So();return $S0(a,"Mesibo_onGetProfileImage",function(){return null})(b)}$S.ak=function(){this.Qf.fh=$So()};function $SAe(a,b){if(!b)return 0;var d=a.random();a.re[d]=b;return d}function $S0e(a,b,d){return b&&a.re.hasOwnProperty(b)&&(a=a.re[b])&&$Sn(a,d)?a[d]:function(){}}
function $S1e(a,b){a||(a=0);b||(b=0);return parseInt(a)&16777215|(parseInt(b)&15)<<24}$S.Yf=function(a,b,d){var e={A:{}};e.C=a;e.Ab=b;d.hasOwnProperty("callFlags")||(d.callFlags=32774);d.hasOwnProperty("callDuration")||(d.callDuration=0);d.hasOwnProperty("videoResolution")||(d.videoResolution=0);e.name=d.name;e.A.flags=d.flags;e.A.we=$S1e(d.callFlags,d.videoResolution);e.A.xe=d.callDuration;$SVc(this,40,0,e)};
$S.Vl=function(a,b,d){var e={};if("string"==typeof a)e.name=a,e.flags=b;else if(a instanceof Object)e=a,d=b;else return!1;a=$SAe(this,d);this.Yf(0,a,e)};
function $Swe(a,b,d,e,f,h,k){if(!b)return!1;k=$SAe(a,k);var l={};l.C=b;l.Ab=k;l.A={};f.hasOwnProperty("flags")||(f.flags=31);f.hasOwnProperty("adminFlags")||(f.adminFlags=0);f.hasOwnProperty("callFlags")||(f.callFlags=0);f.hasOwnProperty("callDuration")||(f.callDuration=0);f.hasOwnProperty("videoResolution")||(f.videoResolution=0);l.A.ob=f.flags;l.A.sb=f.adminFlags;l.A.we=$S1e(f.callFlags,f.videoResolution);l.A.xe=f.callDuration;l.A.Df=f.expiry;l.A.Ia=e;l.Ua=d;h?l.A.ob="2147483648":l.A.ob&=2147483647;
$SVc(a,41,d?d.length:0,l);return!0}function $Sze(a,b,d,e){if(!b)return!1;e=$SAe(a,e);var f={};f.C=b;f.sa=d;f.Ab=e;$SVc(a,42,0,f);return!0}function $Sxe(a,b,d,e,f,h,k,l){if(!b)return!1;l=$SAe(a,l);var n={};n.C=b;n.Ab=l;n.A={};n.A.ob=h.flags;n.A.sb=h.adminFlags;n.A.we=$S1e(h.callFlags,h.videoResolution);n.A.xe=h.callDuration;n.A.Df=h.expiry;n.A.R=e;n.A.Ei=f;n.A.Ia=d;k?n.A.ob="2147483648":n.A.ob&=2147483647;$SVc(a,44,0,n);return!0}
function $SId(a,b){!b.data||2>=b.data.length||$S1(b.data,b.data.length,function(d){if(!d.C)return!1;$SRe($SU(a,null,d.C,0,!1,!0),0,0,null);return!1})}
function $SHd(a,b){var d=b.ea;!d||1024<d||$S1(b.data,b.data.length,function(e){if(e)a:{var f=b.ea,h=e.flags&4?1:0,k=$SU(a,null,e.C,0,!1,!0);if(!(h&&(k.B.mts?k.B.mts:0)>b.i/1E3)){!(e.name&&0<e.name.length)||k.p.name&&k.p.name.length||(k.p.name=e.name);e.A&&(k.p.A=e.A);e.C&&!k.p.C&&(k.p.C=e.C);var l=e.A.flags&65535,n=e.A.flags>>16,q=e.flags&1?1:0,z=e.flags&2?1:0,A=e.flags&8?1:0,D=e.flags&64?1:0,K=k.p&&k.p.hasOwnProperty("ts");if(q||D||!K)if(!K)a.context.ad=1,$ST(a,1,0);else if(a.context.Jb<b.i)for(var m=
0;m<f;m++)if($S2e(a,e.Ua[m])){a.context.ad=1;$ST(a,1,0);break}var w=$SQe(k);K=[];var v=0;A&&e.flags&16&&(w=[],v=$Sp());A=!1;for(m=0;m<f;m++){var t={address:e.Ua[m],type:3};$S2e(a,e.Ua[m])&&(A=!0,$SJe(k,h));if(h)for(var x=0;x<w.length;x++){if(w[x].address==t.address){w.splice(x,1);break}}else{m<l?t.type=1:m<n&&(t.type=2);var E=!1;for(x=0;x<w.length;x++)if(w[x].address==t.address){E=!0;w[x].type=t.type;break}E||w.push(t)}K.push(t);e.flags&=-17}$SRe(k,e.sa,v,w);if(e.Ab&&a.re.hasOwnProperty(e.Ab)&&(e=
a.re[e.Ab]))if("function"===typeof e)e(k);else if(e instanceof Object&&(q&&$Sn(e,"Mesibo_onGroupCreated")&&e.Mesibo_onGroupCreated(k),z&&$Sn(e,"Mesibo_onGroupJoined"))){e.Mesibo_onGroupJoined(k);break a}if(h)A&&$S0(a,"Mesibo_onGroupLeft",!0)(k),$S0(a,"Mesibo_onGroupMembersRemoved",!0)(k,K);else if(z||D)A&&$S0(a,"Mesibo_onGroupJoined",!0)(k),$S0(a,"Mesibo_onGroupMembersJoined",!0)(k,K)}}return!1})}
function $SJd(a,b){var d=0,e={},f={},h=[],k=null;$S1(b.data,b.ya,function(l){if(!l)return!1;k=a.M(null,l.C);if(!k)return!1;d=l.Ab;var n={};n.flags=$SIa(l.A.ob);n.adminFlags=$SIa(l.A.sb);n.callFlags=$SIa(l.A.we);n.videoResolution=n.callFlags>>24&15;n.callFlags&=16777215;n.callDuration=$SIa(l.A.xe);n.expiry=$SIa(l.A.Df);l.A.Ia=$SIa(l.A.Ia);if(0==l.A.Ia)return h=e=f=null,!1;if(1==l.A.Ia)return e=n,f.name=k.Ic(),f.flags=$SIa(l.A.flags),f.callFlags=n.callFlags,f.videoResolution=n.videoResolution,f.callDuration=
n.callDuration,!0;if(2==l.A.Ia)return f.flags=$SIa(l.A.flags),f.callFlags=n.callFlags,f.videoResolution=n.videoResolution,f.callDuration=n.callDuration,!0;if(100>l.A.Ia)return!0;var q={};q.pin=l.A.Ia;q.permissions=n;h.push(q);return!0});$S0e(a,d,"Mesibo_onGroupSettings")(k,f,e,h)}
function $SKd(a,b){$S1(b.data,b.data.length,function(d){if(!d||!d.C)return!1;var e=a.M(null,d.C);11==d.error?($SIe(e,128,void 0),$SKe(e),a.data.Ae=0):1==d.error&&($SJe(e,!0),a.data.Ae=0);$S0e(a,d.Ab,"Mesibo_onGroupError")(e,d.error);return!1})}function $S3e(a,b){for(var d=0;d<a.td.length;d++)if(a.td[d]==b)return;a.td.push(b)}
function $S3(a,b){this.h=$Svc();this.id=this.h.random();this.md=a;this.Fa=null;this.md&&$Sn(this.md,"Mesibo_onMessage")&&(this.Fa=this.md.Mesibo_onMessage);this.od=null;this.cg=!1;this.Ck=this.eg=0;this.query=null;this.Xa=[];this.Wa={};this.reset();this.Ek=this.files=!1;this.Zj=!0;this.Ik=!1;this.Vj=this.Oi=this.Ij=!0;this.address="";this.s=0;this.summary=!0;this.disabled=!1;this.profile=null;b&&(this.summary=!1,this.profile=b,this.address=b.Ha(),this.s=b.Fb(),this.profile.message.Ih++,this.profile.ia.m.If=
0)}$S=$S3.prototype;$S.reset=function(){this.position=0;this.Xa.length=0;this.summary=this.Nc=this.end=!1;this.Va=null;this.eo=this.yj=this.Jc=this.ah=this.bh=0;this.Bh=!1;this.od=null};$S.stop=function(){this.profile&&this.profile.message.Ih&&this.profile.message.Ih--;$S4e(this.h,this,!1);this.Nc&&this.Rd(!1);this.reset();this.h.De==this&&(this.h.De=null)};$S.Rd=function(a,b){(this.Nc=a)&&b&&this.Va&&$Spd(this,this.Va)};$S.yi=function(a){this.Nc=!1;this.summary=a;this.h.De=this};
$S.fm=function(a){this.files=a};$S.hm=function(a){this.Ek=a};$S.gm=function(a){this.Zj=a};$S.jm=function(a){this.Ik=a};$S.wi=function(a){this.Ij=a};$S.vi=function(a){this.Oi=a};$S.xi=function(a){this.Vj=a};$S.cm=function(a){this.wi(a);this.vi(a);this.xi(a)};$S.bp=function(a){this.query=a};$S.M=function(){return this.profile};$S.pj=function(){return this.summary};
function $Spd(a,b){if(a.Nc&&!a.summary&&b&&18==b.status&&!(b.i<a.bh)&&b.l&2&&0!=b.mid){a.bh=b.i;var d=b.v,e=b.s;0<e&&(d="");a.h.m.sc?(a.h.jk(d,e,b.Ad?b.Ad:b.mid),a.Va=null,a.Bh=!1):(a.Bh=!0,a.Va=b)}}function $Sod(a,b){return a.summary?!1:0<a.s||0<b.s?a.s==b.s:a.address==b.v}$S.Th=function(a,b){a=a.mid;this.Wa[a]&&(this.Wa[a].status=b)};
$S.sh=function(a){if(this.Fa){a>this.h.summary.length&&(a=this.h.summary.length);if(!a)return this.Fa(null),!1;for(var b=0;b<a;b++){var d=this.h.summary[b];d.zf=!1;d.origin=2;d.te=this.id;b==a-1&&(d.zf=!0);this.Fa(d)}return a}};
$S.read=function(a){var b=this,d;return $Sg(function(e){$S5e(b.h)&&!b.summary&&(a=1,b.disabled=!0);b.eo=0;$S4e(b.h,b,!b.summary);0==a&&(a=b.ah);if(b.end)return b.Fa&&b.Fa(null),e.return(!1);if(b.summary)return b.h.db&&!b.h.db.$g()?(b.h.td.push(b),e.return(!0)):e.return(b.sh(a));if(!b.h.db)return b.Fa&&b.Fa(null),e.return(!0);b.ah=a;if(!b.h.db.$g())return $S3e(b.h,b),e.return(!0);d=b;b.Va=null;b.vj=0;$Sac(b.h.db,function(){var f=null;d.h.db.read(d.address,d.s,d.position,a,function(h){if(null==h)d.Fa&&
(f&&(f.zf=!0,f.te=d.id),d.Fa(f)),d.vj<a&&(d.end=!0),$Spd(d,d.Va);else{if(h.mid==d.yj||d.Jc&&h.i>d.Jc+1E3||d.Wa[h.mid]||!d.pj()&&39==h.status)return d.position++,!1;d.yj=h.mid;d.Jc=h.i;h=$SDc(d.h,h);if(!h||h.channel||!(h.$b()?d.Ij&&h.ij()||d.Oi&&h.ej()||d.Vj&&h.jj():!d.Zj||d.Ek&&!h.Ki()||d.Ik&&(h.mj()||h.Yg())||d.files&&!h.Zb()?0:d.query?h.message&&-1!==h.message.indexOf(d.query)||h.title&&-1!==h.title.indexOf(d.query)||h.eb&&-1!==h.eb.indexOf(d.query):1))return d.position++,!1;if(!d.eg||d.eg>h.i)d.eg=
h.i,d.Ck=h.mid;d.disabled&&(h.l&=-257,h.message=$STd(d.h),h.file.url=null);h.origin=1;h.Nb();d.Fa&&f&&(f.te=d.id,d.Fa(f));var k=h.status;$S1c(d.h,h);if(18==k&&d.Nc){if(!d.Va||h.i>d.Va.i)d.Va=h;h.status=19;$Scc(d.h.db,h.mid,h.v,h.s,19,function(){});h.status=18}d.position++;d.vj++;f=h;return!0}})});return e.return(!0)})};function $S6e(a,b,d){0<b&&(a.end=!1);a.cg=!1;d&67108864&&(a.cg=!0);a.od&&a.od(a,b)}
$S.Fl=function(a,b){if(!$Sud(this.h)||this.cg)return!1;$S4e(this.h,this,!0);this.cg=!0;this.od=b;!this.od&&this.md&&$Sn(this.md,"Mesibo_onSync")&&(this.od=this.md.Mesibo_onSync);b=new $SP;b.channel=130;b.mid=this.h.random();b.s=this.s;b.type=this.summary?26:25;b.L=this.Ck;b.R=3600;b.l=1028;b.v=this.address;b.ma=this.id;b.Eg=parseInt(this.eg/1E3);b.count=a;this.summary&&(b.v="1",b.Eg=0);b.data=" ";this.h.xa(b)};
$S.$m=function(a){if(!this.h.db)return this.xq&&this.count(0),!0;$S7b(this.h.db,this.address,this.s,a);return!0};$S.Yb=function(a,b){this.h.db.Yb(this.address,this.s,a,b)};$S.an=function(a){this.h.db.Yb(this.address,this.s,18,a)};$S.Zm=function(a){this.h.db.Yb(this.address,this.s,-1,a)};$S.Wm=function(a){this.h.db.Yb(this.address,this.s,-2,a)};$S.Rm=function(a){this.h.db.Yb(this.address,this.s,-3,a)};$S.Gm=function(){return this.summary?this.h.summary:this.Xa};
$S.pc=function(a){if(!this.summary&&!this.Wa[a])return!1;var b;for(b=0;b<this.Xa.length;b++)if(this.Xa[b].mid==a)return this.Xa.splice(b,1),delete this.Wa[a],!0;return!1};$S.Tb=function(a){for(var b in a)this.pc(a[b])};$S3.j=function(a){a=new $S3(a);a.yi(!0);return a};$S3.N=function(a){return new $S3(a)};window.MesiboReadSession=$S3;$S3.prototype.enableReadReceipt=$S3.prototype.Rd;$S3.prototype.enableSummary=$S3.prototype.yi;$S3.prototype.enableFiles=$S3.prototype.fm;$S3.prototype.enableThreads=$S3.prototype.hm;
$S3.prototype.enableMessages=$S3.prototype.gm;$S3.prototype.enableUnreadMessages=$S3.prototype.jm;$S3.prototype.enableMissedCalls=$S3.prototype.wi;$S3.prototype.enableIncomingCalls=$S3.prototype.vi;$S3.prototype.enableOutgoingCalls=$S3.prototype.xi;$S3.prototype.enableCalls=$S3.prototype.cm;$S3.prototype.setQuery=$S3.prototype.bp;$S3.prototype.read=$S3.prototype.read;$S3.prototype.sync=$S3.prototype.Fl;$S3.prototype.reset=$S3.prototype.reset;$S3.prototype.stop=$S3.prototype.stop;
$S3.prototype.deleteMessage=$S3.prototype.pc;$S3.prototype.deleteMessages=$S3.prototype.Tb;$S3.prototype.getMessages=$S3.prototype.Gm;$S3.prototype.getUnreadCount=$S3.prototype.$m;$S3.prototype.getMessageCount=$S3.prototype.Yb;$S3.prototype.getUnreadMessageCount=$S3.prototype.an;$S3.prototype.getTotalMessageCount=$S3.prototype.Zm;$S3.prototype.getSentMessageCount=$S3.prototype.Wm;$S3.prototype.getReceivedMessageCount=$S3.prototype.Rm;$S3.prototype.getProfile=$S3.prototype.M;
$S3.prototype.isSummary=$S3.prototype.pj;$S3.createReadSummarySession=$S3.j;$S3.createReadSession=$S3.H;function $SS(){$S7e(this)}function $S8e(){return!1}var $S9e=null;function $Svc(){return $S9e?$S9e:$S9e=new $SS}
function $S7e(a){$S9e=a;a.objType="Mesibo";a.uid=0;a.Af=0;a.na=0;a.version=$SQa("2.4.2");a.Xe=$SQa("2.4.0");a.Nj=!0;a.Ok=$Sp();a.Z=new $SDa;a.Bb="";a.Wf(window.location.hostname);a.Mk="ws.mesibo.com";a.Ed="https://storage.mesibo.com/api/api.php";a.$h="";a.Zh=null;a.db=null;a.ab="mesibo";a.Wh=!0;a.Xh=!1;a.X=null;a.td=[];a.De=null;a.yc=0;a.bb=0;a.Rb=0;a.ve=0;a.H=!1;a.Nk=0;a.Ff=0;a.kh=0;a.uj=3E4;a.Qg=50;a.Kj=32;a.Yh=0;a.qh=0;a.ef=0;a.ub=0;a.ee=0;a.kc=0;a.ec=0;a.stopped=0;a.qh=0;a.Xc=!0;a.li=0;a.F=new $S_a;
a.xf=-1;a.notify=null;a.N={};a.pf={};$S$e(a);a.yf=null;a.ce=0;a.xb=-1;a.j=15E3;a.hd=null;a.Jj=null;a.Rf=!1;a.zb=new $Sxb;a.mk=new $Sxb;a.gf=parseInt(Math.floor(65535*Math.random()),10);256>a.gf&&(a.gf=256);a.Wa={};a.Ce={};a.summary=[];a.vb={};a.ze=[];a.xd=null;a.Ja=[];a.g=new $Saf(a);a.context=a.g;a.Jk={};a.re={};a.Ba={};a.Ba.Bi=0;a.Ba.pending=0;a.Ba.af=0;a.Ba.Zc=0;a.data={};a.data.Jc=0;a.data.Ae=0;a.data.Xj=0;a.data.Ni=!1;a.m={};a.m.i=0;a.m.status=-1;a.m.value=-1;a.m.mode=2;a.m.sc=!0;a.m.ga=!1;a.m.target=
0;a.m.ke=0;a.Kb={};a.Kb.Of=65535;a.Kb.interval=1800;a.ta=0;a.sk(4);$S9d(a);a.jc={subscribe:18E5,J:5E3,message:1E4};a.ib=null;a.vo=255;$SXe(a);a.ik=$SRa();a.Dh=$SSa();$SPa(function(){var b=!(null==$SNa?0:document[$SNa]);a.m.sc=b;$SJc(a);if(b)for(var d in a.Ja)b=a.Ja[d],b.Bh&&b.Va&&$Spd(b,b.Va)})&&(a.m.sc=!(null==$SNa?0:document[$SNa]));a.wd=[];a.Ra=new $S$a(a);a.Le=!1;a.crypto=$Syb()}$S=$SS.prototype;$S.Zo=function(a){this.m.mode=a};
$S.sk=function(a){this.m.target=a;if(32<a)this.m.ke=2;else if(this.m.ke=0,8==a||3==a||5==a||7==a)this.m.ke=1};$S.$o=function(a){this.m.ke=a};function $Sbf(a,b,d,e){null!=b&&($Sn(b,"Mesibo_onConnectionStatus")&&b.Mesibo_onConnectionStatus(d,e),a=a.Ra,a.enabled&&$SG(a)&&(3==a.h.m.status&&(a.active=!1),a.start()||$SB(a,null)))}
function $Sv(a,b,d){if(1==b||b!=a.m.status){if(1==b){a.bb=1;a.m.i=$So();var e=$Sp(),f=parseInt(a.g.fc),h=e+2*f,k=e+(a.uid^f);f=e+(2*parseInt(a.g.tb)^f);a.storage.setItem("nts",e);a.storage.setItem("qts",h);a.storage.setItem("uts",k);a.storage.setItem("ats",f);a.g.o.lc=0;a.g.o.Sb=0;a.Ba.pending&&$ST(a,0,0);$SJc(a)}2==b&&(a.m.ga=!1,a.bb=0);a.m.status=b;a.m.value=d;$Sbf(a,a.notify,b,d);for(var l in a.N)$Sbf(a,a.N[l],b,d);1==b&&null==a.hd&&$Srd(a)}}
function $SLc(a,b){var d=a.notify;void 0!=b&&null!=b&&b.channel&&0<b.channel&&(b=b.channel,a.N.hasOwnProperty(b)&&(d=a.N[b]));return d}function $S0(a,b,d){!0===d?d=$S8e:void 0===d&&(d=null);return(a=$SLc(a,null))&&$Sn(a,b)?a[b]:d}function $S3c(a,b){var d=$SLc(a,b);null!=d&&(b.Nb(),b.profile||(b.profile=$SU(a,b.v,0,0,!1,!0),b.La=null,b.s&&(b.La=$SU(a,"",b.s,0,!1,!0))),b.update||b.vf()?$Sn(d,"Mesibo_onMessageUpdate")&&d.Mesibo_onMessageUpdate(b):$Sn(d,"Mesibo_onMessage")&&d.Mesibo_onMessage(b))}
function $Sdd(a,b){b.ma||b.$b()||(b.status=18);var d=b.status;b.profile=a.M(b.v,0);if(!b.profile.Sg()){$S1c(a,b);var e=null;(b.update||b.vf())&&(e=a.Wa[b.mid])&&(b=e);0==b.origin&&b.profile&&!b.$b()&&(b.profile.message.Pa=b.i);if(b.ma){if(b.l&8388608)for(var f in a.Ja)if(f==b.ma){var h=a.Ja[f];if(!b.count){$S6e(h,b.count,b.l);break}var k=a,l=$So();$SZa(3E4,function(n){return!n&&0<k.db.Bc?!1:(l=$So()-l,$S6e(h,b.count,b.l),!0)});break}}else b.status=d,63<=b.channel||b.l&1024||$S3c(a,b)}}
function $Scf(a,b){if(!(63<=b.channel||b.l&1024)){var d=$SLc(a,b);null!=d&&((a=a.Wa[b.mid])?(a.Yc=b.Yc,a.Be=b.Be,a.hj()||(a.status=b.status),a.Ub=b.Ub,b=a):b.Nb(),$Sn(d,"Mesibo_onMessageStatus")&&d.Mesibo_onMessageStatus(b))}}function $SYc(a,b,d){b.status=d;3==d&&$Scc(a.db,b.mid,b.v,b.s,d,null);145==d&&0<b.s&&$SJe($SU(a,"",b.s,0,!1,!0),!0);a.Th(b);d=b.mid;for(var e=0;e<a.summary.length;e++){var f=a.summary[e];if(f.mid==d){$S2b(a.db,f);break}}$Scf(a,b)}
function $Sqd(a,b){if(a.Pa&&a.V){var d=0;if(1==b&&0<a.V.ga)d=a.i+1E3*a.V.ga;else if(2==b&&0<a.V.receive)d=a.i+1E3*a.V.receive;else if(3==b&&0<a.V.read)d=a.i+1E3*a.V.read;else if(18==b||19==b)if(0<a.V.receive&&(d=$So()+1E3*a.V.receive),19==b&&0<a.V.read&&(b=$So()+1E3*a.V.read,!d||d>b))d=b;0<d&&(!a.Pa||a.Pa>d)&&(a.Pa=d)}}function $Sdf(a,b){setTimeout(function(){$Sjc(a.db,b.v,b.s,b.i,function(d){0>d||(b.mid=d,b.Fg=!0,$S$c(a,b))})},200)}
function $Sef(a,b,d){var e,f,h,k,l;$Sg(function(n){e=b.status;f=b.v;k=h=a;l=b;return $Sd(n,$Sgc(a.db,b.mid,b.v,function(q){var z;return $Sg(function(A){z=-1;q&&(z=parseInt(q.status));return 3==z||2==z&&2==e?(d(),A.return()):$Sd(A,$SM(h.db,b.mid,function(D){if(!D)return 3!=e&&2!=e||l.Fg||$Sdf(k,l),d(),!1;D=$SDc(k,D);if(!D)return d(),!1;if(0<e&&(63<D.channel||D.l&1024))return D.nb.Pd=!0,d(),!0;$Sqd(D,e);3!=e&&2!=e||$Sic(h.db,D.mid,D.s,f,e,l.i,q);if(0==D.s||3!=e&&2!=e)return $SYc(h,D,e),D.nb.status=
D.status,d(),3!=e;var K="rc";2==e&&(K="dc");var m=0;if(D.nb.hasOwnProperty(K))m=D.nb[K];else if(k.pf.hasOwnProperty(D.s))m=k.pf[D.s],D.nb.rc=m,D.nb.dc=m,D.nb.status=1,$SYc(h,D,e);else return d(),!1;D.nb.Sh=function(){d()};D.nb[K]=m-1;D.Yc=e;D.Be=f;if(1>=m)return delete D.nb[K],$Swd(h,D.mid,e),$SYc(h,D,e),D.nb.status=D.status,(D=3!=e)||d(),D;$Scf(h,D);D.nb.status=D.status;return!0}),0)})}),0)})}
function $S$c(a,b){var d,e;return $Sg(function(f){d=d=a;e=new Promise(function(h){$Sef(d,b,h)});return $Sd(f,e,0)})}$S.dm=function(a){this.Le=a};$S.Xm=function(){return this.Ra.Li()};$S.pp=function(a,b){$Sib(this.Ra,a,b)};$S.bn=function(a,b){$Sgb(this.Ra,a,b)};
$S.Jh=function(a){this.kc=this.na=this.uid=0;if(39>a.length)return!1;this.Bb=a;$S9a(this,this.Bb);this.storage=new $Sqc;a=parseInt(this.storage.getItem("nts",0));var b=parseInt(this.storage.getItem("uts",0)),d=parseInt(this.storage.getItem("ats",0)),e=parseInt(this.storage.getItem("qts",0));this.Ne=this.je=this.Pf=0;a&&(this.Ne=(e-a)/2,this.Pf=b-a^this.Ne,this.je=(d-a^this.Ne)/2);return 0==this.uid||0==this.na?!1:!0};function $STc(a,b){return b?b==a.Wd()||a.g.va.uid&&b==a.g.va.uid:!1}
function $S2e(a,b){return $Sr(b)?!1:$SHa(b,a.g.address)||$SHa(b,$Sse(a))?!0:!1}function $SQ(a){return a.g.va.uid?a.g.va.uid:a.Wd()}function $Sse(a){return a.g.va.uid?a.g.va.address:a.g.address}$S.Wd=function(){return this.uid};$S.Da=function(){return $SQ(this)};$S.Ha=function(){return $Sse(this)};$S.Gg=function(){return this.m.status};$S.Oc=function(a,b){void 0!=b&&0<b?this.N[b]=a:this.notify=a};$S.Wf=function(a){a&&(this.Wc=a.toLowerCase())};$S.om=function(){return this.Wc};
$S.Kh=function(){var a=$Sp(),b=this.Mk,d=5443,e=this.g.r.e;this.Xc=!0;var f=this.g.r.Bb;this.na==this.g.r.id&&0<e&&e>a&&f&&0<f.byteLength&&this.g.r.host?(b=this.g.r.host,this.g.r.p&&(d=this.g.r.p),this.Xc=!1):0<e&&($SRd(this.g),$Sw(this));this.F.Kh(1,b,d)};$S.mp=function(a,b){this.Ed=a;this.$h=b};function $Sff(a){return a.Ed.includes("mesibo.com")?a.Bb:a.$h}
function $Sgf(a,b){a.db.sh(100,function(d){a.summary=[];for(var e=0;e<d.length;e++){var f=d[e];f&&(f=$SDc(a,f))&&(f.Nb(),a.summary.push(f),a.Ce[f.mid]=f)}b();a.X&&a.X(!0);$So();$So()})}function $Shf(a,b){$S5b(a.db,function(d){a.vb={};for(var e=0;e<d.length;e++){var f=d[e];if(f.uid&&f.uid==$SQ(a))a.xd=new $SY(f,a);else{var h=new $SY(f,a);f=$Sqe(a,f);a.vb[f]=h}}$Sgf(a,b)})}function $Sif(a,b){$S9b(a.db,function(d){for(var e=0;e<d.length;e++){var f=$SDc(a,d[e]);f.data=d[e].data;f.send()}$Shf(a,b)})}
function $Sjf(a,b){$Skf(a);a.context.load(function(){a.Xe==a.g.version?a.Nj=!1:$SRd(a.g);$Sif(a,b)})}function $Slf(a,b,d){a.db=new $SIb(a);a.db&&a.db.open(b,function(e){e?$Sjf(a,d):(console.log("opening db "+b+" failed"),a.db=null,d(null),a.X&&a.X(!1))})}function $Smf(a,b,d){"indexedDB"in window?a.db||(a.uid&&a.Wh?$Slc(b,function(e){!e&&0<a.uid&&(b=b+"-"+(a.uid&&a.Af?a.Af:a.uid));$Slf(a,b,d)}):$Slf(a,b,d)):d(null)}
$S.pk=function(a,b){this.Xh=!0;this.ab=a;this.uid||(this.Wh=!1);void 0!==b&&(this.X=b)};function $S4e(a,b,d){d?a.Ja[b.id]=b:a.Ja.hasOwnProperty(b.id)&&delete a.Ja[b.id]}
function $Snf(a){if(!a.ve){var b=parseInt(a.g.o.Sb),d=!1;a.na<b?d=!0:192==(a.g.o.result&192)&&a.na==b?d=!0:a.na<a.g.o.na&&a.uid==a.g.uid&&(d=!0);if(d)$Sv(a,4,0);else{a.g.o.Sb&&a.na>a.g.o.Sb&&a.g.tb==a.je&&(3>a.g.o.Ld&&(a.g.o.result=0,a.g.o.Qa=0,a.g.o.Sb=0),a.g.o.Ld++);if(a.g.o.result&&a.g.o.Qa>$So()){a.kc=192==(a.g.o.result&192)?!0:0;a.H=160==(a.g.o.result&160)?!1:0;if(a.kc){$Sv(a,4,0);return}if(a.H&&($Sv(a,10,0),a.g.o.lc)){if(8&a.g.o.action||1296E3<$Sp()-a.g.o.lc){$SUd(a,!0);return}(2&a.g.o.action||
86400<$Sp()-a.g.o.lc)&&$SUd(a,!1)}}a.na!=a.g.o.na&&(a.g.o.i=0,a.g.o.pd=0,a.g.o.Rb=0);a.Ra.enable(a.uid,a.Le);for(a.Le||a.F.start();0<a.td.length;)a.td.shift().read(0);a.ec=1}}}
$S.start=function(){console.log(this.g.zg.fi);console.log("starting mesibo");var a=$STa();if("safari"==a.name.toLowerCase()&&(a=parseFloat(a.version),!isNaN(a)&&15<=10*a&&154>10*a))return console.error("This version of the Safari browser has issues with WebSocket connection (https://bugs.webkit.org/show_bug.cgi?id=230962, https://bugs.webkit.org/show_bug.cgi?id=228296), please update your Safari browser to 15.4 and later, or use another browser"),!1;if(0==this.uid||1093344>this.na)return $Sv(this,
4,0),!1;this.stopped=0;this.F.lb=this;var b=this;if(this.db)return $Snf(b),0;this.Xh||this.pk("mesibo");if(this.ab&&0<this.ab.length)return $Smf(this,this.ab,function(){$Snf(b)}),0;this.F.start();this.ec=1;return!0};$S.stop=function(){this.stopped=1;$S7a(this);this.F.stop()};function $S5e(a){return a.g.o.result&&a.g.o.Qa>$So()&&(a.kc=192==(a.g.o.result&192)?!0:0,a.H=160==(a.g.o.result&160)?!1:0,a.kc||a.H)?!0:!1}$S.random=function(){return parseInt(Math.floor(2147483647*Math.random()))};
function $Skf(a){var b=a.random();$S6b(a.db,b,function(d){d||a.wd.push(b);16>a.wd.length&&$Skf(a)})}$S.Kg=function(){if(!this.db||!this.wd.length)return this.random();var a=this.wd.shift();$Skf(this);return a};$S.mf=function(){return $So()};function $S8a(a){if(!a.na||!a.uid)return!1;var b=$So();if(a.g.o.Qa>b+100)return $S1a(a.F,a.g.o.Qa-b),!1;a.Kh();$Sv(a,6,0);return!0}
function $Sof(a,b){var d,e,f,h,k,l,n,q,z,A,D;return $Sg(function(K){switch(K.j){case 1:a.Nk=$So();d=new $Sx($SC);$Sab(d,b,b.byteLength);var m=d;0==m.j&&$SBb(m);e=m.result;f=!0;h=0;switch(e){case 65:K.j=2;return;case 79:$Sv(a,3,0);a.stop();f=!1;break;case 74:a.qh=1;break;case 73:(h=d.Wb())||(h=1E3);$SWd(a,h);break;case 75:h=d.Wb();h&1&&$SRd(a.g);a.F.disconnect();$S1a(a.F,3E3);break;case 5:var w=m=d;$SD(w,0);m=w.map;w=w.Wb();var v=m[10].data;a.li=m[8].Cb;$SSd(a,a.uid,w,a.cookie,v,a.Wc);m=null;null!=
m&&a.send(m);return K.return()}K.j=3;break;case 2:return m=a.Ra,m.enabled&&$SG(m)&&$Shb(m)&&$SB(m,b,!0),a.yc=d.Wb(),$Sd(K,$Sed(a,d),4);case 4:K.j=3;break;case 3:if(e&128){$S7a(a);if(145==e){a.F.disconnect();k=$Sp()-a.g.r.i;if(!a.Xc&&900>k)return l=60,a.g.r.i>a.Ok||a.ta?l=900-k:300>k&&(l=300-k),4<a.ta&&30>l&&(l=30),$SQd(a,null),$S1a(a.F,1E3*l),K.return();a.ta++;if(6<=a.ta)return a.stop(),K.return();$SQd(a,d);a.g.o.Qa=0;a.F.start();return K.return()}n=d.Wb();q=$SAb(d);if(134==e||129==e||133==e)n||(n=
$SYa(30,180));var t=q;m=e;w=n;if(m&128&&145!=t){v=192==(m&192)?!0:!1;var x=160==(m&160)?!0:!1;if(v||x)a.g.Db=[],$S$e(a);if(v||x||1==t&&w){8<b.byteLength&&(t=new Uint8Array(b),a.g.o.Fc=$SF(t,8,t.byteLength-8));t=w>>16&4095;w&=65535;t&2048&&(w=65535==w?w<<12:w<<6);a.g.o.result=m;a.g.o.action=t;x&&!w&&(w=3600);w&&$SWd(a,1E3*w);if(147==m||v)a.ve=1;a.g.o.Rb++;if(v||x){a.g.lc=$Sp();a.g.Sb=a.na;a.H=x;if(a.kc=v)a.g.uid=0;$Sw(a);$SVd(a,t)}else $Sw(a),t&&$SVd(a,t)}}192==(e&192)?($Sv(a,4,0),a.bb=0,a.stop(),
f=!1):160==(e&160)?(console.log("mesibo services used in this app has expired"),$Sv(a,10,0),a.bb=0,f=!1):137==e&&($Sv(a,9,0),a.F.disconnect());if(a.ve||!f)return a.stop(),K.return(0);z=$So();a.g.o.Qa>z+100&&(a.F.disconnect(),$S1a(a.F,a.g.o.Qa-z));return K.return(0)}a.g.o.se=$Sp();if(0==(e&64))if($S7a(a),q=$SAb(d),1==q){if(a.Rf=!1,0==e){w=d;a.j=5*($So()-a.io);5E3>a.j?a.j=5E3:3E4<a.j&&(a.j=3E4);a.bb=1;a.ta=0;w=$SD(w,0);a.g.o.flags=0;a.ub=0;a.ee=0;if(!(null==w||0>=w.length)){for(m in w)if(t=w[m],v=t.Cb,
x=t.data,t=parseInt(t.type,10),1!=t)switch(t){case 18:a.g.address=$SF(x,0,x.byteLength);break;case 40:a.g.va.uid=v;break;case 41:a.g.va.address=$SF(x,0,x.byteLength);$S8c(a,a.g.va.uid,a.g.va.address,!1);break;case 19:a.g.Lb=v;break;case 27:a.g.tb=v;break;case 28:a.g.Wc=$SF(x,0,x.byteLength);break;case 50:a.g.zg.fi=$SF(x,0,x.byteLength);break;case 51:case 52:v=$SF(x,0,x.byteLength);console.log(v);break;case 9:a.g.o.i=$SE(x,0,x.byteLength);4294967295<a.g.o.i&&(a.g.o.i=parseInt(a.g.o.i/1E6));break;case 5:a.uj=
1E3*v;break;case 6:a.Qg=20*v;break;case 7:a.Kj=v;break;case 11:a.Yh=v;break;case 8:a.g.o.flags=v;break;case 45:a.ub=v;break;case 46:a.ee=v;break;case 31:a.g.Ka.flags=v;break;case 26:a.g.Ka.Cc=$SF(x,0,x.byteLength);break;case 30:a.g.Qe=v}a.g.Ka.D=a.na;a.g.Ka.flags&8&&(a.g.Ka.D=a.uid)}m=$Sp();a.g.o.ub=a.ub;a.g.o.ee=a.ee;a.g.o.lc=0;a.g.o.Qa=0;a.g.o.Sb=0;a.g.o.Ld=0;a.g.o.result=0;a.g.o.action=0;a.g.o.Fc="";a.g.o.pd=m;a.g.o.se=m;a.g.o.Rb=0;a.g.o.na=a.na;a.Rb=0;$Svd(a)||(a.g.va.uid&&a.g.va.uid!=a.uid&&
(a.Ba.pending=1),a.g.va.uid=0,a.g.va.address=null);$Sw(a);$SXd(a);$Sv(a,1,a.Yh);$Sfd(a)}}else if(2==q){n=d.Wb();0<n&&3E4>n&&(a.kh=$So()+n);m=a.Ra;for(m.enabled&&$SG(m)&&$Shb(m)&&$SB(m,b,!0);;){A=a.mk.first();if(null==A)break;!A.mid||A.s&&!A.channel||(D={status:1},D.mid=A.mid,D.s=A.s,D.v=A.v,$S$c(a,D))}a.Rf=!1;$Srd(a)}a.yc&&$SXd(a);K.j=0}})}function $S4a(a,b){var d;return $Sg(function(e){d=a;return $Sd(e,$Sof(d,b),0)})}
$S.send=function(a){this.bb&&0<this.yc&&($Szb(a,this.yc),this.yc=0);if(!this.F)return 0;if($Sy!=a.mode)a=null;else{var b=0;a.buffer[b++]=a.Y;a.buffer[b++]=a.result;var d=a.da-8;a.buffer[b++]=d&255;a.buffer[b++]=d>>8&255;$Szb(a,a.id);a=a.buffer.slice(0,a.da)}this.Ra.send(a);this.bb&&$SXd(this);$Spf(this)};function $Spf(a){$SG(a.Ra)&&($S7a(a),a.xb=setTimeout(function(){a.F.disconnect();$S6a(a);$S7a(a);$Sv(a,2,0);a.stopped||a.F.start()},a.j))}function $S7a(a){-1!=a.xb&&clearInterval(a.xb);a.xb=-1}
$S.qn=function(){return this.H};$S.fo=function(a,b){if(this.ib)return this.ib;$Sme(this);return this.ib=new $S6(this,b)};$S.ho=function(){$Sme(this)};$S.pn=function(){};window.performance=window.performance||{};performance.now=performance.now||performance.j||performance.H||performance.N||performance.webkitNow||Date.now;function $Sqf(a){console.error("*** WARNING: "+a+" is only available in Android and iOS ***")}
window.mesibo_exports=function(){var a=new $SS;a.Wf("web");a.Oc(null);a.Op(!0);a.Jh(null);a.Da();a.start();a.Sp(null,null,null);(new $S3).Rd(!0);a=new $SO;a.Xf(0);a=new $SP;a.Xf(0);a=new $SR;a.Xf(0)};window.Mesibo=$SS;$SS.prototype.start=$SS.prototype.start;$SS.prototype.stop=$SS.prototype.stop;$SS.prototype.setDatabase=$SS.prototype.pk;$SS.prototype.readDbSession=$SS.prototype.Pp;$SS.prototype.setListener=$SS.prototype.Oc;$SS.prototype.addListener=$SS.prototype.Oc;$SS.prototype.setAppName=$SS.prototype.Wf;
$SS.prototype.setAppId=$SS.prototype.Wf;$SS.prototype.getAppIdForAccessToken=$SS.prototype.om;$SS.prototype.setCredentials=$SS.prototype.Jh;$SS.prototype.setAccessToken=$SS.prototype.Jh;$SS.prototype.getUid=$SS.prototype.Da;$SS.prototype.getAddress=$SS.prototype.Ha;$SS.prototype.getConnectionStatus=$SS.prototype.Gg;$SS.prototype.setOnlineStatusMode=$SS.prototype.Zo;$SS.prototype.setOnlineStatusTarget=$SS.prototype.sk;$SS.prototype.setOnlineStatusPrivacy=$SS.prototype.$o;
$SS.prototype.deleteMessage=$SS.prototype.pc;$SS.prototype.deleteMessages=$SS.prototype.Tb;$SS.prototype.wipeMessage=$SS.prototype.Vh;$SS.prototype.wipeMessages=$SS.prototype.Mp;$SS.prototype.wipeAndRecall=$SS.prototype.Jl;$SS.prototype.wipeAndRecalls=$SS.prototype.Lp;$SS.prototype.sendReadReceipt=$SS.prototype.jk;$SS.prototype.setupVoiceCall=$SS.prototype.rp;$SS.prototype.setupVideoCall=$SS.prototype.qp;$SS.prototype.call=$SS.prototype.call;$SS.prototype.mute=$SS.prototype.Ga;
$SS.prototype.toggleAudioMute=$SS.prototype.Hl;$SS.prototype.toggleVideoMute=$SS.prototype.Il;$SS.prototype.answer=$SS.prototype.answer;$SS.prototype.hangup=$SS.prototype.za;$SS.prototype.random=$SS.prototype.random;$SS.prototype.getUniqueMessageId=$SS.prototype.Kg;$SS.prototype.loadRtc=$SS.prototype.ho;$SS.prototype.enableCrossTabSessions=$SS.prototype.dm;$SS.prototype.getTabId=$SS.prototype.Xm;$SS.prototype.setUserObject=$SS.prototype.pp;$SS.prototype.getUserObject=$SS.prototype.bn;
$SS.prototype.isAccountSuspended=$SS.prototype.qn;$SS.prototype.getProfile=$SS.prototype.M;$SS.prototype.getGroupProfile=$SS.prototype.Gl;$SS.prototype.getSelfProfile=$SS.prototype.Jg;$SS.prototype.getSortedProfiles=$SS.prototype.Ii;$SS.prototype.getGroupProfiles=$SS.prototype.Bm;$SS.prototype.hideInactiveGroupProfiles=$SS.prototype.nn;$SS.prototype.resetProfileCustomizations=$SS.prototype.ak;$SS.prototype.setUploadUrl=$SS.prototype.mp;$SS.prototype.setUploadHandler=$SS.prototype.Qp;
$SS.prototype.createGroup=$SS.prototype.Vl;$SS.prototype.setMessageRetractionInterval=$SS.prototype.Yo;$SS.prototype.getMessageRetractionInterval=$SS.prototype.Ig;$SS.prototype.setRemoteRetractionPolicy=$SS.prototype.fp;$SS.internalTesting=$SS.prototype.pn;$SS.prototype.groupCall=$SS.prototype.fo;$SS.prototype.time_msec=$So;$SS.prototype.getTimestamp=$SS.prototype.mf;$SS.prototype.time_sec=$Sp;$SS.prototype.createhttpRequest=function(){return new $Sh};$SS.getInstance=$Svc;window.array2String=$SF;
"https:"!=window.location.protocol&&window.location.host.replace(/(localhost|127\.0\.0\.1)(:\d+)?/i,"")&&(console.error("*** WARNING: mesibo requires secure(https) connection ***"),console.error("*** Detected host: "+window.location.host));function $S$e(a){a.Db={};a.bc={}}function $S_c(a,b){return a.bc.hasOwnProperty(b)?a.bc[b].a:null}
function $S8c(a,b,d,e){var f=$S_c(a,b);f?(f.t=$Sp(),e&&(e=a.g,900>$Sp()-e.i||$Sw(a))):$Sr(d)||(f={},f.u=b,f.a=d,f.t=$Sp(),a.g.Db.push(f),b=f.a,d=f,a.bc[f.u]=d,a.Db[b]=d,e&&$Sw(a))}
function $Saf(a){this.h=a;$SRd(this);this.version=0;this.i=$Sp();this.uid=this.tb=0;this.fc=this.h.random();this.Qe=this.Xd=this.He=this.le=this.Jb=this.fe=this.ad=this.mb=this.ma=this.sa=this.Lb=0;this.vb=[];this.Db=[];this.Wc=this.address="";this.o={};this.o.i=0;this.o.flags=0;this.o.pd=0;this.o.se=0;this.o.lc=0;this.o.na=0;this.o.Sb=0;this.o.Ld=0;this.o.result=0;this.o.action=0;this.o.Rb=0;this.o.Qa=0;this.o.ub=0;this.o.ee=0;this.o.Fc="";this.va={};this.va.uid=0;this.va.address="";this.Ka={};this.Ka.Cc=
"";this.Ka.D="";this.Ka.flags=0;this.profiles={};this.profiles.Oq=!1;this.zg={};this.zg.fi="mesibo messaging, group chat, calls and conferencing APIs, https://mesibo.com"}function $SRd(a){a.r={};a.r.host="";a.r.ports="";a.r.p=0;a.r.e=0;a.r.d=0;a.r.me=0;a.r.ch="";a.r.We=0;a.r.Bb=null;a.r.i=0;a.r.id=0}function $Sw(a){a.g.save()}$Saf.prototype.save=function(){this.i=$Sp();this.uid=this.h.uid;this.version=this.h.Xe;this.h.Ra&&!$SG(this.h.Ra)||$Srf(this)};
function $Ssf(a,b,d){b&&(b=new Uint8Array(b),a.decode(b,b.length));d()}function $Stf(a,b,d){var e=b.byteLength-48,f=b.slice(0,e),h=b.slice(e,e+16);window.crypto.subtle.importKey("raw",b.slice(e+16,e+48),{name:"AES-CBC",length:256},!0,["encrypt","decrypt"]).then(function(k){window.crypto.subtle.decrypt({name:"AES-CBC",iv:h},k,f).then(function(l){$Ssf(a,l,d)})})}
function $Srf(a){var b=a.encode();window.crypto.subtle.generateKey({name:"AES-CBC",length:256},!0,["encrypt","decrypt"]).then(function(d){crypto.subtle.exportKey("raw",d).then(function(e){var f=window.crypto.getRandomValues(new Uint8Array(16));window.crypto.subtle.encrypt({name:"AES-CBC",iv:f},d,b).then(function(h){h=new Uint8Array(h);e=new Uint8Array(e);var k=new Uint8Array(e.byteLength+f.length+h.byteLength);k.set(h);k.set(f,h.byteLength);k.set(e,h.byteLength+f.length);h={};h.data=k;$Sjb(a.h.db,
"context",h,null)})})})}$Saf.prototype.load=function(a){var b=this;$Skb(this.h.db,"context",function(d){d&&d.hasOwnProperty("data")?$Stf(b,d.data,a):d&&d.hasOwnProperty("udata")?$Ssf(b,d.udata,a):$Ssf(b,null,a)})};
$Saf.prototype.encode=function(){var a=new $Sx($Sy);$Sz(a,4,this.version,4);$Sz(a,3,$Sp(),4);$Sz(a,5,this.uid,4);$Sz(a,6,this.tb,4);$Sz(a,7,this.Lb,4);$Sz(a,8,this.fc,4);$Sz(a,34,this.sa,4);$Sz(a,35,this.ma,4);$Sz(a,41,this.mb,4);$Sz(a,36,this.ad,4);$Sz(a,33,this.Jb,4);$Sz(a,32,this.le,4);$Sz(a,103,this.fe,4);$Sz(a,100,this.He,4);$Sz(a,101,this.Xd,4);$Sz(a,38,this.Qe,4);var b=$SBa(this.vb);$SA(a,128,b);b=$SBa(this.Db);$SA(a,129,b);$Sz(a,102,this.$,4);$SA(a,99,this.address);$SA(a,9,this.Wc);$Sz(a,
18,this.o.i,4);$Sz(a,19,this.o.pd,4);$Sz(a,22,this.o.se,4);$Sz(a,21,this.o.lc,4);$Sz(a,16,this.o.na,4);$Sz(a,17,this.o.Sb,4);$Sz(a,98,this.o.Ld,4);$Sz(a,43,this.o.Rb,4);$Sz(a,66,this.o.ub,4);$SA(a,96,this.o.Fc);$Sz(a,25,this.o.result,4);$Sz(a,97,this.o.action,4);$Sz(a,20,this.o.Qa,4);$Sz(a,31,this.o.flags,4);$Sz(a,39,this.va.uid,4);this.va.uid&&$SA(a,40,this.va.address);$SA(a,12,this.Ka.Cc);$SA(a,15,this.Ka.D);$Sz(a,14,this.Ka.flags,4);$Sz(a,28,this.r.id,4);$Sz(a,30,this.r.i,4);$Sz(a,26,this.r.e,
4);$Sz(a,133,this.r.d,4);$Sz(a,137,this.r.r,4);$Sz(a,138,this.r.t,4);$Sz(a,139,this.r.p,4);$Sz(a,140,this.r.me,4);$Sz(a,141,this.r.We,4);$SA(a,135,this.r.host);$SA(a,134,this.r.ch);this.r.Bb?$SH(a,29,this.r.Bb,0,!1):$SH(a,29,[],0,!1);return $SI(a)};
$Saf.prototype.decode=function(a,b){var d=new $Sx($SC,-1);$Sab(d,a,b);a=$SD(d,1);if(!(null==a||0>=a.length))for(var e in a){b=a[e];d=b.Cb;var f=b.data;switch(parseInt(b.type,10)){case 4:this.version=d;break;case 3:this.i=d;break;case 5:this.uid=d;break;case 6:this.tb=d;break;case 7:this.Lb=d;break;case 8:this.fc=d;break;case 34:this.sa=d;break;case 35:this.ma=d;break;case 41:this.mb=d;break;case 36:this.ad=d;break;case 33:this.Jb=d;break;case 32:this.le=d;break;case 103:this.fe=d;break;case 100:this.He=
d;break;case 101:this.Xd=d;break;case 38:this.Qe=d;break;case 128:b=$SF(f,0,f.byteLength-1);this.vb=$SCa(b);b=this.h;for(d=this.vb;d&&d.length;){f=d.shift();if(!f)break;$SWe(b,f.c,f.f,!1,!1,null)}this.vb=[];break;case 129:b=$SF(f,0,f.byteLength-1);this.Db=$SCa(b);b=this.h;if((d=this.Db)&&d.length)for(f=0;f<d.length;f++){var h=d[f],k=b,l=h.a,n=h;k.bc[h.u]=n;k.Db[l]=n}break;case 102:this.$=d;break;case 99:this.address=$SF(f,0,f.byteLength-1);break;case 9:this.Wc=$SF(f,0,f.byteLength-1);break;case 18:this.o.i=
d;break;case 19:this.o.pd=d;break;case 22:this.o.se=d;break;case 21:this.o.lc=d;break;case 16:this.o.na=d;break;case 17:this.o.Sb=d;break;case 98:this.o.Ld=d;break;case 43:this.o.Rb=d;break;case 66:this.o.ub=d;break;case 96:this.o.Fc=$SF(f,0,f.byteLength-1);break;case 25:this.o.result=d;break;case 97:this.o.action=d;break;case 20:this.o.Qa=d;break;case 31:this.o.flags=d;break;case 39:this.va.uid=d;break;case 40:this.va.address=$SF(f,0,f.byteLength-1);break;case 12:this.Ka.Cc=$SF(f,0,f.byteLength-
1);break;case 15:this.Ka.D=$SF(f,0,f.byteLength-1);break;case 14:this.Ka.flags=d;break;case 28:this.r.id=d;break;case 30:this.r.i=d;break;case 26:this.r.e=d;break;case 133:this.r.d=d;break;case 137:this.r.r=d;break;case 138:this.r.t=d;break;case 139:this.r.p=d;break;case 140:this.r.me=d;break;case 141:this.r.We=d;break;case 135:this.r.host=$SF(f,0,f.byteLength-1);break;case 134:this.r.ch=$SF(f,0,f.byteLength-1);break;case 29:this.r.Bb=f}}};
function $Suf(a,b,d,e){switch(b){case 3:a.ka.uid=d;break;case 4:a.ka.ra=d;break;case 5:a.source=d;break;case 6:a.gh=d;break;case 10:a.status=$SF(e,0,e.byteLength)}}function $Svf(a,b,d,e){switch(b){case 5:a.C=d;break;case 3:a.uid=d;break;case 6:a.flags=d;break;case 10:a.source=d;break;case 11:a.Mh=d;break;case 12:a.wa=d;break;case 13:a.duration=d;break;case 4:a.address=$SF(e,0,e.byteLength);break;case 18:a.target.uid=d;break;case 19:a.target.ra=d}}
function $Swf(a,b,d,e){switch(b){case 3:a.type=d;break;case 5:a.sdp=$SF(e,0,e.byteLength);break;case 7:a.mid=$SF(e,0,e.byteLength);break;case 6:a.tq=d}}function $Sxf(a,b,d){switch(b){case 3:a.width=d;break;case 4:a.height=d;break;case 5:a.rate=d;break;case 6:a.flags=d;break;case 7:a.codecs=d;break;case 8:a.wa=d;break;case 13:a.Md=d;break;case 9:a.Hk=d;break;case 10:a.Ap=d;break;case 11:a.hk=d;break;case 12:a.w=d}}
function $Syf(a,b,d,e){switch(b){case 4:a.uid=d;break;case 7:a.v=d;break;case 6:a.ra=d;break;case 5:a.C=d;break;case 9:a.flags=d;break;case 21:a.ji=d;break;case 10:a.codecs=d;break;case 14:a.vd=d;break;case 15:a.Ke=d;break;case 11:a.Ia=d;break;case 12:a.tg=d;break;case 16:a.gh=d;break;case 17:a.role=d;break;case 13:a.name=$SF(e,0,e.byteLength);break;case 8:a.address=$SF(e,0,e.byteLength)}}
function $Szf(a,b,d,e){switch(b){case 5:a.id=$SE(e,0,e.byteLength);break;case 3:a.Y=d;break;case 6:a.status=d;break;case 11:a.og=d;break;case 19:a.error=d}}
function $SAf(a){var b=new $Sx($Sy);$Sz(b,1,1,2);$Sz(b,3,a.Y,2);$Sz(b,5,a.id,2);void 0!=a.i&&0<a.i&&$Sz(b,10,a.i,8);if(void 0!=a.p&&null!=a.p){var d=a.p;$Sz(b,20,1,1);$Sz(b,7,d.v,1);$Sz(b,11,d.Ia,1);$SJ(b,6,d.ra);$SJ(b,5,d.C);$SJ(b,10,d.codecs);$SJ(b,12,d.Vp);$SJ(b,9,d.flags);$SJ(b,16,d.gh);$SJ(b,19,d.module);$Sz(b,30,1,1)}void 0!=a.media&&null!=a.media&&(d=a.media,$Sz(b,21,1,1),$SJ(b,3,d.width),$SJ(b,4,d.height),$SJ(b,5,d.rate),$SJ(b,6,d.flags),$SJ(b,7,d.codecs),$SJ(b,8,d.wa),$SJ(b,13,d.Md),$SJ(b,
9,d.Hk),$SJ(b,10,d.Ap),$SJ(b,11,d.hk),$SJ(b,12,d.w),$SJ(b,18,5),d.di&&$SA(b,17,d.di),$Sz(b,20,1,1));if(void 0!=a.sdp&&null!=a.sdp){d=a.Eo;var e=a.sdp;$Sz(b,23,1,1);$SJ(b,3,d);$SA(b,5,e);$Sz(b,10,1,1)}void 0!=a.wb&&null!=a.wb&&(d=a.wb,$Sz(b,26,1,1),$SJ(b,4,d.ka.ra),$SJ(b,5,d.source),$SJ(b,6,d.gh),d.status&&$SA(b,10,d.status),$Sz(b,20,1,1));if(void 0!=a.oa&&null!=a.oa){a=a.oa;$Sz(b,25,1,1);$SJ(b,5,a.C);$SJ(b,6,a.flags);$SJ(b,10,a.source);$SJ(b,11,a.Mh);$SJ(b,12,a.wa);$SJ(b,13,a.duration);$SJ(b,19,a.target.ra);
$SJ(b,18,a.target.uid);if(a.Je)for($SJ(b,7,a.Je.length),d=0;d<a.Je.length;d++)$SJ(b,9,a.Je[d].Ud()),$SJ(b,8,a.Je[d].Da());a.address&&$SA(b,4,a.address);$Sz(b,20,1,1)}$Sz(b,2,1,1);return $SI(b)}function $SBf(a,b){for(var d=0;16>d;d++){var e=a[d]+d;b&1&&e++;a[d]=e&255;b>>=1}}function $SCf(a,b,d,e){for(var f=new Uint8Array(16),h=0;16>h;h++)f[h]=160;$SBf(f,d);a.tj=f;e?(b=b.Kk.random(16),a.key=new Uint8Array(b)):a.key&&16==a.key.length&&(a.key=new Uint8Array(a.key),$SBf(a.key,d))}
function $STe(a){var b=new $Sx($Sy);$Sz(b,1,1,1);$SJ(b,4,a.i);$SJ(b,17,a.sa);$SJ(b,5,a.uid);$SJ(b,7,a.C);$SJ(b,18,a.fc);$SJ(b,19,a.ma);$SJ(b,14,a.Ab);$SJ(b,43,a.mb);$SJ(b,13,a.hc);$SJ(b,48,a.visibility);$SJ(b,15,a.flags);$SJ(b,16,a.$);$SJ(b,42,a.dg);$SJ(b,128,a.error);$SH(b,8,a.name,0,!0);$SH(b,9,a.status,0,!0);$SH(b,10,a.info,0,!0);$SH(b,11,a.ud,0,!0);$SH(b,20,a.rd,0,!0);a.ha&&$SH(b,12,a.ha,0,!0);a.A&&($SJ(b,64,a.A.type),$SFa(a.A.flags)?$SGb(b,65,a.A.flags):$SJ(b,65,a.A.flags),$SJ(b,66,a.A.R),$SJ(b,
72,a.A.Df),$SJ(b,67,a.A.sb),$SFa(a.A.ob)?$SGb(b,68,a.A.ob):$SJ(b,68,a.A.ob),$SJ(b,69,a.A.we),$SJ(b,70,a.A.xe),$SJ(b,71,a.A.no),$SJ(b,73,a.A.Ia),$SJ(b,74,a.A.Ei));a.sub&&($SJ(b,58,a.sub.duration),$SJ(b,59,a.sub.type),$SJ(b,60,a.sub.T));$SH(b,6,a.address,0,!0);if(a.Ua&&a.Ua.length)for(var d=0;d<a.Ua.length;d++)$SH(b,6,a.Ua[d],0,!0);if(a.I&&a.I.length){var e=$Svc(),f=e.g.tb;e.g.o.flags&524288&&(f=0);f&&($SCf(a,e.crypto,e.g.tb,!0),$SH(b,90,a.key,0,!0),$SBf(a.key,f));for(d=0;d<a.I.length;d++)if(a.I[d]&&
a.I[d].length)if(f){var h=(new TextEncoder).encode(a.I[d]);h=(new e.crypto.mode.ki(a.key,a.tj)).encrypt(h);$SH(b,96+d,h,0,!0)}else $SH(b,96+d,a.I[d],0,!0)}$Sz(b,2,1,1);return $SI(b)}
function $SDf(a){if(a.I&&a.I.length)if(a.key){var b=$Svc();$SCf(a,b.crypto,b.g.tb,!1);for(e=0;e<a.I.length;e++)if(a.I[e]&&a.I[e].length){var d=(new b.crypto.mode.ki(a.key,a.tj)).decrypt(a.I[e]);a.I[e]=d?b.crypto.Kk.Jp.Ci(d):""}}else for(var e=0;e<a.I.length;e++)a.I[e]&&a.I[e].length&&(a.I[e]=$SF(a.I[e],0,a.I[e].length))}
function $S1(a,b,d){for(;!(2>=b);){var e=new $Sx($SC);$Sab(e,a,b);var f=$SD(e,1),h=e.N;if(null==f||0>=f.length){d(null,a,h);break}var k=null,l;for(l in f){var n=f[l],q=n.Cb,z=n.data,A=n.da;n=parseInt(n.type,10);if(1==n){if(k&&k.hasOwnProperty("ts")&&($SDf(k),!d(k,a,h)))return;k={address:"",C:0,sa:0,A:{}};k.A.flags=0;k.A.sb=0;k.Ua=[];k.$=0;k.hc=0;k.P={};k.ci=0;k.key=null;k.pi=0;k.I=[];for(q=0;15>q;q++)k.I.push("")}else{if(2==n){$SDf(k);if(!d(k,a,h))return;k=null;break}switch(n){case 4:k.i=q;break;
case 17:k.sa=q;break;case 5:k.uid=q;break;case 7:k.C=q;break;case 18:k.fc=q;break;case 19:k.ma=q;break;case 14:k.Ab=q;break;case 43:k.mb=q;break;case 13:k.hc=q;break;case 48:k.visibility=q;break;case 15:k.flags=q;break;case 16:k.$=q;break;case 42:k.dg=q;break;case 64:k.A.type=q;break;case 65:k.A.flags=q;break;case 66:k.A.R=q;break;case 72:k.A.Df=q;break;case 67:k.A.sb=q;break;case 68:k.A.ob=q;break;case 71:k.A.no=q;break;case 73:k.A.Ia=q;break;case 74:k.A.Ei=q;break;case 69:k.A.we=q;break;case 70:k.A.xe=
q;break;case 128:k.error=q;break;case 6:k.address=$SF(z,0,A);k.Ua.push(k.address);break;case 8:k.name=$Su(z);break;case 9:k.status=$Su(z);break;case 10:k.info=$Su(z);break;case 11:k.ud=$SF(z,0,A);break;case 20:k.rd=$SF(z,0,A);break;case 12:k.ha=new Uint8Array(z,0,A);break;case 259:k.eq=$SF(z,0,A);break;case 80:k.A.oa=$SF(z,0,A);break;case 90:k.key=new Uint8Array(z,0,A);break;case 58:k.sub.duration=q;break;case 59:k.sub.type=q;break;case 60:k.sub.T=q;break;case 23:k.ci=q;break;case 96:case 97:case 98:case 98:case 99:case 100:case 101:case 102:case 103:k.I[n-
96]=new Uint8Array(z,0,A),96<n&&(k.pi|=1<<n-96-1)}}}h=e.N;h<=b&&(b-=h,a=a.subarray(h));k&&($SDf(k),d(k,a,h))}}function $S7(a){this.qa=a}$S7.prototype.j=function(a){this.oc=a;var b=this.qa,d=$So()-b.up;if(1==a){for(a=0;a<b.Bf.length;a++)$SEf(b.Bf[a]);for(a in b.jb)$SEf(b.jb[a]);2E3<d?$SFf(b):setTimeout(function(){$SFf(b)},2E3-d)}};$S7.prototype.N=function(){};$S7.prototype.H=function(a){this.qa.Fa(a)};$S7.prototype.Mesibo_onMessage=$S7.prototype.H;$S7.prototype.Mesibo_onMessageStatus=$S7.prototype.N;
$S7.prototype.Mesibo_onConnectionStatus=$S7.prototype.j;
function $SGf(a,b,d,e){e&&(a.Nf=!0);var f={},h=d.getVideoTracks()[0];a=null;0<d.getAudioTracks().length&&(a=d.getAudioTracks()[0]);e&&(d=new MediaStream,h&&d.addTrack(h));if(h)try{var k=e=0,l=0,n=0,q=h.getSettings();q&&(e=$Si(q,"width",0),k=$Si(q,"height",0),l=$Si(q,"frameRate",0),q.hasOwnProperty("cursor")&&(n=1),f.width=e,f.height=k,f.rate=l,f.screen=n)}catch(z){}b.Fj=f;q=d;b.stream=q;q=q.getVideoTracks();null!==q&&void 0!==q&&0<q.length&&(b.bd=!0);b.fa?b.Jd(b.fa):b.ph&&b.Jd(b.ph);b.xc?(b.MesiboGroupcall_OnVideo(b),
a&&b.MesiboGroupcall_OnAudio(b)):b.Qj(b)}
function $S6(a,b){$Sta();this.up=$So();this.h=a;this.sg=null;this.xc=!0;this.nc={};this.Sl={};this.jb={};this.Bf=[];this.ck={};this.permissions=null;this.qb=b;this.lo=5;this.Nf=!1;this.listener={};this.MesiboGroupcall_OnSubscriber=this.MesiboGroupcall_OnPublisher=$S8e;var d=this;this.Yj={Ea:function(e,f){e=e.Gb();e.Ac||e.za(!0);console.error("on error");console.error(f)},Na:function(e,f){$S0(d.h,"Mesibo_onPermission",!0)(f)},Lf:function(e,f){e=e.Gb();(e.Ac=f)&&f.source&&(e.MesiboGroupcall_OnVideoSourceChanged(e,
f.source,0),f.source!=e.source&&e.qa.wb(e.Ud(),f.source,null),e.source=f.source);$S0(d.h,"Mesibo_onLocalMedia",!0)(f)},qo:function(e,f){$S0(d.h,"Mesibo_onConstraints",!0)(f)},nh:function(){},Kf:function(e,f){e=e.Gb();$SHf(e,f);e.ka&&"completed"!==f&&"connected"!==f?$SIf(e,50):"connected"===f&&$SIf(e,48)},ge:function(e,f,h){e=e.Gb();h?$SGf(d,e,f,!0):$SIf(e,65)},Mc:function(e,f,h){h&&$SGf(d,e.Gb(),f,!1)},mh:function(){},cq:function(){},nd:function(e,f){e=e.Gb();var h=2;"offer"==f.type&&(h=1);$SJf(e,
h,f.sdp)},kd:function(e,f){$SJf(e.Gb(),3,f?f.candidate:"eoc")},Cg:function(){},rq:this};this.h.Oc(new $S7(this),144);this.oc=a.m.status;$SKa(function(){$SKf(d)})}$S=$S6.prototype;$S.Tk=function(){this.sg||(this.sg=new $S8(this));return this.sg};$S.vk=function(a){if(void 0==a||null==a)this.qb=0;else{this.qb=a;var b=this;this.h.M(null,this.qb).getSettings({Mesibo_onGroupSettings:function(d,e,f){b.permissions=f}});1==this.oc&&$SFf(this)}};
$S.start=function(a){this.Bf=[];void 0==a&&(a={});this.listener=a;$Sn(a,"MesiboGroupcall_OnPublisher")&&(this.MesiboGroupcall_OnPublisher=a.MesiboGroupcall_OnPublisher);$Sn(a,"MesiboGroupcall_OnSubscriber")&&(this.MesiboGroupcall_OnSubscriber=a.MesiboGroupcall_OnSubscriber);this.vk(this.qb)};$S.zj=function(){this.qb=0;this.listener={};$SKf(this);this.h.ib=null};$S.Og=function(a){return this.permissions?a?this.permissions.adminFlags&2048?!0:0:this.permissions.adminFlags&1024?!0:0:!1};
function $SFf(a){if(0!=a.qb){var b=0;for(e in a.jb){var d=a.jb[e];d.D.vd>b&&(b=d.D.vd)}var e=new $Sx($Sy);$Sz(e,1,1,2);$Sz(e,3,10,2);0<b&&$Sz(e,10,b,8);$Sz(e,2,1,2);b=$SI(e);e=new $SP;e.mid=a.h.random();e.s=a.qb;e.channel=144;e.type=21;e.R=60;e.l=1028;e.data=b;a.h.xa(e)}}
$S.xa=function(a,b,d){d&&void 0!=d&&null!=d&&0!=d||this.h.random();if(void 0==a||null==a)a={D:{}},a.id=this.h.Da(),a.D.C=this.qb,a.L=0;d=new $SP;d.mid=this.h.random();d.s=a.D.C;d.channel=144;d.L=a.L;d.type=21;d.R=5;d.l=1028;d.data=b;this.h.xa(d)};$S.wb=function(a,b,d){var e={Y:11,id:0,wb:{}};e.wb.ka={};e.wb.ka.ra=a;e.wb.source=b;e.wb.status=d;a=$SAf(e);this.xa(null,a,0)};
$S.oa=function(a,b,d,e,f,h,k,l,n){if(120==a){if(!this.Og(!0))return}else if(!this.Og(!1))return;var q=0;b||(q|=2);k&&(q|=16);l&&(q|=32);n&&(q|=1);if(b&&!Array.isArray(b)){var z=[];z.push(b);b=z}if(101==a&&b)for(z=0;z<b.length;z++){var A=b[z],D=l,K=n;k&&(A.Fh=K);D&&(A.Gh=K)}k={};k.Y=a;k.id=0;k.oa={};k.oa.target={};k.oa.flags=q;k.oa.source=f;k.oa.Mh=h;k.oa.target.uid=d;k.oa.target.ra=e;k.oa.Je=b;a=$SAf(k);this.xa(null,a,0)};function $SKf(a){for(var b in a.nc)a.nc[b].za()}
$S.Fm=function(a,b,d,e){var f={};f.C=this.qb;f.uid=this.h.Da();f.name=b;f.address=d;f.Ia=0;f.ra=a;void 0!=e&&(f.Ia=e);return new $S9(this,f,!0,!0,!0,1,this.xc)};$S.Om=function(a){var b={};b.C=this.qb;b.uid=this.h.Da();b.name="";b.address="";b.Ia=0;b.ra=a;a=new $S9(this,b,!0,!0,!0,1,!0);this.Bf.push(a);return this.jb[4294967296*b.ra+b.uid]=a};function $SLf(a,b,d){b=4294967296*d+b;return a.jb.hasOwnProperty(b)?a.jb[b]:null}
$S.Fa=function(a,b){if(!(0<a.s&&a.s!=this.qb))if(100<b.Y){a=b.Y;b=b.oa;var d=b.flags&32768?1:0,e=b.flags&16?1:0,f=b.flags&32?1:0,h=b.flags&1?1:0,k=this.h.M(b.address);0==b.target.uid&&(b.target.uid=this.h.Da());var l=$SLf(this,b.target.uid,b.target.ra);if(l){var n=d?!1:!0;101==a?(a="MesiboGroupcallAdmin_OnMute",$Sn(this.listener,a)&&(n=this.listener[a](k,d,l,e,f,h)),n||l.qg(e,f,h)):102==a?h?l?l.qg(e,f,h):(a="MesiboGroupcallAdmin_OnStartPublishing",$Sn(this.listener,a)&&this.listener[a](k,d,b.target.ra,
e,f,b.source,b.Mh)):l&&(a="MesiboGroupcallAdmin_OnStopPublishing",$Sn(this.listener,a)&&(n=this.listener[a](k,d,l)),n||l.za()):120==a?(a="MesiboGroupcallAdmin_OnLeave",$Sn(this.listener,a)&&(n=this.listener[a](k,d)),n||this.pq()):(l=null,b.target.uid&&(l=$SLf(this,b.target.uid,b.target.ra)),l&&(103==a?h&&!l.Vi()&&(a="MesiboGroupcallAdmin_OnSubscribe",$Sn(this.listener,a)&&this.listener[a](k,d,l,e,f)):104==a&&(a="MesiboGroupcallAdmin_OnMakeFullScreen",$Sn(this.listener,a)&&this.listener[a](k,d,l))))}}else if(11==
b.Y){if(a=b.wb,0==a.ka.uid&&(a.ka.uid=this.h.Da()),b=$SLf(this,a.ka.uid,a.ka.ra))a=a.source,a!=b.source&&(b.source=a,b.MesiboGroupcall_OnVideoSourceChanged(b,a,0))}else{if(0<b.he.length){d=b.he;e=0;f=[];for(h in d)if(k=d[h],n=k.uid,l=4294967296*k.ra+k.uid,0<k.v)this.MesiboGroupcall_OnSubscriber(k,k.active);else if(n==this.h.Wd())delete d[h];else if(k.ka)if(n=null,this.jb.hasOwnProperty(l)&&(n=this.jb[l]),k.active){if(n){if(n.update(k))continue;this.MesiboGroupcall_OnPublisher(n,!1);delete this.jb[l]}n=
new $S9(this,k,!1,!0,!0,1,this.xc);this.jb[l]=n;f.push(n);e++;this.MesiboGroupcall_OnPublisher(n,!0)}else n&&n.D.vd==k.vd&&(n.za(!0),this.MesiboGroupcall_OnPublisher(n,!1),delete this.jb[l]);0<f.length&&$S0(this.h,"Mesibo_onParticipants",!0)(this.jb,f);if(0==b.id||void 0==b.L||0==b.L)return}if(!(0<a.s)&&(a=a.L,this.h.Da(),d=$Si(this.nc,a,null)))if(9==b.Y)b={Y:9},b.id=d.Vd(),a=$SAf(b),this.xa(d,a);else if(d.L!=b.id&&(d.xk(b.id),this.nc[b.id]=d,delete this.nc[a]),2==b.Y)a=this.ck,e=this.Yj,d.yd=b.media,
d.wa=d.yd.wa,d.W=$SMf(d,d.W,4),d.ba=$SMf(d,d.ba,2),d.w=new $SAa(a,e),d.media={video:{source:d.source,wa:d.yd.wa,send:d.W,Ca:!1},audio:{send:d.ba,Ca:!1}},d.media.ye=$SMf(d,d.ye,512),d.w.createOffer(d.media,d);else if(3==b.Y)if(a={},a.sdp=b.ed.sdp,1==b.ed.type){a.type="offer";b=b.media;if(void 0==d.w||null==d.w)d.w=new $SAa(this.ck,this.Yj);b&&(d.pe=b.width,d.oe=b.height);d.media={video:{Ca:d.W,send:!1},audio:{Ca:d.ba,send:!1}};d.w.createAnswer(d.media,a,d)}else if(2==b.ed.type)a.type="answer",d.w&&
d.w.ep(a),b.media&&$SNf(d,b.media);else{if(3==b.ed.type){a=null;if(20<b.ed.sdp.length)try{a=JSON.parse(b.ed.sdp)}catch(q){return}d.w.kd(a)}}else 4==b.Y&&$SNf(d,b.media),19==b.Y&&$S0(this.h,"Mesibo_onError",!0)(b.error)}};
function $Sbd(a,b){var d=b.data,e=b.ya,f=new $Sx($SC);$Sab(f,d,e);d=$SD(f,1);e={he:[],Y:0,og:0,media:{}};e.media.flags=0;if(null==d||0>=d.length)var h=void 0;else{var k=$Szf;f=e;var l=0;for(h in d){var n=d[h],q=n.Cb,z=n.data,A=n.da;n=parseInt(n.type,10);if(l||20!=n)if(20==l&&30==n)f.active=!1,f.role&1&&(f.active=!0),f.ka=!1,f.Dc=!1,f.role&256&&(f.ka=!0,f.role&4096&&(f.Dc=!0)),f.audio=!1,f.video=!1,f.flags&2&&(f.audio=!0),f.flags&4&&(f.video=!0),void 0==f.ra&&(f.ra=0),void 0==f.name&&(f.name=""),void 0==
f.ji&&(f.ji=f.flags),e.he.push(f),k=$Szf,f=e,l=0;else if(l||21!=n)if(21==l&&20==n)void 0==f.wa&&(f.wa=0),k=$Szf,e.media=f,f=e,l=0;else if(l||23!=n)if(23==l&&10==n)k=$Szf,e.ed=f,f=e,l=0;else if(l||26!=n)if(26==l&&20==n)k=$Szf,e.wb=f,f=e,l=0;else if(l||25!=n)if(25==l&&20==n)k=$Szf,e.oa=f,f=e,l=0;else{if(2==n)break;k(f,n,q,z,A)}else l=n,k=$Svf,f={target:{}},f.target.uid=0,f.target.ra=0;else l=n,k=$Suf,f={ka:{}},f.ka.uid=0,f.ka.ra=0;else l=n,k=$Swf,f={};else l=n,k=$Sxf,f={};else l=n,k=$Syf,f={}}e.uo=
e.he.length;h=e}10==h.Y&&b.s?(d=a.M(null,b.s))?(e=d.call.count,d.call.count=h.og,d.call.type=h.media.flags&2?1:0,d.call.type|=h.media.flags&4?2:0,a.ib&&b.s==a.ib.qb?a.ib&&a.ib.Fa(b,h):(b=h.og,!e&&!b||e&&b||(e=null,b&&h.uo&&(e=a.M(h.he[0].address,0)),$Sn(a.notify,"MesiboGroupcall_OnIncoming")&&a.notify.MesiboGroupcall_OnIncoming(d,e,0<b)))):a.ib&&a.ib.Fa(b,h):a.ib&&a.ib.Fa(b,h)}$S6.prototype.setRoom=$S6.prototype.vk;$S6.prototype.join=$S6.prototype.start;$S6.prototype.leaveRoom=$S6.prototype.zj;
$S6.prototype.leave=$S6.prototype.zj;$S6.prototype.hasAdminPermissions=$S6.prototype.Og;$S6.prototype.getAdmin=$S6.prototype.Tk;$S6.prototype.getLocalParticipant=$S6.prototype.Fm;$S6.prototype.createPublisher=$S6.prototype.Om;function $S8(a){this.qa=a}$S=$S8.prototype;$S.Ga=function(a,b,d,e){this.qa.oa(101,a,0,0,0,0,b,d,e)};$S.oo=function(a,b,d){this.Ga(null,a,b,d)};$S.za=function(a){this.qa.oa(120,a,0,0,0,0,!1,!1,!1)};$S.fn=function(){this.za(null)};
$S.mm=function(a){this.qa.oa(104,null,a.Da(),a.Ud(),0,0,!1,!1,!1)};function $S$(a,b){this.qa=a;this.p=b}$S=$S$.prototype;$S.Ga=function(a,b,d){this.qa.oa(101,this.p,0,0,0,0,a,b,d)};$S.hl=function(){var a=$SOf(this.p,!1);this.Ga(!0,!1,!a);return a=$SOf(this.p,!1)};$S.il=function(){var a=$SOf(this.p,!0);this.Ga(!1,!0,!a);return a=$SOf(this.p,!0)};$S.za=function(){this.qa.oa(102,this.p,0,0,0,0,!1,!1,!1)};$S.rh=function(a,b,d,e,f,h){this.qa.oa(102,this.p,0,a,b,d,e,f,h)};
$S.subscribe=function(a,b,d){this.qa.oa(103,this.p,a.Da(),a.Ud(),0,0,b,d,!0)};window.MesiboGroupCallAdmin=$S8;$S8.prototype.mute=$S8.prototype.Ga;$S8.prototype.muteAll=$S8.prototype.oo;$S8.prototype.hangup=$S8.prototype.za;$S8.prototype.hangupAll=$S8.prototype.fn;$S8.prototype.fullscreen=$S8.prototype.mm;window.MesiboParticipantAdmin=$S$;$S$.prototype.mute=$S$.prototype.Ga;$S$.prototype.toggleAudioMute=$S$.prototype.hl;$S$.prototype.toggleVideoMute=$S$.prototype.il;$S$.prototype.hangup=$S$.prototype.za;
$S$.prototype.publish=$S$.prototype.rh;$S$.prototype.subscribe=$S$.prototype.subscribe;function $S9(a,b,d,e,f,h,k){this.qa=a;this.D=b;this.ka=d;this.Mf=this.Qj=null;this.MesiboGroupcall_OnAudio=this.MesiboGroupcall_OnVideo=this.MesiboGroupcall_OnVideoSourceChanged=this.MesiboGroupcall_OnConnected=this.MesiboGroupcall_OnHangup=this.MesiboGroupcall_OnTalking=this.MesiboGroupcall_OnMute=$S8e;this.ba=e;this.W=f;this.df=null;this.source=h;this.wa=3;this.stream=null;this.xc=k;this.i=0;this.cd()}$S=$S9.prototype;
$S.cd=function(){this.ea=this.ph=this.fa=null;this.ye=!0;this.Yd=this.bd=!1;this.codecs=this.media=this.w=null;this.completed=this.connected=!1;this.Fj=null;this.width=0;this.fa=null;this.media={video:{source:this.source,send:this.W,Ca:!1,replace:!0},audio:{send:this.ba,Ca:!1,ca:!0}};this.Ac=null;this.Ag=this.mc=!1;this.Ve=null;this.mb=this.tg=this.Ah=0;this.yd=null;this.xj=0;this.Dc=this.Gh=this.Fh=this.rg=this.pg=this.Me=this.Kd=!1;this.oe=this.pe=this.Dk=0;this.oa=null};
$S.kl=function(){if(this.Xg())return null;this.oa||(this.oa=new $S$(this.qa,this));return this.oa};$S.update=function(a){if(a.vd>this.D.vd)return this.za(),!1;this.D=a;a=!this.D.audio;var b=!this.D.video;if(a!=this.Kd||b!=this.Me)this.MesiboGroupcall_OnMute(this,a,b,!0),this.Kd=a,this.Me=b;this.Dc!=this.D.Dc&&(this.MesiboGroupcall_OnTalking(this,this.D.Dc),this.Dc=this.D.Dc,this.Dk=$So());this.Kd||(this.Fh=!1);this.Me||(this.Gh=!1);return!0};$S.Wb=function(){return this.D.uid};$S.Da=function(){return this.D.uid};
$S.rm=function(){return this.L};$S.Ha=function(){return this.D.address};$S.Ic=function(){return this.D.name};$S.ml=function(a){this.D.name=a};$S.$c=function(){void 0==this.D.ra&&(this.D.ra=0);return this.D.ra};$S.Ud=function(){return this.$c()};$S.bd=function(){return this.bd};$S.Yd=function(){return this.Yd};$S.Xg=function(){return this.ka};$S.In=function(){return this.ka};$S.Un=function(){return this.D.Dc};$S.Ym=function(){return this.Dk};$S.xk=function(a){this.L=a};$S.Vd=function(){return this.L};
function $SPf(a,b){if(!a.qa.Nf)try{var d=b.play();void 0===d||d.nq||d.then(function(){a.qa.Nf=!0},function(){a.qa.Nf=!1;$SIf(this,59)}).catch(function(){})}catch(e){}}
$S.Jd=function(a,b,d,e){if(void 0==a||null==a)return!1;if(void 0==b||null==b)b=function(){};if("object"!==typeof a){var f=a;a=document.getElementById(a);if(!a){if(void 0===d||null===d)d=100;if(void 0===e||null===e||100<e)e=50;if(this.stream&&0<d&&0<e){var h=this;setTimeout(function(){h.Jd(f,b,d,e-1)},d);return!0}b(!1);return!1}}if(this.stream){if(this.fa!=a||this.fa.srcObject!=this.stream){var k=this.fa;this.fa=a;a.addEventListener("playing",function(){},!0);$Swa(this.fa,this.stream);if(k&&k!=a&&
k.srcObject==this.stream)try{k.srcObject=null}catch(l){k.src=null}$SPf(this,this.fa)}b(!0);$SQf(this)}else this.fa=a,b(!1)};$S.ao=function(){return 0<this.pe&&0<this.oe?this.pe>this.oe:this.fa?this.fa.clientWidth>this.fa.clientHeight:!1};$S.pm=function(){return 0<this.pe&&0<this.oe?this.pe/this.oe:this.fa&&this.fa.clientWidth&&this.fa.clientHeight?this.fa.clientWidth/this.fa.clientHeight:1};$S.jl=function(){$SQf(this)};function $SRf(a){return a.fa?a.fa.clientWidth:0}
function $SSf(a,b,d){var e=a.qa,f={},h=0,k=0,l=0,n;for(n in e.nc){var q=e.nc[n];q.Xg()?l++:(h+=$SRf(q),k++)}f.Hk=h;f.hk=k;f.w=l;f.width=$SRf(a);f.height=a.fa?a.fa.clientHeight:0;f.flags=a.media.video&&4==a.media.video.source?f.flags|256:f.flags&-257;f.Nq=d;b.media=f}function $STf(a,b,d){$Sn(b,d)&&(a[d]=b[d])}
$S.Oc=function(a){void 0!=a&&($STf(this,a,"MesiboGroupcall_OnMute"),$STf(this,a,"MesiboGroupcall_OnTalking"),$STf(this,a,"MesiboGroupcall_OnHangup"),$STf(this,a,"MesiboGroupcall_OnConnected"),$STf(this,a,"MesiboGroupcall_OnVideoSourceChanged"),$STf(this,a,"MesiboGroupcall_OnVideo"),$STf(this,a,"MesiboGroupcall_OnAudio"))};
$S.call=function(a,b,d,e){if(this.xc){void 0==d&&(d={});if(!a&&!b)return!1;this.ba=a;this.W=b;if(this.mc){if(this.Ac)return!1;this.za(1)}this.Oc(d)}else{void 0==a&&(a={});if(this.mc&&!this.Ac)this.za(1);else if(this.mc){if(this.ka){if(this.df)return this.qk(this.df);this.source=$Si(a,"source",this.source);return this.Ue(this.source)}return!1}this.ph=b;"object"!==typeof b?this.fa=document.getElementById(b):this.fa=b;this.i=0;this.xc||(this.Qj=d,this.Mf=e,this.ba=$Si(a,"audio",this.ba),this.W=$Si(a,
"video",this.W),this.source=$Si(a,"source",this.source),this.wa=$Si(a,"resolution",this.wa),this.D.Ia=$Si(a,"pin",this.D.Ia),this.tg=$Si(a,"adminpin",this.tg))}$SUf(this)};
function $SUf(a){if(1!=a.qa.h.Gg())a.Ag=!0;else if(a.Ag=!1,a.za(),!(a.Ah>a.qa.lo)){a.Ah++;a.L=a.qa.h.random()+4294967296;var b={Y:1},d={};d.v=a.D.uid;d.ra=a.D.ra;d.Ia=a.D.Ia;d.flags=1;a.ba&&(d.flags|=2);a.W&&(d.flags|=4);b.p=d;a.ka?(b.media={},b.media.di=navigator.userAgent):$SSf(a,b,0);b=$SAf(b);a.mc=!0;a.Ac=null;d=a.qa;d.nc[a.L]=a;d.Sl[4294967295*a.D.ra+a.D.uid]=a;d.xa(a,b,void 0)}}function $SEf(a){a.Ag&&$SUf(a)}
function $SJf(a,b,d){var e={Y:3};e.id=a.Vd();if(a.ka){var f={flags:1};a.W&&(f.flags|=4);a.ba&&(f.flags|=2);e.p=f}3!=b&&(e.media=a.Fj,e.media&&(e.media.flags=a.media.video&&4==a.media.video.source?e.media.flags|256:e.media.flags&-257));e.sdp=d;e.Eo=b;b=$SAf(e);a.qa.xa(a,b)}function $SMf(a,b,d){return b&&a.yd.flags&d?!0:!1}$S.dn=function(){return this.Ac&&this.Ac.source?this.Ac.source:!1};
$S.Ue=function(a){if(!a||!this.ka)return!1;if(!this.mc||!this.yd)return this.source=a,this.df=null,!0;this.W=$SMf(this,!0,4);if(!this.W)return!1;var b=this.media.video.source;this.media={video:{source:a,wa:this.wa,send:this.W,Ca:!1,replace:!0},audio:{send:this.ba,Ca:!1,ca:!0}};this.ba||(this.media.audio.remove=!0);this.w.createOffer(this.media,this);return b};
$S.qk=function(a){if(!a||!this.ka)return!1;if(!this.mc||!this.yd)return this.df=a,this.source=0,!0;this.W=$SMf(this,!0,4);if(!this.W)return!1;var b=this.media.video.source;this.media={stream:a,video:{source:0,send:this.W,Ca:!1,replace:!0},audio:{send:this.ba,Ca:!1,ca:!0}};this.ba||(this.media.audio.remove=!0);this.w.createOffer(this.media,this);return b};$S.wp=function(){return this.Ue(4==this.media.video.source?1:4)};$S.vp=function(){$Sqf("switchCamera");return!1};
$S.Fn=function(){$Sqf("isFrontCamera");return!1};function $SHf(a,b){"connected"!=b&&"completed"!=b?a.Ve||(a.Ve=setTimeout(function(){$SUf(a)},1E4)):"connected"==b&&(clearTimeout(a.Ve),a.Ve=null,a.Ah=0)}function $SIf(a,b){if(!a.xc)a.Mf(a,b);else if(48==b||50==b)a.connected=48==b,a.MesiboGroupcall_OnConnected(a,a.connected);else if(65==b||64==b)a.completed=!0,a.MesiboGroupcall_OnHangup(a,0)}
function $SVf(a,b,d){var e={Y:4};e.id=a.Vd();d&&(d={flags:1},a.W&&(d.flags|=4),a.ba&&(d.flags|=2),e.p=d);b&&$SSf(a,e,1);b=$SAf(e);a.qa.xa(a,b)}function $SQf(a){a.ka||(0==$SRf(a)?setTimeout(function(){$SQf(a)},100):a.xj!=$SRf(a)&&(a.xj=$SRf(a),$SVf(a,!0,!1)))}
function $SNf(a,b){if(b.Md||b.width){var d=a.w.Tm();if(d){var e=d.track.getSettings().width,f=d.getParameters();f.encodings||(f.encodings=[{}]);b.Md&&0<b.Md&&(f.encodings[0].maxBitrate=b.Md);f.encodings[0].scaleResolutionDownBy=a.media.video&&b.width&&4!=a.media.video.source?Math.max(e/b.width,1):1;a.media.video&&4==a.media.video.source&&(f.encodings[0].scaleResolutionDownBy=1,f.encodings[0].maxBitrate=4096E3);try{d.setParameters(f)}catch(h){}}}}
$S.za=function(a){if(!this.mc)return!1;this.w&&(this.w.za(),this.w=null);this.mc=!1;this.fa&&(this.fa.srcObject=null);if(void 0==a||!a){var b={Y:5};b.id=this.Vd();b=$SAf(b);this.qa.xa(this,b,0)}a&&(this.xc?this.MesiboGroupcall_OnHangup(this,0):this.Mf&&this.Mf(this,64));this.cd()};
function $SWf(a,b,d,e){e||(b&&(a.pg||a.Kd)&&(b=!1),d&&(a.rg||a.Me)&&(d=!1));var f=!0;d&&a.W==e&&(a.W=!e,f=!1);b&&a.ba==e&&(a.ba=!e,f=!1);f||(a.ka?(a.W=$SMf(a,a.W,4),a.ba=$SMf(a,a.ba,2),d&&a.w.Ga(d,!a.W),b&&a.w.Ga(!1,!a.ba),1!=a.media.video.source?$SVf(a,!1,!0):(a.media.video?a.media={video:{source:a.media.video.source,wa:a.wa,send:a.W,Ca:!1},audio:{send:a.ba,Ca:!1}}:a.media={video:!1,audio:{send:a.ba,Ca:!1}},d?a.media.video&&!a.W&&(a.media.video.remove=!0):a.ba||(a.media.audio.remove=!0),a.w.createOffer(a.media,
a))):$SVf(a,!1,!0))}$S.Ga=function(a,b,d){a&&(this.Kd=d);b&&(this.Me=d);$SWf(this,a,b,d)};$S.qg=function(a,b,d){a&&(this.pg=d);b&&(this.rg=d);$SWf(this,a,b,d);this.MesiboGroupcall_OnMute(this,this.pg,this.rg,!0)};function $SOf(a,b){return b?a.Gh:a.Fh}$S.Lj=function(a){return this.ka?a?!this.W:!this.ba:a?!(this.D.video&&this.W):!(this.D.audio&&this.ba)};$S.Ph=function(a){if(a)return this.Ga(!1,!0,this.W),!this.W;this.Ga(!0,!1,this.ba);return!this.ba};$S.nl=function(){return this.Ph(!1)};$S.ol=function(){return this.Ph(!0)};
$S.tk=function(a){this.ea=a};$S.Gb=function(){return this.ea};$S.Gi=function(){return this.fa};$S.Vi=function(){return null==this.w||this.completed?!1:!0};$S.sn=function(){return this.connected};$S.ll=function(){return $SMf(this,!0,4)};window.MesiboParticipant=$S9;$S9.prototype.getId=$S9.prototype.Wb;$S9.prototype.getUid=$S9.prototype.Da;$S9.prototype.getCallId=$S9.prototype.rm;$S9.prototype.getAddress=$S9.prototype.Ha;$S9.prototype.getName=$S9.prototype.Ic;$S9.prototype.getAdmin=$S9.prototype.kl;
$S9.prototype.setName=$S9.prototype.ml;$S9.prototype.hasVideo=$S9.prototype.bd;$S9.prototype.hasAudio=$S9.prototype.Yd;$S9.prototype.isLocal=$S9.prototype.Xg;$S9.prototype.isTalking=$S9.prototype.Un;$S9.prototype.getTalkTimstamp=$S9.prototype.Ym;$S9.prototype.attach=$S9.prototype.Jd;$S9.prototype.setVideoView=$S9.prototype.Jd;$S9.prototype.fullScreen=$S9.prototype.jl;$S9.prototype.setListener=$S9.prototype.Oc;$S9.prototype.call=$S9.prototype.call;$S9.prototype.mute=$S9.prototype.Ga;
$S9.prototype.adminMute=$S9.prototype.qg;$S9.prototype.toggleMute=$S9.prototype.Ph;$S9.prototype.toggleAudioMute=$S9.prototype.nl;$S9.prototype.toggleVideoMute=$S9.prototype.ol;$S9.prototype.muteStatus=$S9.prototype.Lj;$S9.prototype.getMuteStatus=$S9.prototype.Lj;$S9.prototype.changeSource=$S9.prototype.Ue;$S9.prototype.setVideoSource=$S9.prototype.Ue;$S9.prototype.getVideoSource=$S9.prototype.dn;$S9.prototype.setStream=$S9.prototype.qk;$S9.prototype.getAspectRatio=$S9.prototype.pm;
$S9.prototype.isVideoLandscape=$S9.prototype.ao;$S9.prototype.isVideoCall=$S9.prototype.ll;$S9.prototype.switchSource=$S9.prototype.wp;$S9.prototype.switchCamera=$S9.prototype.vp;$S9.prototype.isFrontCamera=$S9.prototype.Fn;$S9.prototype.hangup=$S9.prototype.za;$S9.prototype.isCallConnected=$S9.prototype.sn;$S9.prototype.isCallInProgress=$S9.prototype.Vi;$S9.prototype.setOpaque=$S9.prototype.tk;$S9.prototype.getOpaque=$S9.prototype.Gb;$S9.prototype.setUserData=$S9.prototype.tk;
$S9.prototype.getUserData=$S9.prototype.Gb;$S9.prototype.getPlayer=$S9.prototype.Gi;$S9.prototype.getVideoView=$S9.prototype.Gi;$S9.prototype.getType=$S9.prototype.$c;$S9.prototype.getSid=$S9.prototype.Ud;$S9.prototype.isMe=$S9.prototype.In;$S9.prototype.init=$S9.prototype.cd;function $SXf(){this.height=this.width=this.y=this.x=0}function $Sid(){this.en=this.ko=this.jh=this.height=this.width=this.ei=0;this.quality=70;this.Yl=new $SXf}function $SYf(){this.Hb=new $SXf;this.pb=new $SXf}
function $SZf(a,b,d){var e=d.Yl,f=d.ei,h=d.width,k=d.height,l=d.jh,n=d.ko;d=d.en;a-=e.x;b-=e.y;e.width&&e.width<a&&(a=e.width);e.height&&e.height<b&&(b=e.height);h||k||l&&(a>b?h=l:k=l);h>a&&(h=a);k>b&&(k=b);l=h;var q=k;h||k?h&&!k?q=b*h/a:k&&!h&&(l=a*k/b):(l=a,q=b);1<=f&&(q>l?q/l>f&&(l=q/f,l>a&&(l=a)):l/q>f&&(q=l/f,q>b&&(q=b)));n&&(f=q*l,n<f&&(n=Math.sqrt(n/f),l*=n,q*=n));h=a/b;n=h<=l/q?1:0;if(n){f=l;var z=Math.round(1/h*l)}else f=Math.round(q*h),z=q;h=z/b;var A=k=0;0==d?(k=Math.round((f-l)/2),A=Math.round((z-
q)/2)):1==d?n?A=k=0:(k=0,A=Math.round((z-q)/2)):2==d&&(n?(k=Math.round((f-l)/2),A=Math.round(z-q)):(k=Math.round(f-l),A=Math.round((z-q)/2)));d=new $SYf;d.Hb.x=parseInt(e.x+k/h);d.Hb.y=parseInt(e.y+A/h);d.Hb.width=parseInt(a-2*d.Hb.x);d.Hb.height=parseInt(b-2*d.Hb.y);d.pb.x=0;d.pb.y=0;d.pb.width=parseInt(l);d.pb.height=parseInt(q);return d}
function $S_f(a,b,d){var e=a.naturalWidth,f=a.naturalHeight;if(0==e||0==f)d(null);else{var h=$SZf(e,f,b),k=!1;if(h.pb.width<e||h.pb.height<f)k=!0;e=document.createElement("canvas");f=null;e.id="hiddenCanvas";e.width=h.pb.width;e.height=h.pb.height;e.style.visibility="hidden";document.body.appendChild(e);f=e.getContext("2d");f.clearRect(0,0,h.pb.width,h.pb.height);f.drawImage(a,h.Hb.x,h.Hb.y,h.Hb.width,h.Hb.height,0,0,h.pb.width,h.pb.height);try{e.toBlob(function(l){var n,q,z=new FileReader;z.onload=
function(){n=this.result;q=new Uint8Array(n);d(l,q,k)};z.readAsArrayBuffer(l)},"image/jpeg",b.quality/100)}catch(l){d(null)}}}
function $S0f(a,b,d,e){var f=new FileReader;if(a.type.match("image.*")){f.readAsDataURL(a);var h=new Image;f.onload=function(){h.src=this.result};f.onabort=function(){e(null)};f.onerror=function(){e(null)};h.onload=function(){var k=null,l=!1;$S_f(h,b,function(n,q,z){n?(k=n,l=z,$S_f(h,d,function(A,D){e(k,D,l)})):e(null)})};h.onabort=function(){e(null)};h.onerror=function(){e(null)}}}
function $SAc(){this.id=null;this.Bd=this.type=0;this.mimeType=this.name=this.path=this.url=null;this.flags=this.Qh=this.source=this.progress=this.size=0}function $Skd(a,b,d){if(!a.Zh||!a.Zh(b,d)){var e=new $Sh,f={op:"upload"};f.auth=$Sff(a);f.sender=$Sse(a);f.uid=$SQ(a);f.mid=0;f.profile=0;e.wk(a.Ed);e.uk(f,!1);e.upload(null,b,null,function(h,k){console.log(k);null==k?d(null):(h=JSON.parse(k),h.result?d(h.url):d(null))})}}
function $Sjd(a,b,d,e,f){b=$Ssa(b);if(null==b)f(null);else{var h=b;$S0f(b,d,e,function(k,l,n){var q=b.size;n&&(h=new File([k],b.name),q=h.size);$Skd(a,h,function(z){f(z,l,q)})})}}window.MesiboFile=$SAc;Navigator.prototype.mozGetUserMedia=function(){};
const MESIBO_FLAG_DELIVERYRECEIPT   = 0x1;
const MESIBO_FLAG_READRECEIPT   = 0x2;
const MESIBO_FLAG_TRANSIENT = 0x4;
const MESIBO_FLAG_FILETRANSFERRED = 0x10000;
const MESIBO_FLAG_FILEFAILED = 0x20000;
const MESIBO_FLAG_QUEUE = 0x40000;
const MESIBO_FLAG_NONBLOCKING = 0x80000;
//   protected final static int FLAG_DONTSEND = 0x200000;
const MESIBO_FLAG_EOR = 0x800000;


const MESIBO_FLAG_DEFAULT   = (MESIBO_FLAG_DELIVERYRECEIPT | MESIBO_FLAG_READRECEIPT);

const MESIBO_STATUS_UNKNOWN  = 0;
const MESIBO_STATUS_ONLINE  = 1;
const MESIBO_STATUS_OFFLINE = 2;
const MESIBO_STATUS_SIGNOUT = 3;
const MESIBO_STATUS_AUTHFAIL = 4;
const MESIBO_STATUS_STOPPED = 5;
const MESIBO_STATUS_CONNECTING = 6;
const MESIBO_STATUS_CONNECTFAILURE = 7;
const MESIBO_STATUS_NONETWORK = 8;
const MESIBO_STATUS_SUSPENDED = 10;
const MESIBO_STATUS_SHUTDOWN = 22;
const MESIBO_STATUS_ACTIVITY = -1;

const MESIBO_MSGSTATUS_OUTBOX = 0;
const MESIBO_MSGSTATUS_SENT = 1;
const MESIBO_MSGSTATUS_DELIVERED = 2;
const MESIBO_MSGSTATUS_READ = 3;
const MESIBO_MSGSTATUS_RECEIVEDNEW =    0x12;
const MESIBO_MSGSTATUS_RECEIVEDREAD = 0x13;
const MESIBO_MSGSTATUS_CALLMISSED = 0x15
const MESIBO_MSGSTATUS_CALLINCOMING = 0x16;
const MESIBO_MSGSTATUS_CALLOUTGOING = 0x17;
const MESIBO_MSGSTATUS_CUSTOM = 0x20;
const MESIBO_MSGSTATUS_DELETED            = 0x21;
const MESIBO_MSGSTATUS_WIPED              = 0x22;
const MESIBO_MSGSTATUS_E2E                = 0x23;
const MESIBO_MSGSTATUS_DATETIME           = 0x24;
// to show message view header
const MESIBO_MSGSTATUS_HEADER             = 0x25;
const MESIBO_MSGSTATUS_EMPTY = 0x27;
const MESIBO_MSGSTATUS_FAIL = 0x80;
const MESIBO_MSGSTATUS_USEROFFLINE = 0x81;
const MESIBO_MSGSTATUS_INBOXFULL = 0x82;
const MESIBO_MSGSTATUS_INVALIDDEST = 0x83;
const MESIBO_MSGSTATUS_EXPIRED = 0x84;
const MESIBO_MSGSTATUS_BLOCKED = 0x88;
const MESIBO_MSGSTATUS_GROUPPAUSED = 0x90;

const MESIBO_READFLAG_READRECEIPT = 1;
const MESIBO_READFLAG_SENDLAST    = 2;
const MESIBO_READFLAG_FIFO        = 4;
const MESIBO_READFLAG_SUMMARY    = 0x10;
const MESIBO_READFLAG_SENDEOR    = 0x20;
const MESIBO_READFLAG_WITHFILES    = 0x80;

const MESIBO_RESULT_OK = 0;
const MESIBO_RESULT_FAIL = 0x80;
const MESIBO_RESULT_GENERROR = 0x81;
const MESIBO_RESULT_NOSUCHUSER = 0x83;
const MESIBO_RESULT_INBOXFULL = 0x84;
const MESIBO_RESULT_BADREQ = 0x85;
const MESIBO_RESULT_OVERCAPACITY = 0x86;
const MESIBO_RESULT_RETRYLATER = 0x87;

const MESIBO_RESULT_TIMEOUT = 0xB0;
const MESIBO_RESULT_CONNECTFAIL = 0xB1;
const MESIBO_RESULT_DISCONNECTED = 0xB2;
const MESIBO_RESULT_REQINPROGRESS = 0xB3;
const MESIBO_RESULT_BUFFERFULL = 0xB4;

const MESIBO_RESULT_AUTHFAIL = 0xC0;
const MESIBO_RESULT_DENIED = 0xC1;

const MESIBO_ORIGIN_REALTIME = 0;
const MESIBO_ORIGIN_DBMESSAGE = 1;
const MESIBO_ORIGIN_DBSUMMARY = 2;
const MESIBO_ORIGIN_DBPENDING = 3;
const MESIBO_ORIGIN_FILTER = 4;
const MESIBO_ORIGIN_MESSAGESTATUS = 5;

//Activity 0-1000 reserved for Mesibo
const MESIBO_PRESENCE_NONE = 0;
const MESIBO_PRESENCE_ONLINE = 1;
const MESIBO_PRESENCE_ONLINERESP = 2;
const MESIBO_PRESENCE_TYPING = 3;
const MESIBO_PRESENCE_TYPINGCLEARED = 4;
const MESIBO_PRESENCE_JOINED = 10;
const MESIBO_PRESENCE_LEFT = 11;

const MESIBO_CALLSTATUS_NONE                 = 0x00;
const MESIBO_CALLSTATUS_OFFER                = 0x01;
const MESIBO_CALLSTATUS_INPROGRESS           = 0x02;
const MESIBO_CALLSTATUS_RINGING              = 0x03;
const MESIBO_CALLSTATUS_ANSWER               = 0x05;
const MESIBO_CALLSTATUS_UPDATE               = 0x06;
const MESIBO_CALLSTATUS_DTMF                 = 0x07;
const MESIBO_CALLSTATUS_SDP                  = 0x08;
const MESIBO_CALLSTATUS_MUTE                 = 0x09;
const MESIBO_CALLSTATUS_UNMUTE               = 0x0A;
const MESIBO_CALLSTATUS_HOLD                 = 0x0B;
const MESIBO_CALLSTATUS_UNHOLD               = 0x0C;
const MESIBO_CALLSTATUS_PING                 = 0x21;
const MESIBO_CALLSTATUS_INFO                 = 0x23;
const MESIBO_CALLSTATUS_ECHO                 = 0x24;
const MESIBO_CALLSTATUS_REDIRECT             = 0x25;


// Phone Specific ERRORs
const MESIBO_CALLSTATUS_COMPLETE             = 0x40;
const MESIBO_CALLSTATUS_CANCEL               = 0x41;
const MESIBO_CALLSTATUS_NOANSWER             = 0x42;
const MESIBO_CALLSTATUS_BUSY                 = 0x43;
const MESIBO_CALLSTATUS_UNREACHABLE          = 0x44;
const MESIBO_CALLSTATUS_OFFLINE              = 0x45;
const MESIBO_CALLSTATUS_INVALIDDEST          = 0x46;
const MESIBO_CALLSTATUS_INVALIDSTATE         = 0x47;
const MESIBO_CALLSTATUS_NOCALLS              = 0x48;
const MESIBO_CALLSTATUS_NOVIDEOCALLS         = 0x49;
const MESIBO_CALLSTATUS_NOTALLOWED           = 0x4A;

//Local Status used by client
const MESIBO_CALLSTATUS_CHANNELUP            = 0x30;
const MESIBO_CALLSTATUS_QUALITY              = 0x31;
const MESIBO_CALLSTATUS_RECONNECTING         = 0x32;
const MESIBO_CALLSTATUS_SERVER               = 0x3A;

const MESIBO_CALLSTATUS_AUTHFAIL             = 0x50;
const MESIBO_CALLSTATUS_NOCREDITS            = 0x51;
const MESIBO_CALLSTATUS_NONTRINGMEDEST       = 0x52;
const MESIBO_CALLSTATUS_INCOMPATIBLE         = 0x53;
const MESIBO_CALLSTATUS_BADCALLID            = 0x54;

// Generic Errors
const MESIBO_CALLSTATUS_ERROR                = 0x60;
const MESIBO_CALLSTATUS_HWERROR              = 0x61;
const MESIBO_CALLSTATUS_NETWORKERROR         = 0x62;
const MESIBO_CALLSTATUS_NETWORKBLOCKED       = 0x63;

const MESIBOCALL_UI_STATE_SHOWINCOMING        = 1;
const MESIBOCALL_UI_STATE_SHOWINPROGRESS      = 2;
const MESIBOCALL_UI_STATE_SHOWCONTROLS        = 3;
const MESIBOCALL_UI_STATE_ANSWERED            = 4;

const MESIBOCALL_HANGUP_REASON_USER      = 1;
const MESIBOCALL_HANGUP_REASON_REMOTE    = 2;
const MESIBOCALL_HANGUP_REASON_ERROR     = 3;
const MESIBOCALL_HANGUP_REASON_BACKGROUND     = 4;

const MESIBOCALL_CODEC_VP8      =     1;
const MESIBOCALL_CODEC_VP9      =     2;
const MESIBOCALL_CODEC_H264      =    4;
const MESIBOCALL_CODEC_H265      =    8;
const MESIBOCALL_CODEC_OPUS      = 0x100;

// we are using 1 for all camera for desktops
const MESIBOCALL_VIDEOSOURCE_CAMERADEFAULT      =    1;
const MESIBOCALL_VIDEOSOURCE_CAMERAFRONT      =    1;
const MESIBOCALL_VIDEOSOURCE_CAMERAREAR      = 1;
const MESIBOCALL_VIDEOSOURCE_SCREEN      = 0x4;

const MESIBO_FILETYPE_AUTO = 0;
const MESIBO_FILETYPE_IMAGE = 1;
const MESIBO_FILETYPE_VIDEO = 2;
const MESIBO_FILETYPE_AUDIO = 3;
const MESIBO_FILETYPE_LOCATION = 4;
const MESIBO_FILETYPE_PROFILEIMAGE = 5;
const MESIBO_FILETYPE_PROFILETHUMBNAIL = 6;
const MESIBO_FILETYPE_OTHER = 10;

const MESIBO_MEMBERFLAG_SEND  = 1;
const MESIBO_MEMBERFLAG_RECV  = 2;
const MESIBO_MEMBERFLAG_PUBL  = 4;
const MESIBO_MEMBERFLAG_SUBS  = 8;
const MESIBO_MEMBERFLAG_LIST  = 0x10;
const MESIBO_MEMBERFLAG_RECORD = 0x20;
const MESIBO_MEMBERFLAG_ADMIN  = 0x1000;
const MESIBO_MEMBERFLAG_NOTIFYONLYNEW  = 0x2000;
const MESIBO_MEMBERFLAG_SHAREDPIN      = 0x8000;
const MESIBO_MEMBERFLAG_ALL      =      0xFFFF;

const MESIBO_ADMINFLAG_MODIFY      = 1;
const MESIBO_ADMINFLAG_ADDUSER     = 0x10;
const MESIBO_ADMINFLAG_REMUSER     = 0x20;
const MESIBO_ADMINFLAG_ADDADMIN    = 0x40;
const MESIBO_ADMINFLAG_REMADMIN    = 0x80;
const MESIBO_ADMINFLAG_REMOWNER    = 0x100;
const MESIBO_ADMINFLAG_REMGROUP    = 0x200;
const MESIBO_ADMINFLAG_CALLCONTROL = 0x400;
const MESIBO_ADMINFLAG_HANGUP      = 0x800;
const MESIBO_ADMINFLAG_OWNER       = 0x1000;
const MESIBO_OWNERFLAG_ALL         = 0xFFFF;
const MESIBO_ADMINFLAG_ALL         = (MESIBO_OWNERFLAG_ALL & ~MESIBO_ADMINFLAG_OWNER)

const MESIBO_ONLINEMODE_LOGIN         = 1
const MESIBO_ONLINEMODE_FOREGROUND    = 2
const MESIBO_ONLINEMODE_MANUAL        = 3
const MESIBO_ONLINEMODE_NEVER        = 4

const MESIBO_ONLINESTATUS_PUBLIC                = 0
const MESIBO_ONLINESTATUS_CONTACTS              = 1
const MESIBO_ONLINESTATUS_MANUAL                = 2

const MESIBO_GROUPFLAG_SENDBYSELECTED     = 1;
const MESIBO_GROUPFLAG_SENDBYANYONE       = 2;
const MESIBO_GROUPFLAG_AUTOADDMEMBER      = 8;
const MESIBO_GROUPFLAG_RECVBYSELECTED     = 0x10;
const MESIBO_GROUPFLAG_RECVROUNDROBIN     = 0x20;
const MESIBO_GROUPFLAG_NOSTORAGE          = 0x40;
const MESIBO_GROUPFLAG_RECVLOOPBACK       = 0x80;
const MESIBO_GROUPFLAG_PUBBYSELECTED      = 0x100;
const MESIBO_GROUPFLAG_PUBBYANYONE        = 0x200;
const MESIBO_GROUPFLAG_SUBBYSELECTED      = 0x1000;
const MESIBO_GROUPFLAG_SUBBYANYONE        = 0x2000;
const MESIBO_GROUPFLAG_LISTBYSELECTED     = 0x10000;
const MESIBO_GROUPFLAG_LISTBYANYONE       = 0x20000;
const MESIBO_GROUPFLAG_NOSELFDELETE       = 0x40000;
const MESIBO_GROUPFLAG_PAUSE      =     0x8000000;

const MESIBO_GROUP_SUBSCRIBERS                = 2
const MESIBO_GROUP_KNOWNSUBSCRIBERS           = 3
const MESIBO_GROUP_PROVSUBSCRIBERS            = 4
const MESIBO_GROUP_KNOWNPROVSUBSCRIBERS       = 5
const MESIBO_GROUP_SUBSCRIBERSALL             = 6
const MESIBO_GROUP_KNOWNSUBSCRIBERSALL        = 7
const MESIBO_GROUP_CONTACTS                   = 8
const MESIBO_GROUP_CONTACTSUBSCRIBERS         = 9
const MESIBO_GROUP_SUBSCRIBED                 = 10
const MESIBO_GROUP_PROVSUBSCRIBED             = 11

const MESIBO_GROUPERR_NOTMEMBER       = 1
const MESIBO_GROUPERR_PERMISSION      = 2
const MESIBO_GROUPERR_BADPIN          = 3
const MESIBO_GROUPERR_ACCESSDENIED    = 4
const MESIBO_GROUPERR_NOTSHAREDPIN    = 5
const MESIBO_GROUPERR_GENERAL         = 10
const MESIBO_GROUPERR_DELETED         = 11

const MESIBO_RESOLUTION_DEFAULT  	= 	0;
const MESIBO_RESOLUTION_QVGA       =      1;
const MESIBO_RESOLUTION_VGA        =      2;
const MESIBO_RESOLUTION_HD         =      3;
const MESIBO_RESOLUTION_FHD        =      4;
const MESIBO_RESOLUTION_4K         =      5;
const MESIBO_RESOLUTION_QQVGA      =      8;
const MESIBO_RESOLUTION_180P       =      9;
const MESIBO_RESOLUTION_NHD        =      10;
const MESIBO_RESOLUTION_MAX        =      10;

const MESIBO_GROUPCALLFLAG_VALID          = 1;
const MESIBO_GROUPCALLFLAG_AUDIO          = 2;
const MESIBO_GROUPCALLFLAG_VIDEO          = 4;
const MESIBO_GROUPCALLFLAG_DATA           = 8;
const MESIBO_GROUPCALLFLAG_SCREEN         = 0x100;
const MESIBO_GROUPCALLFLAG_SIMULCAST      = 0x200;
const MESIBO_GROUPCALLFLAG_SIMULCAST2     = 0x400;
const MESIBO_GROUPCALLFLAG_4_3            = 0x800;
const MESIBO_GROUPCALLFLAG_RECORD         = 0x1000 ;
const MESIBO_GROUPCALLFLAG_TALKING        = 0x8000;
const MESIBO_GROUPCALLFLAG_FIXEDBITRATE   = 0x10000;
const MESIBO_GROUPCALLFLAG_FIXEDRESOLUTION  =      0x20000;
const MESIBO_GROUPCALLFLAG_FIXEDFRAMERATE = 0x40000;
const MESIBO_GROUPCALLFLAG_PREFER264      = 0x80000;
const MESIBO_GROUPCALLFLAG_DEFAULT          = (MESIBO_GROUPCALLFLAG_AUDIO|MESIBO_GROUPCALLFLAG_VIDEO|MESIBO_GROUPCALLFLAG_VIDEO|MESIBO_GROUPCALLFLAG_TALKING);


const MESIBO_RETRACT_MODIFY       = 1
const MESIBO_RETRACT_WIPE         = 2
const MESIBO_RETRACT_DELETE       = 4
const MESIBO_RETRACT_DELUNREAD    = 0x10
const MESIBO_RETRACT_DELREAD      = 0x20
const MESIBO_RETRACT_DELMEDIA     = 0x40
const MESIBO_RETRACT_DELTHREAD    = 0x80
const MESIBO_RETRACT_DELALL       = 0x100

const MESIBO_FILESOURCE_MESSAGE = 0;
const MESIBO_FILESOURCE_PROFILE = 1;
const MESIBO_FILESOURCE_GROUPPROFILE = 2;
const MESIBO_FILESOURCE_THUMBNAIL = 3;
const MESIBO_FILESOURCE_UNKNOWN = 99;
const MESIBO_FILESOURCE_CUSTOM = 100;
Mesibo.prototype['build_date'] = function() { return 'Feb 28, 2024 18:00 GMT' ;}
console.log('mesibo messaging, call and conferencing API version: 2.4.2 Build: Feb 28, 2024 18:00 GMT');
